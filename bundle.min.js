$.extend({deWrap:function(content){var cleanEmptyTags=function(content){var buffer=$('<div></div>').html(content);buffer.find('*').not('img').each(function(){if($.trim($(this).text())===''&&$(this).is(':not(br, hr)')&&$(this).children().length===0){$(this).remove()}});return buffer.html()};var allowedTags=["h1","h2","h3","h4","p","img","a","strong","b","i","ul","ol","li"];content=content.replace(/&nbsp;|&#160;|&#xa0;/gi,' ');content=content.replace(/\s+/g,' ');content=content.trim();if(!content.trim().startsWith('<')){content='<p>'+content+'</p>'}
let obj=$('<div></div>');$(obj).html(content);$(obj).find("*").not(allowedTags.join()).each(function(){var $this=$(this);$this.contents().unwrap()});return cleanEmptyTags($(obj).html())},isEmpty:function(master){let content=$(master).html().trim();if(!content)return!0;var regex=/^<[^>]+>$/;return!regex.test(content)},distinct:function(anArray){var result=[];$.each(anArray,function(i,v){if($.inArray(v,result)==-1)result.push(v);});return result},scroller:function(){$('#middle').addClass('fading');setTimeout(function(){$("html, body").stop().animate({scrollTop:0},500)},300);setTimeout(function(){$('#middle').removeClass('fading')},800)},renderTable:function(id=null){let element=document.getElementById(id),container=$('<div id="'+id+'_'+'graph" ></div>');$(container).insertAfter(element)
html2canvas(element,{onrendered:function(canvas){var imgData=canvas.toDataURL("image/jpeg");var imgElement=document.createElement('img');imgElement.src=imgData;document.getElementById(id+"_graph").appendChild(imgElement);element.remove()}})},wrapArray:function(maybeArray){let response=Array.isArray(maybeArray)&&maybeArray.length>0?maybeArray[0]:maybeArray;try{return maybeArray[0]}catch(e){console.log(maybeArray);return!1}},checkArray:function(maybeArray){if(!maybeArray){return[]}else if(typeof maybeArray==='string'){return maybeArray.split(',')}else if(Array.isArray(maybeArray)){return maybeArray}else{return[maybeArray.toString()]}},getType:function(obj){if(Array.isArray(obj))return'array';else if(typeof obj=='string')return'string';else if(obj!=null&&typeof obj=='object')return'object';else return'other'},isJson:function(obj=null){return obj!=null&&typeof obj=='object'?!0:!1},whatIsIt:function(object){var stringConstructor="test".constructor;var arrayConstructor=[].constructor;var objectConstructor=({}).constructor;if(object===null){return"null"}
if(object===undefined){return"undefined"}
if(object.constructor===stringConstructor){return"String"}
if(object.constructor===arrayConstructor){return"Array"}
if(object.constructor===objectConstructor){return"Object"}
{return"don't know"}}});jQuery.fn.hasAttr=function(name){return this.attr(name)!==undefined};jQuery.fn.hasData=function(name){return(this.data(name)||this.attr('data-'+name))!==undefined};jQuery.fn.isTag=function(name){if(this)return this.prop("tagName").toLowerCase()==name.toLowerCase()?!0:!1};jQuery.fn.Tag=function(){return this.prop("tagName").toLowerCase()};jQuery.fn.isEmptyTag=function(){var content=$(this).html().trim();var regex=/^<[^>]+>$/;return!content||regex.test(content)};const observer=new MutationObserver((mutationsList)=>{for(const mutation of mutationsList){if(mutation.addedNodes){mutation.addedNodes.forEach((node)=>{if(node.querySelector){node.querySelectorAll('editor-squiggler').forEach((el)=>{el.remove()})}})}}});observer.observe(document.body,{childList:!0,subtree:!0});var Tool,Stuff,Brand,AX,Navigation,_Log;(function($){'use strict';var _v='1.1.0';$.WOLF={json:{},data:{},init:function(){if(window.performance){var __start=new Date().getTime();window.addEventListener("load",function(){const lang=jQuery('html').hasAttr('lang')?jQuery('html').attr('lang'):'en';setTimeout(function(){jQuery('#pre_inner').fadeOut(800,function(){$('#pre_loader').fadeOut(800,function(){})})},1200);setTimeout(function(){$('html').removeClass('isLoading')},100)});window.addEventListener("beforeunload",function(event){});window.addEventListener("resize",function(event){$.WOLF.onresize()})}
$(document).ready(function(){$.WOLF.translate.init('de');Tool=$.WOLF.tooltip=$.WOLF.vendor.wolftip,Stuff=$.WOLF.modalstuff,Brand=$.WOLF.brand,AX=$.WOLF.admin,_Log=$.WOLF.log,Navigation=$.WOLF.navy;$.WOLF.startUp.get_cookies();$.WOLF.startUp.get_browser();$.WOLF.startUp.get_touchable();$.WOLF.startUp.get_device();$.WOLF.startUp.get_breakpoint();$.WOLF.startUp.get_orientation();$.WOLF.startUp.set_features();$.WOLF.startUp.enable_scrolling();$.WOLF.onresize();$.WOLF.reinit();$.WOLF.navy.init();if($('body').hasClass('is_login')){if(Value.get('code')){_Log.switcher('code');$('#codeChecker').click()}}else{if($('body').hasClass('staffModus')||$('body').hasClass('superModus')){$('.startStaff').click()}else if($('body').hasClass('teacherModus')||$('body').hasClass('studentModus')){if($('body').data('semAll')===1){if($('body').data('semId')&&$('body').data('semName')){setTimeout(function(){Navigation.switchSeminar($('body').data('semId'),$('body').data('semName'),$('body').data('semBrand'));AX.site('_course1/home');$('#multiSeminar').hide()},1)}}else{AX.site('basics/events','show',{'action':'personallist'})}}}
return setTimeout(function(){$('html').removeClass('isLoading')},1000)})},globals:{direction:$('body').css('direction'),width:$(window).width(),height:$(window).height(),is_modern_browser:('querySelector' in document&&'localStorage' in window&&'addEventListener' in window),is_mobile:($(window).width()<993)?!0:!1,is_admin:$('body').hasClass('layout-admin')?!0:!1,ajax_container:'body',page_first_load:!0,js_location:'/_cnd/vendor/',css_location:'/_cnd/vendor/',cookie_secure:'SameSite=None; secure',breakpoints:{'sm':576,'md':768,'lg':992,'xl':1200},elBody:$('body'),elHeader:($('#header').length>0)?$('#header'):null,elAside:($('#aside-main').length>0)?$('#aside-main'):null,},core:{},vendor:{},helper:{},custom:{},onresize:function(){jQuery(window).resize(function(){if(window.afterResizeApp)
clearTimeout(window.afterResizeApp);window.afterResizeApp=setTimeout(function(){$.WOLF.globals.width=jQuery(window).width();$.WOLF.globals.height=jQuery(window).height();$.WOLF.globals.is_mobile=($(window).width()<993)?!0:!1;$.WOLF.startUp.get_device();$.WOLF.startUp.get_breakpoint();$.WOLF.startUp.get_orientation()},150)})},reinit:function(ajax_container){for(var index in $.WOLF.config.autoinit){$.WOLF.helper.executeFunctionByName($.WOLF.config.autoinit[index][0],window,$.WOLF.config.autoinit[index][1],$.WOLF.config.autoinit[index][2])}},};$.WOLF.init()})(jQuery);(function($){'use strict';$.WOLF.config={}})(jQuery);(function($){'use strict';var scriptInfo='Wolfi Toast';$.WOLF.core.toast={config:{animation:'fade'},collection:$(),init:function(selector,config){var __selector=$.WOLF.helper.__selector(selector);var __config=$.WOLF.helper.check_var(config);this.selector=__selector[0];this.collection=__selector[1];this.config=(__config!==null)?$.extend({},this.config,__config):this.config;if(jQuery(this.selector).length<1)
return;$.WOLF.helper.consoleLog('Init : '+scriptInfo);if(!this.selector){$.WOLF.core.toast.toast_on_load('.toast-on-load');return this.collection}
return this.collection.each(function(){$.WOLF.core.toast.toast_on_load($(this));$(this).on('hidden.bs.toast',function(){$(this).remove()})})},show:function(t_type,t_title,t_body,t_pos,t_delay,t_bg_fill){var t_type=typeof t_type!=='undefined'?t_type:'',t_title=typeof t_title!=='undefined'?t_title:'',t_body=typeof t_body!=='undefined'?t_body:'',t_pos=typeof t_pos!=='undefined'?t_pos:'top-left',t_delay=typeof t_delay!=='undefined'?t_delay:0,t_bg_fill=typeof t_bg_fill!=='undefined'?t_bg_fill:!1;if(t_type=='error')
var t_type='danger';else if(t_type=='default')
var t_type='';if(t_body==''&&t_title!=''){var t_body=t_title;var t_title=''}
if(t_pos=='top-right'||t_pos=='top-end'){var _posClass='fixed-top end-0';var _wrapperID='wrapper_toast_tr';var t_spacing='mt-3 me-4'}else if(t_pos=='bottom-right'||t_pos=='bottom-end'){var _posClass='fixed-bottom end-0';var _wrapperID='wrapper_toast_br';var t_spacing='mb-3 me-4'}else if(t_pos=='top-left'||t_pos=='top-start'){var _posClass='fixed-top start-0';var _wrapperID='wrapper_toast_tl';var t_spacing='mt-3 ms-4'}else if(t_pos=='bottom-left'||t_pos=='bottom-start'){var _posClass='fixed-bottom start-0';var _wrapperID='wrapper_toast_bl';var t_spacing='mb-3 ms-4'}
if(t_pos=='top-center'){var _posClass='fixed-top mx-auto';var _wrapperID='wrapper_toast_tc';var t_spacing='mt-3'}
if(t_pos=='bottom-center'){var _posClass='fixed-bottom mx-auto';var _wrapperID='wrapper_toast_bc';var t_spacing='mb-3'}
var t_icon=(t_type!='')?'<i class="float-start rounded-circle bg-'+t_type+'" style="width:15px;height:15px;margin-top:3px"></i>':'';var t_delay_bs=(t_delay>0)?' data-delay="'+t_delay+'" data-autohide="true"':' data-autohide="false" ';if(t_delay>0){var t_close='';var t_progress='<div style="margin-top:-1px"><div class="progress bg-transparent" style="height:1px"><div class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 100%; background-color: #121212; opacity:0.2"></div></div></div>'}else{var _btnCloseStyle=(t_title=='')?' font-size:10px; margin-top:-1px; ':'';var t_close='<button type="button" style="'+_btnCloseStyle+'" class="close float-end" data-bs-dismiss="toast" aria-label="Close"><span class="fi fi-close" style="font-size:16px" aria-hidden="true"></span></button>';var t_progress=''}
if(jQuery('#'+_wrapperID).length<1)
$.WOLF.globals.elBody.append('<div id="'+_wrapperID+'" style="max-width:330px;max-height:75vh;z-index:9999;" class="w-100 scrollable-vertical rounded '+_posClass+'"></div>');var t_main_class=(t_bg_fill===!0&&t_type!='')?'border-0 bg-'+t_type:'bg-white';var _toastBody='<div class="toast bg-gradient borer-0 js-toast '+$.WOLF.core.toast.config.animation+' '+t_main_class+' '+t_spacing+'" role="alert" aria-live="polite" aria-atomic="true" '+t_delay_bs+'>';if(t_title!=''){t_icon=(t_bg_fill===!0)?'':t_icon;var t_header_class=(t_bg_fill===!0&&t_type!='')?' bg-transparent overlay-dark overlay-opacity-1 text-white':'';var _toastBody=_toastBody+'<div class="toast-header px-3'+t_header_class+'">'+'<div class="w-100 text-truncate">'+t_icon+'<strong>'+t_title+'</strong>'+'</div>'+'<div class="text-align-end" style="width:180px">'+t_close+'</div>'+'</div>'}
var _closeBtnBody=(t_title=='')?t_close:'';if(t_title==''){if(t_bg_fill===!0&&(t_type=='success-soft'||t_type=='danger-soft'||t_type=='info-soft'||t_type=='warning-soft'||t_type=='primary-soft'||t_type=='pink-soft'||t_type=='indigo-soft')){var t_txt_color=''}else{var t_txt_color=(t_bg_fill===!0&&t_type!='')?'text-white':'text-'+t_type}
var t_body='<div class="'+t_txt_color+'">'+t_body+'</div>'}else{var t_body=(t_bg_fill===!0&&t_type!='')?'<div class="text-white" style="padding-top:5px; padding-bottom:10px;">'+t_body+'</div>':t_body}
var _toastBody=_toastBody+t_progress+'<div class="toast-body p-3">'+_closeBtnBody+t_body+'</div>'+'</div>';jQuery('#'+_wrapperID).prepend(_toastBody);jQuery('#'+_wrapperID+' .js-toast:not(.hide)').toast('show');if(t_delay>0)
jQuery('#'+_wrapperID+' .js-toast:not(.hide):first-child .progress>.progress-bar').filter(':not(:animated)').stop().animate({width:'100%'},0).stop().animate({width:'0%'},t_delay);setTimeout(function(){jQuery('#'+_wrapperID+' .js-toast.hide').remove()},t_delay+300)},toast_on_load:function(_this){_this.each(function(){var _t=jQuery(this),_type=_t.data('toast-type')||'',_title=_t.data('toast-title')||'',_body=_t.data('toast-body')||'',_delay=_t.data('toast-delay')||0,_pos=_t.data('toast-pos')||'top-right',_fill=_t.data('toast-fill')||!0;_fill=(_fill!=!0)?!1:!0;$.WOLF.core.toast.show(_type,_title,_body,_pos,_delay,_fill);_t.remove()})},destroy:function(){jQuery('#wrapper_toast_tr, #wrapper_toast_br, wrapper_toast_tl, #wrapper_toast_bl, #wrapper_toast_tc, #wrapper_toast_bc').remove()}}})(jQuery);(function($){'use strict';var scriptInfo='SOW Utils';var timeAgoList=[];var slideshowList={};window.barcodeInterval=null;window.barcodeLast='';$.WOLF.core.utils={config:{selector__initialFromString:'.sow-util-initials',selector__timeAgo:'.sow-util-timeago',selector__cookie:'.sow-util-cookie',selector__slideshow:'.sow-util-slideshow',selector__cloner:'.sow-util-cloner',selector__action:'.sow-util-action',selector__form:'.sow-util-form',selector__formLiveMonitor:'.sow-util-form-live-monitor',selector__liveReload:'.sow-util-live-reload',method:'GET',contentType:'',dataType:'',headers:'',crossDomain:'',data_params:{ajax:'true'},lang__timeAgo:{seconds:"less than a minute ago",minute:"about a minute ago",minutes:"%d minutes ago",hour:"about an hour ago",hours:"about %d hours ago",day:"a day ago",days:"%d days ago",month:"about a month ago",months:"%d months ago",year:"about a year ago",years:"%d years ago"},},init:function(selector,config){var __selector=$.WOLF.helper.__selector(selector);this.selector=__selector[0];$.WOLF.core.utils.initialsFromString(this.selector+' '+$.WOLF.core.utils.config.selector__initialFromString);$.WOLF.core.utils.timeAgo(this.selector+' '+$.WOLF.core.utils.config.selector__timeAgo);$.WOLF.core.utils.cookieUtil(this.selector+' '+$.WOLF.core.utils.config.selector__cookie);$.WOLF.core.utils.slideshow(this.selector+' '+$.WOLF.core.utils.config.selector__slideshow);$.WOLF.core.utils.cloner(this.selector+' '+$.WOLF.core.utils.config.selector__cloner);$.WOLF.core.utils.UtilAction(this.selector+' '+$.WOLF.core.utils.config.selector__action);$.WOLF.core.utils.UtilForm(this.selector+' '+$.WOLF.core.utils.config.selector__form);$.WOLF.core.utils.UtilFormLiveMonitor(this.selector+' '+$.WOLF.core.utils.config.selector__formLiveMonitor);$.WOLF.core.utils.UtilLiveReload(this.selector+' '+$.WOLF.core.utils.config.selector__liveReload);return null},initialsFromString:function(selector){var el=jQuery(selector),loaded=!1;if(el.length<1)
return;el.not('.js-sowformstringified').addClass('js-sowformstringified').each(function(selector){var _t=jQuery(this),fullName=_t.data('initials')||'',assignColor=jQuery(this).attr('data-assign-color')||'false';if(fullName=='')
return!1;if(assignColor+''=='true'){var hash=0,s=70,l=90;for(var i=0;i<fullName.length;i++){hash=fullName.charCodeAt(i)+((hash<<5)-hash)}
var h=hash%360;_t.removeClass('bg-light').css({"background":'hsl('+h+', '+s+'%, '+l+'%)'})}
var initials=fullName.match(/\b\w/g)||[];initials=((initials.shift()||'')+(initials.pop()||'')).toUpperCase();_t.text(initials).removeAttr('data-initials data-assign-color');loaded=!0});if(loaded===!0)
$.WOLF.helper.consoleLog('Init : '+scriptInfo+' : Initials From String');},timeAgo:function(selector){var el=jQuery(selector),loaded=!1;if(el.length<1)
return;var langBySpan=jQuery('span.sow-util-timeago-lang').data('lang')||'';if(typeof langBySpan==='object')
$.WOLF.core.utils.config.lang__timeAgo=langBySpan;if(typeof sow_util_timeago_lang==='object')
$.WOLF.core.utils.config.lang__timeAgo=sow_util_timeago_lang;el.not('.js-sowtimeagofied').addClass('js-sowtimeagofied').each(function(selector){var _t=jQuery(this),time=_t.data('time')||_t.attr('datetime'),live=_t.attr('data-live')||'false',lang=_t.data('lang')||'',ID=_t.attr('id')||'';if(!time)
return
if(typeof lang==='object')
$.WOLF.core.utils.config.lang__timeAgo=lang;if(ID==''){var ID='rand_'+$.WOLF.helper.randomStr(3,'N');_t.attr('id',ID)}
$.WOLF.core.utils.timeAgoLooper(_t,ID);if(live+''=='true'){timeAgoList[ID]=setInterval(function(){$.WOLF.core.utils.timeAgoLooper(_t,ID)},60000)}
loaded==!0});if(loaded===!0)
$.WOLF.helper.consoleLog('Init : '+scriptInfo+' : Time Ago');},timeAgoLooper:function(_t,ID){var time=_t.data('time')||_t.attr('datetime');var templates=$.WOLF.core.utils.config.lang__timeAgo;var template=function(t,n){return templates[t]&&templates[t].replace(/%d/i,Math.abs(Math.round(n)))};if(typeof time==='string'){time=time.replace(/\.\d+/,"");time=time.replace(/-/,"/").replace(/-/,"/");time=time.replace(/T/," ").replace(/Z/," UTC");time=time.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2");time=time.replace(/([\+\-]\d\d)$/," $100")}
var time=new Date(time*1000||time);var now=new Date();var seconds=((now.getTime()-time)*.001)>>0;var minutes=seconds/60;var hours=minutes/60;var days=hours/24;var years=days/365;var finalTime=(seconds<45&&template('seconds',seconds)||seconds<90&&template('minute',1)||minutes<45&&template('minutes',minutes)||minutes<90&&template('hour',1)||hours<24&&template('hours',hours)||hours<42&&template('day',1)||days<30&&template('days',days)||days<45&&template('month',1)||days<365&&template('months',days/30)||years<1.5&&template('year',1)||template('years',years));_t.text(finalTime);if(typeof timeAgoList[ID]!=='undefined'&&(days>3||years>1))
clearInterval(timeAgoList[ID]);},cookieUtil:function(selector){var el=jQuery(selector);if(el.length<1)
return;el.not('.js-sowcookiefied').addClass('js-sowcookiefied').on('click',function(e){e.preventDefault();var _t=jQuery(this),_set=_t.data('cookie-set')||'',_del=_t.data('cookie-del')||'',_toggle=_t.data('cookie-toggle')||'',_val=_t.data('cookie-val')||'1',_expire=_t.data('cookie-expire')||'7',_path=_t.data('cookie-path')||'/',toastMsgSet=_t.data('toast-msg-set')||'',toastMsgDel=_t.data('toast-msg-del')||'',toastMsgPos=_t.data('toast-msg-pos')||'top-center',toastTypeSet=_t.data('toast-msg-type-set')||'success',toastTypeDel=_t.data('toast-msg-type-del')||'success',toastMsg='',toastType='';if(_set!=''){Cookies.set(_set,_val,{expires:_expire,path:_path});toastMsg=toastMsgSet;toastType=toastTypeSet}else if(_del!=''){Cookies.remove(_del,{path:_path});toastMsg=toastMsgDel;toastType=toastTypeDel}else if(_toggle!=''){var chkCookie=Cookies.get(_toggle,{path:_path});if(!chkCookie){Cookies.set(_toggle,_val,{expires:_expire,path:_path});toastMsg=toastMsgSet;toastType=toastTypeSet}else{Cookies.remove(_toggle,{path:_path});toastMsg=toastMsgDel;toastType=toastTypeDel}}
if(toastMsg!=''&&typeof $.WOLF.core.toast==='object'){$.WOLF.core.toast.destroy();$.WOLF.core.toast.show(toastType,'',toastMsg,toastMsgPos,1500,!0)}})},slideshow:function(selector){var el=jQuery(selector),loaded=!1;if(el.length<1)
return;el.each(function(){var _t=jQuery(this),dataBgs=_t.data('sow-slideshow')||'',dataBgsXs=_t.data('sow-slideshow-xs')||'',dataInterval=_t.data('sow-slideshow-interval')||4000,dataFadeDelay=_t.data('sow-slideshow-fade-delay')||1500,slideRand='sow_'+$.WOLF.helper.randomStr(3,'L');if($.WOLF.globals.is_mobile===!0&&dataBgsXs.length>10)
dataBgs=dataBgsXs;if(dataBgs.length<10)
return!1;_t.removeAttr('data-sow-slideshow');_t.prepend('<div id="'+slideRand+'" class="sow-slideshow absolute-full z-index-0"></div>');var arrImgs=dataBgs.split(',');slideshowList[slideRand]={};slideshowList[slideRand].current=0;slideshowList[slideRand].itemsCount=0;slideshowList[slideRand].timeOutInstance;for(var i=0;i<arrImgs.length;i++){var _class_=(i===0)?'sow-slideshow-current':'';var _display_=(i===0)?'':'display:none;';var imgInstance=new Image();imgInstance.src=arrImgs[i];imgInstance.onload=function(e){}
imgInstance.onerror=function(e){}
jQuery('#'+slideRand).prepend('<span class="sow-slideshow-item sow-slideshow-item-'+i+' absolute-full bg-cover '+_class_+'" style="z-index:0;'+_display_+'background-image:url('+imgInstance.src+')"></span>');slideshowList[slideRand].itemsCount++}
if(arrImgs.length<2)
return!1;slideLooper();function slideLooper(){slideshowList[slideRand].timeOutInstance=setTimeout(function(){var next=slideshowList[slideRand].current+1;if(next>=slideshowList[slideRand].itemsCount)
next=0;jQuery('#'+slideRand+' span.sow-slideshow-item-'+slideshowList[slideRand].current).fadeOut(dataFadeDelay);jQuery('#'+slideRand+' span.sow-slideshow-item-'+next).fadeIn(dataFadeDelay);slideshowList[slideRand].current=next;slideLooper()},dataInterval)}
function onVisibilityChanged(){if(document.hidden||document.mozHidden||document.webkitHidden||document.msHidden){clearTimeout(slideshowList[slideRand].timeOutInstance)}else{slideshowList[slideRand].timeOutInstance=setTimeout(slideLooper,dataInterval)}}
document.addEventListener("visibilitychange",onVisibilityChanged,!1);document.addEventListener("mozvisibilitychange",onVisibilityChanged,!1);document.addEventListener("webkitvisibilitychange",onVisibilityChanged,!1);document.addEventListener("msvisibilitychange",onVisibilityChanged,!1);loaded=!0});if(loaded===!0)
$.WOLF.helper.consoleLog('Init : '+scriptInfo+' : Slideshow');},cloner:function(selector){var el=jQuery(selector);if(el.length<1)
return;el.not('.js-sowclonified').addClass('js-sowclonified').on('click',function(e){e.preventDefault();var _t=jQuery(this),_target=_t.data('clone-target')||'',_destination=_t.data('clone-destination')||'',_cloneLimit=_t.data('clone-limit')||0,_cloneMethod=_t.data('clone-method')||'append',_initSortable=_t.attr('data-clone-sortable')||'false';if(_target==''||_destination=='')
return null;var clone=jQuery(_target).clone();clone.addClass('js-cloned js-cloned-fresh');var _noOfClones=jQuery('.js-cloned',_destination).length,_cloneLimit=Number(_cloneLimit);if(_cloneMethod=='prepend')
jQuery(_destination).prepend(clone);else jQuery(_destination).append(clone);jQuery('.js-cloned-fresh input[type=text], .js-cloned-fresh input[type=email], .js-cloned-fresh input[type=number], .js-cloned-fresh textarea',_destination).not('.js-ignore').not('.js-clean-ignore').val('');jQuery('.js-cloned-fresh [data-cloned-replace-class]',_destination).each(function(){var __t=jQuery(this);__t.removeAttr('class').attr('class',__t.data('cloned-replace-class')).removeAttr('data-cloned-replace-class')});jQuery('.js-cloned-fresh [data-cloned-replace-name]',_destination).each(function(){var __t=jQuery(this),_newName=__t.data('cloned-replace-name')||'item[$][]',_newName=_newName.replace('[$]','['+Number(_noOfClones)+']');__t.removeAttr('name').attr('name',_newName).removeAttr('data-cloned-replace-name')});jQuery('.js-cloned-fresh [data-cloned-replace-attribute-name]',_destination).each(function(){var __t=jQuery(this),_attrName=__t.data('cloned-replace-attribute-name')||'',_attrValue=__t.data('cloned-replace-attribute-value')||'',_attrValue=_attrValue.replace('[$]','['+Number(_noOfClones)+']');__t.removeAttr(_attrName).attr(_attrName,_attrValue).removeAttr('data-cloned-replace-attribute-name, data-cloned-replace-attribute-value')});jQuery('.js-cloned-fresh '+selector+', .js-cloned-fresh .btn-clone-remove').removeClass('sow-util-cloner').on('click',function(e){e.preventDefault();jQuery(this).parents('.js-cloned').remove();_t.removeClass('disabled').prop('disabled',!1)});jQuery('.js-cloned-fresh',_destination).removeClass('js-cloned-fresh');if(_initSortable+''=='true'){if(typeof $.WOLF.vendor.sortable==='object')
$.WOLF.vendor.sortable.init(_destination,null);}
$.WOLF.reinit(_destination);if(_cloneLimit>0&&_noOfClones>=Number(_cloneLimit-1))
_t.addClass('disabled').prop('disabled',!0);});jQuery('.js-cloned').not('.js-clonedbounded').addClass('js-clonedbounded').each(function(){var _href=jQuery('a[data-clone-target]',jQuery(this));_href.on('click',function(e){e.preventDefault();var _target=jQuery(this).data('clone-target')||'';if(_target=='')return;jQuery(this).parents('.js-cloned').remove();jQuery('.sow-util-cloner',_target).removeClass('disabled').prop('disabled',!1);jQuery('a[data-clone-destination="'+_target+'"]').removeClass('disabled').prop('disabled',!1)})});el.each(function(){var _t=jQuery(this),_cloneLimit=_t.data('clone-limit')||0,_cloneLimit=Number(_cloneLimit),_destination=_t.data('clone-destination')||'',_noOfClones=jQuery('.js-cloned',_destination).length;if(_cloneLimit>0&&_noOfClones>=_cloneLimit)
_t.addClass('disabled').prop('disabled',!0);})},UtilAction:function(selector){var el=jQuery(selector);if(el.length<1)
return;if(el.hasClass('js-sowutilified'))
return;el.not('.js-sowutilified').addClass('js-sowutilified').on('click',function(e){var _t=jQuery(this),_showLoadingIcon=_t.attr('data-ajax-show-loading-icon')||'true',_targetSelfIgnore=_t.attr('data-util-self-ignore')||'false',_targetHide=_t.data('util-target-hide')||'',_targetShow=_t.data('util-target-show')||'',_targetClassAdd=_t.data('util-target-class-add')||'',_targetClassAddVal=_t.data('util-target-class-add-val')||'',_targetClassDel=_t.data('util-target-class-remove')||'',_targetClassDelVal=_t.data('util-target-class-remove-val')||'',_targetClassToggle=_t.data('util-target-class-toggle')||'',_targetClassToggleVal=_t.data('util-target-class-toggle-val')||'',_targetInput=_t.data('util-target-input')||'',_targetInputVal=_t.data('util-target-input-val')||'',_targetPlaceholder=_t.data('util-target-placeholder')||'',_targetPlaceholderVal=_t.data('util-target-placeholder-val')||'',_targetReadonlyOn=_t.data('util-target-readonly-on')||'',_targetReadonlyOff=_t.data('util-target-readonly-off')||'',_targetReadonlyToggle=_t.data('util-target-readonly-toggle')||'',_targetDisableOn=_t.data('util-target-disable-on')||'',_targetDisableOff=_t.data('util-target-disable-off')||'',_targetDisableToggle=_t.data('util-target-disable-toggle')||'',_targetRemove=_t.data('util-target-remove')||'',_groupActive=_t.data('util-group-active')||'',_groupActiveClass=_t.data('util-group-active-class')||'active',_targetFocus=_t.data('util-target-focus')||'',_toastMsg=_t.data('util-toast-msg')||'',_toastPosition=_t.data('util-toast-position')||'top-center',_toastType=_t.data('util-toast-type')||'success',_toastTiming=_t.data('util-toast-timeout')||2500,_targetAjaxRequest=_t.data('util-ajax-request')||'',_targetAjaxMethod=_t.data('util-ajax-method')||$.WOLF.core.utils.config.method,_targetAjaxParams=_t.data('util-ajax-params')||'',_targetAjaxAppend=_t.data('util-ajax-append-response')||'',_toastAjaxSuccessMsg=_t.data('util-ajax-toast-success')||'Sucessfully Updated!',_toastAjaxPosition=_t.data('util-ajax-toast-position')||'top-center',_toastAjaxTiming=_t.data('util-ajax-toast-timeout')||2500;if(_t.attr('href'))
e.preventDefault();if('label',_t){e.preventDefault();if(jQuery('input',_t).is(':checked')){jQuery('input',_t).removeAttr('checked')}else{jQuery('input',_t).attr('checked',!0)}}
if(_targetSelfIgnore+''!='true'&&_targetClassToggleVal=='')
_t.toggleClass('active');if(_targetHide!='')
jQuery(_targetHide).addClass('hide hide-force');if(_targetShow!='')
jQuery(_targetShow).removeClass('hide hide-force');if(_targetInputVal!='')
jQuery(_targetInput||_t).val(_targetInputVal);if(_targetPlaceholderVal!='')
jQuery(_targetPlaceholder||_t).val(_targetPlaceholderVal);if(_targetClassDelVal!='')
jQuery(_targetClassDel||_t).removeClass(_targetClassDelVal);if(_targetClassAddVal!='')
jQuery(_targetClassAdd||_t).addClass(_targetClassAddVal);if(_targetClassToggleVal!='')
jQuery(_targetClassToggle||_t).toggleClass(_targetClassToggleVal);if(_targetRemove!='')
jQuery(_targetRemove).remove();if(_groupActive!=''){var _tCurrState=(_t.hasClass(_groupActiveClass))?'active':'inactive';jQuery(_groupActive).removeClass(_groupActiveClass);if(_tCurrState=='active')
_t.addClass(_groupActiveClass);}
if(_targetReadonlyOn!='')
jQuery(_targetReadonlyOn).addClass('readonly').attr('readonly',!0).prop('readonly',!0);if(_targetReadonlyOff!='')
jQuery(_targetReadonlyOff).removeClass('readonly').removeAttr('readonly').prop('readonly',!1);if(_targetReadonlyToggle!=''){if(jQuery(_targetReadonlyToggle).attr('readonly')){jQuery(_targetReadonlyToggle).removeClass('readonly').removeAttr('readonly').prop('readonly',!1)}else{jQuery(_targetReadonlyToggle).removeClass('readonly').removeAttr('readonly').prop('readonly',!1)}}
if(_targetDisableOn!='')
jQuery(_targetDisableOn).addClass('disabled').attr('disabled',!0).prop('disabled',!0);if(_targetDisableOff!='')
jQuery(_targetDisableOff).removeClass('disabled').removeAttr('disabled').prop('disabled',!1);if(_targetDisableToggle!=''){if(jQuery(_targetDisableToggle).attr('disabled')){jQuery(_targetDisableToggle).removeClass('disabled').removeAttr('disabled').prop('disabled',!1)}else{jQuery(_targetDisableToggle).removeClass('disabled').removeAttr('disabled').prop('disabled',!1)}}
if(_targetFocus!=''){setTimeout(function(){jQuery(_targetFocus).focus()},400)}
if(_targetAjaxRequest==''&&_toastMsg!=''){if(typeof $.WOLF.core.toast==='object')
$.WOLF.core.toast.show(_toastType,'',_toastMsg,_toastPosition,Number(_toastTiming),!0);}
if(_targetAjaxRequest!=''){var data_params=$.WOLF.core.utils.config.data_params;if(_targetAjaxParams!=''){var ajax_params_arr=$.WOLF.helper.params_parse(_targetAjaxParams);for(var i=0;i<ajax_params_arr.length;++i){data_params[ajax_params_arr[i][0]]=ajax_params_arr[i][1]}}
jQuery.ajax({url:_targetAjaxRequest,type:_targetAjaxMethod,data:data_params,beforeSend:function(){if(_showLoadingIcon=='true')
$.WOLF.helper.loadingSpinner('show',_t);$.WOLF.helper.consoleLog('SOW Util : [Ajax][Request Sent]: '+_targetAjaxRequest)},error:function(XMLHttpRequest,textStatus,errorThrown){$.WOLF.helper.loadingSpinner('hide');if(typeof $.WOLF.core.toast==='object')
$.WOLF.core.toast.show('danger','404 Error','Unexpected Internal error!','bottom-center',0,!0);},success:function(data){$.WOLF.helper.loadingSpinner('hide');$.WOLF.helper.consoleLog('SOW Util : [Ajax][Server Response]: '+data);if(_targetAjaxAppend!=''&&data!=''){jQuery(_targetAjaxAppend).empty().append(data);$.WOLF.helper.consoleLogReinit(scriptInfo,_targetAjaxAppend);$.WOLF.reinit(_targetAjaxAppend)}
if(_toastAjaxSuccessMsg!=''&&typeof $.WOLF.core.toast==='object')
$.WOLF.core.toast.show('success','',_toastAjaxSuccessMsg,_toastAjaxPosition,Number(_toastAjaxTiming),!0);}})}})},UtilForm:function(selector){var el=jQuery(selector);if(el.length<1)
return;if(el.hasClass('js-sowformutilified'))
return;el.not('.js-sowformutilified').addClass('js-sowformutilified').each(function(selector){var _t=jQuery(this),_action=_t.attr('data-util-form-action')||'#',_method=_t.attr('data-util-form-method')||'post',_toastSuccess=_t.attr('data-util-form-toast-success')||'',_toastError=_t.attr('data-util-form-toast-error')||'Unexpected Internal error!',_toastPos=_t.attr('data-util-form-toast-position')||'top-right',_showLoadingIcon=_t.attr('data-util-form-loading-icon')||'true',_dataType=_t.attr('data-util-form-dataType')||'',_contentType=_t.attr('data-util-form-contentType')||'',_params=_t.attr('data-util-form-params')||'',_submitBtn=jQuery('.sow-util-form-submit',_t);_submitBtn.on('click',function(e){e.preventDefault();jQuery('input.sow-util-tmp',_t).remove();if(_params!=''){var ajax_params_arr=$.WOLF.helper.params_parse(_params);for(var i=0;i<ajax_params_arr.length;++i){_t.append('<input type="text" class="hide hide-force sow-util-tmp" name="'+ajax_params_arr[i][0]+'" value="'+ajax_params_arr[i][1]+'">')}}
var values=jQuery('input, select, textarea',_t).serializeArray();if(_method.toLowerCase()=='post'){var __processData=!1;var __contentType=!1;var formData=new FormData();for(var key in values){formData.append(values[key].name,values[key].value)}}else{var __processData=!0;var __contentType=_contentType||$.WOLF.core.utils.config.contentType;var formData=jQuery('input, select, textarea',_t).serialize()}
jQuery.ajax({url:_action,data:formData,type:_method,dataType:_dataType||$.WOLF.core.utils.config.dataType,headers:$.WOLF.core.utils.config.headers,crossDomain:$.WOLF.core.utils.config.crossDomain,contentType:__contentType,processData:__processData,cache:!1,beforeSend:function(){if(_showLoadingIcon=='true')
$.WOLF.helper.loadingSpinner('show',_t);jQuery('.sow-util-loader',_t).removeClass('hide hide-force')},error:function(XMLHttpRequest,textStatus,errorThrown){if($.WOLF.config.sow__debug_enable===!0){$.WOLF.helper.consoleLog('----------------------------');$.WOLF.helper.consoleLog('--- AJAX  REQUEST ERROR ----');$.WOLF.helper.consoleLog('1. XMLHttpRequest:');$.WOLF.helper.consoleLog(XMLHttpRequest);$.WOLF.helper.consoleLog('2. textStatus:');$.WOLF.helper.consoleLog(textStatus);$.WOLF.helper.consoleLog('3. errorThrown:');$.WOLF.helper.consoleLog(errorThrown);$.WOLF.helper.consoleLog('----------------------------')}
$.WOLF.helper.loadingSpinner('hide');jQuery('.sow-util-loader',_t).addClass('hide hide-force');jQuery('input.sow-util-tmp',_t).remove();if(typeof $.WOLF.core.toast==='object'){$.WOLF.core.toast.show('danger','404 Error',_toastError,_toastPos,0,!0)}else{alert("[404] Unexpected internal error!")}},success:function(data){$.WOLF.helper.loadingSpinner('hide');jQuery('.sow-util-loader',_t).addClass('hide hide-force');jQuery('input.sow-util-tmp',_t).remove();$.WOLF.helper.consoleLog(data);if(typeof $.WOLF.core.toast==='object'){$.WOLF.core.toast.show('success','',_toastSuccess,_toastPos,1500,!0)}
_t.parent().find('a[data-toggle="dropdown"]').trigger('click');jQuery('input, select, textarea',_t).each(function(){var _updateAttr=jQuery(this).attr('data-util-update');var _updateVal=jQuery(this).val();if(_updateAttr){jQuery(_updateAttr).html(_updateVal)}})}})})})},UtilFormLiveMonitor:function(selector){var el=jQuery(selector);if(el.length<1)
return;if(el.hasClass('js-sowlfutilified'))
return;el.not('.js-sowlfutilified').addClass('js-sowlfutilified').each(function(e){var _t=jQuery(this),_formEl=this,_showLoadingIcon=_t.attr('data-ajax-show-loading-icon')||'true',_formLiveMonitor=_t.attr('data-util-live-monitor')||'false',_formLiveMonitorEl=_t.attr('data-util-live-monitor-elements')||'*',_formLiveMonitorAppendData=_t.attr('data-util-live-monitor-append-response')||'',_formLiveMonitorDelay=_t.attr('data-util-live-monitor-user-delay')||1000,_ajaxURL=_t.attr('data-util-live-ajax-url')||'',_ajaxMethod=_t.attr('data-util-live-ajax-method')||'POST',_ajaxParams=_t.attr('data-util-live-ajax-params')||'',_toastMsg=_t.data('util-live-toast-msg')||'',_toastPosition=_t.data('util-live-toast-position')||'top-center',_toastType=_t.data('util-live-toast-type')||'success',_toastTiming=_t.data('util-live-toast-timeout')||2500;if(_ajaxURL=='')
return;if(_formLiveMonitorEl=='*')
_formLiveMonitorEl='input, select, textarea';jQuery(_formLiveMonitorEl,_t).not('.js-sowlfutilified').addClass('js-sowlfutilified').on('change',function(e){var _thisEl=jQuery(this),formTag=_thisEl.parents('form');if(_thisEl.hasClass('js-ignore'))
return;if(window.afterLiveFormChange)
clearTimeout(window.afterLiveFormChange);jQuery('input.js-append').remove();_t.append('<input class="js-append" type="hidden" name="ajax" value="true">');if(_ajaxParams!=''){var ajax_params_arr=$.WOLF.helper.params_parse(_ajaxParams);for(var i=0;i<ajax_params_arr.length;++i){_t.append('<input class="js-append" type="hidden" name="'+ajax_params_arr[i][0]+'" value="'+ajax_params_arr[i][1]+'">')}}
window.afterLiveFormChange=setTimeout(function(){if(_ajaxMethod.toLowerCase()=='post'){var formData=new FormData(_formEl);var __processData=!1;var __contentType=!1}else{var __processData=!0;var __contentType='';var formData=_t.serializeArray()}
jQuery.ajax({url:_ajaxURL,type:_ajaxMethod,data:formData,contentType:__contentType,processData:__processData,beforeSend:function(){if(_showLoadingIcon=='true')
$.WOLF.helper.loadingSpinner('show',_t);jQuery('button[type=submit]',formTag).addClass('disabled').prop('disabled',!0)},error:function(XMLHttpRequest,textStatus,errorThrown){jQuery('button[type=submit]',formTag).removeClass('disabled').prop('disabled',!1);jQuery('input.js-append').remove();$.WOLF.helper.loadingSpinner('hide');if(typeof $.WOLF.core.toast==='object')
$.WOLF.core.toast.show('danger','404 Error','Unexpected Internal error!','bottom-center',0,!0);},success:function(data){jQuery('button[type=submit]',formTag).removeClass('disabled').prop('disabled',!1);jQuery('input.js-append').remove();$.WOLF.helper.loadingSpinner('hide');if(_formLiveMonitorAppendData!=''&&data!=''){jQuery(_formLiveMonitorAppendData).empty().append(data);$.WOLF.helper.consoleLogReinit(scriptInfo,_formLiveMonitorAppendData);$.WOLF.reinit(_formLiveMonitorAppendData)}
if(_toastMsg!=''&&typeof $.WOLF.core.toast==='object')
$.WOLF.core.toast.show(_toastType,'',_toastMsg,_toastPosition,Number(_toastTiming),!0);}})},Number(_formLiveMonitorDelay))})})},UtilLiveReload:function(selector){let nodes=document.querySelectorAll(selector);if(!nodes)return;nodes.forEach(function(_t){if(_t.classList.contains("js-sowrutilified"))
return null;_t.classList.add('js-sowrutilified');var _target=_t.getAttribute('data-util-live-reload-target')||'',_htmlTag=_t.tagName.toLowerCase(),_type=_t.getAttribute('type')||'',_action='change';if(_target=='')
return;if(_htmlTag=='input'){_action='keyup';if(_type=='radio'||_type=='checkbox')
_action='click'}else if(_htmlTag=='textarea')
_action='keyup';else if(_htmlTag=='select')
_action='change';else if(_htmlTag=='a'||_htmlTag=='button')
_action='click';_t.addEventListener(_action,function(e){__utilLiveReloadFunction(_target)})});function __utilLiveReloadFunction(_target){var _t=document.querySelector(_target);if(typeof _t!=='object')return;var ajaxURL=_t.getAttribute('data-reload-ajax-url')||'',ajaxMethod=_t.getAttribute('data-reload-ajax-method')||'GET',ajaxParams=_t.getAttribute('data-reload-ajax-params')||'',ajaxDelay=_t.getAttribute('data-reload-ajax-delay')||1000,_showLoadingIcon=_t.getAttribute('data-ajax-show-loading-icon')||'true';var data_params={ajax:'true'};if(ajaxParams!=''){var ajax_params_arr=$.WOLF.helper.params_parse(ajaxParams);for(var i=0;i<ajax_params_arr.length;++i){data_params[ajax_params_arr[i][0]]=ajax_params_arr[i][1]}}
if(window.afterFormChange)
clearTimeout(window.afterFormChange);window.afterFormChange=setTimeout(function(){jQuery.ajax({url:ajaxURL,type:ajaxMethod,data:data_params,beforeSend:function(){if(_showLoadingIcon=='true')
$.WOLF.helper.loadingSpinner('show');},error:function(XMLHttpRequest,textStatus,errorThrown){$.WOLF.helper.loadingSpinner('hide')},success:function(data){$.WOLF.helper.loadingSpinner('hide');jQuery(_target).empty().append(data);jQuery('.sow-util-form-live-monitor').removeClass('js-sowlfutilified');$.WOLF.core.utils.UtilFormLiveMonitor('.sow-util-form-live-monitor');$.WOLF.helper.consoleLogReinit(scriptInfo,_target);$.WOLF.reinit(_target)}})},Number(ajaxDelay))}}}})(jQuery);(function($){'use strict';var obj={};$.WOLF.helper={config:{},collection:$(),init:function(selector,config){},__selector:function(selector){var selector=$.WOLF.helper.check_var(selector)||'';var selector_orig=selector;var element=(selector&&$(selector).length>0)?$(selector):$();if($.WOLF.globals.ajax_container!='html'&&$.WOLF.globals.ajax_container!='body'&&$.WOLF.globals.ajax_container!=''){if(selector.indexOf(',')>-1)
var selector=selector.split(',').join(', '+$.WOLF.globals.ajax_container+' ');selector=$.WOLF.globals.ajax_container+' '+selector}
return[selector,element,selector_orig]},check_var:function(_var){return(typeof _var!=="undefined")?_var:null},is_numeric:function(_var){if(typeof _var==='number')return!0;else if(typeof _var!=='string')return!1;var _var=''+_var.replace(/\s/g,'');if(_var==='')return!1;else if(_var.slice(-1)==='.')return!1;return!isNaN(parseFloat(_var))&&isFinite(_var)},loadScript:function(script_arr,async,cache){return(async===!0)?$.WOLF.helper.__loadScriptAsync(script_arr,cache):$.WOLF.helper.__loadScriptOrdered(script_arr,cache)},__loadScriptOrdered:function(script_arr,cache){var deferred=jQuery.Deferred();function __loadScript(i){if(i<script_arr.length){jQuery.ajax({url:script_arr[i],dataType:"script",cache:(cache!==!1)?!0:!1,success:function(){__loadScript(i+1)}})}else{deferred.resolve()}}
__loadScript(0);return deferred},__loadScriptAsync:function(script_arr,cache){var _arr=$.map(script_arr,function(scr){return(cache!==!1)?$.WOLF.helper.getScriptCached(scr):$.getScript(scr)});_arr.push($.Deferred(function(deferred){$(deferred.resolve)}));return $.when.apply($,_arr)},getScriptCached:function(url,options){options=$.extend(options||{},{dataType:"script",cache:!0,url:url});return jQuery.ajax(options)},loadCSS:function(cssFile,option){if(option==='remove')
jQuery('head link[href="'+cssFile+'"]').remove();else if(option==='prepend'){if(jQuery('head link[href="'+cssFile+'"]').length>0)return;jQuery('head').prepend('<link rel="stylesheet" href="'+cssFile+'">')}else{if(jQuery('head link[href="'+cssFile+'"]').length>0)return;jQuery('head').append('<link rel="stylesheet" href="'+cssFile+'">')}},loadingSpinner:function(option,_container,_layout,_color){var option=(typeof option!=='undefined')?option:'show';var _container=(_container===null)?$.WOLF.globals.elBody:_container;var _layout=(typeof _layout!=='undefined')?_layout:'icon';var _color=(typeof _color!=='undefined')?_color:null;var _colorOverlay='overlay-dark overlay-opacity-2';var _colorIcon='text-muted';if(_layout=='icon'&&_color!='')
_colorIcon=_color;if(_layout=='overlay'&&_color!=''){var s=_color.split(':');if(typeof s[0]!=='undefined'){if(s[0]=='dark')_colorOverlay='overlay-dark overlay-opacity-2';else if(s[0]=='light')_colorOverlay='overlay-light overlay-opacity-7'}
_colorIcon=(typeof s[1]!=='undefined')?s[1]:_colorIcon}
if(option==='show'){if(jQuery('#js_loading_icon').length>0){jQuery('#js_loading_icon').remove();return}
var tplOverlay='<div id="js_loading_icon" class="position-absolute absolute-full '+_colorOverlay+' z-index-9999 text-center">'+'<i class="'+$.WOLF.config.sow__icon_loading+' fs-3 '+_colorIcon+' valign-middle"></i>'+'</div>';var tplIcon='<div id="js_loading_icon" class="position-fixed fixed-bottom w-100 mb-3 z-index-9999 text-center shadow-none">'+'<span class="bg-white d-inline-block px-4 py-1 rounded shadow-lg">'+'<i class="'+$.WOLF.config.sow__icon_loading+' fs-3 '+_colorIcon+'"></i>'+'</span>'+'</div>';var _tpl=(_layout=='overlay')?tplOverlay:tplIcon;var _container=(_layout=='overlay')?_container:'body';_container=(typeof _container==='object')?_container:jQuery(_container);_container.prepend(_tpl)}else{jQuery('#js_loading_icon').remove()}},executeFunctionByName:function(functionName,context){if(typeof(window)!=='undefined'){context=context||window}else{context=context||global}
var args=Array.prototype.slice.call(arguments,2);var namespaces=functionName.split(".");var func=namespaces.pop();for(var i=0;i<namespaces.length;i++){context=context[namespaces[i]]}
return context[func].apply(context,args)},overlay:function(option){if(option==='show'){jQuery('body').append('<div id="overlay-default"></div>');jQuery('body').addClass('overflow-hidden')}else if(option==='hide'){jQuery('#overlay-default').unbind().remove();jQuery('body').removeClass('overflow-hidden')}else{if(jQuery('#overlay-default').length>0){$.WOLF.helper.__overlay_hide()}else{$.WOLF.helper.__overlay_show()}}},__overlay_show:function(){jQuery('body').append('<div id="overlay-default"></div>');jQuery('body').addClass('overflow-hidden')},__overlay_hide:function(){jQuery('#overlay-default').unbind().remove();jQuery('body').removeClass('overflow-hidden')},randomStr:function(length,type){switch(type){case 'L':var characters='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';break;case 'N':var characters='0123456789';break;default:var characters='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'}
var result='';var charactersLength=characters.length;for(var i=0;i<length;i++){result+=characters.charAt(Math.floor(Math.random()*charactersLength))}
return result},byte2size:function(bytes,precision,int_only){var precision=typeof precision!=='undefined'?precision:2;var int_only=typeof int_only!=='undefined'?int_only:!1;if(bytes<1)
return 0+(int_only===!1)?'B':'';var k=1024;var precision=precision<0?0:precision;var unit=['B','Kb','Mb','Gb','Tb','Pb','Eb','Zb','Yb'];var i=Math.floor(Math.log(bytes)/Math.log(k));var unit_txt=(int_only===!1)?' '+unit[i]:0;return parseFloat((bytes/Math.pow(k,i)).toFixed(precision))+unit_txt},byte2kb:function(bytes){if(bytes<1)return bytes;var bytes=bytes/1024;return(Math.round(bytes*100)/100)},scrollAnimate:function(_el,_offset,_hash_change,_speed){_el=typeof _el!=='undefined'?_el:'';_hash_change=typeof _hash_change!=='undefined'?_hash_change:'false';_offset=typeof _offset!=='undefined'?_offset:0;_speed=typeof _speed!=='undefined'?_speed:400;if(_offset<1){if($.WOLF.globals.elBody.hasClass('header-hide'))
_offset=15;else if($.WOLF.globals.elBody.hasClass('header-fixed')||$.WOLF.globals.elBody.hasClass('header-sticky'))
_offset=$.WOLF.globals.elHeader.outerHeight()+15}
if(_el!='#'&&_el!='#!'&&_el!='javascript:;'){if(_el=='#top'){jQuery('html, body').animate({scrollTop:$.WOLF.globals.elBody.offset().top},_speed,function(){if(_hash_change=='true'){window.location.hash=_el}})}else{if(!jQuery(_el).offset())return;jQuery('html, body').animate({scrollTop:jQuery(_el).offset().top-parseInt(_offset)},_speed,function(){if(_hash_change=='true'){window.location.hash=_el}})}}},removeUrlHash:function(_url){if(_url.indexOf('#')>-1)
return _url.replace(/#.*$/,'');return _url},playSound:function(_soundFile){var audioElement=document.createElement('audio');audioElement.setAttribute('src',_soundFile);audioElement.setAttribute('autoplay','autoplay');audioElement.addEventListener("load",function(){audioElement.play()},!0)},time_from_ms:function(miliseconds,format){var days,hours,minutes,seconds,total_hours,total_minutes,total_seconds;total_seconds=parseInt(Math.floor(miliseconds/1000));total_minutes=parseInt(Math.floor(total_seconds/60));total_hours=parseInt(Math.floor(total_minutes/60));days=parseInt(Math.floor(total_hours/24));seconds=parseInt(total_seconds%60);minutes=parseInt(total_minutes%60);hours=parseInt(total_hours%24);switch(format){case 's':return total_seconds;case 'm':return total_minutes;case 'h':return total_hours;case 'd':return days;default:return{d:days,h:hours,m:minutes,s:seconds}}},get_browser:function(){var ua=navigator.userAgent.toLowerCase();if(ua.indexOf('chrome')>-1)return'chrome';else if(ua.indexOf('safari')>-1)return'safari';else if(ua.indexOf('mozilla')>-1)return'mozilla';else if(ua.indexOf('edge')>-1)return'edge';else return'n/a'},params_parse:function(string){if(string!=''&&string.length>2){var string='['+string+']';var string=string.replace(/'/g,'"');var string=string.replace(/ /g,'');var string=string.replace(/]\[/g,'],[');var string=JSON.parse(string)}
return string},currencyFormat:function(amount,custom){if(typeof custom!=='object')
var custom=[2,',','.'];return(amount.toFixed(custom[0]).replace(/(\d)(?=(\d{3})+(?!\d))/g,'$1:repl:').replace('.',custom[2]).replace(/:repl:/g,custom[1]))},jsLocation:function(){return $.WOLF.helper.scriptLocation('js')},cssLocation:function(){return $.WOLF.helper.scriptLocation('css')},scriptLocation:function(sriptType){let curScript;let selector=(sriptType=='js')?'script[src]':'link[rel="stylesheet"]';let scripts=document.querySelectorAll(selector);for(let i=0;i<scripts.length;i++){curScript=(sriptType=='js')?scripts[i].src:scripts[i].href;if(curScript.indexOf('core')!==-1)break;else if(curScript.indexOf('vendor')!==-1)break;else if(curScript.indexOf('bundle')!==-1)break;else if(curScript.indexOf('theme')!==-1)break;curScript=null}
if(!curScript)
curScript=(sriptType=='js')?scripts[scripts.length-1].src:scripts[scripts.length-1].href;if(!curScript)
curScript=(sriptType=='js')?'assets/js/':'assets/css/';let curScriptChunks=curScript.split('/');let curScriptFile=curScriptChunks[curScriptChunks.length-1];let scriptPath=curScript.replace(curScriptFile,'');return scriptPath},vendorLogicPaths:function(vendor){if(!vendor)return arr;var js_location=($.WOLF.globals.js_location!='')?$.WOLF.globals.js_location:$.WOLF.helper.jsLocation();var css_location=($.WOLF.globals.js_location!='')?$.WOLF.globals.css_location:$.WOLF.helper.cssLocation();var arr=[];arr.path_js='';arr.path_css='';if($.WOLF.config["vendor:external_css"]){for(var module in $.WOLF.config["vendor:external_css"]){for(var v=0;v<$.WOLF.config["vendor:external_css"][module].length;v++){if($.WOLF.config["vendor:external_css"][module].includes(vendor)===!0){arr.path_css=css_location+module+'.'+vendor+'.min.css';$.WOLF.helper.loadCSS(arr.path_css);break}}}}
if($.WOLF.config["vendor:external_js"]){for(var module in $.WOLF.config["vendor:external_js"]){for(var v=0;v<$.WOLF.config["vendor:external_js"][module].length;v++){if($.WOLF.config["vendor:external_js"][module].includes(vendor)===!0){arr.path_js=js_location+module+'.'+vendor+'.min.js';break}}}}
return arr},videoEmbedFromUrl:function(href,autoplay){if(href.match(/(.mp4)/)||href.match(/(.webm)/)){var mp4=href.replace('.webm','.mp4');var webm=href.replace('.mp4','.webm');var jpg=href.replace('.mp4','.jpg').replace('.webm','.jpg');var auto=(!autoplay)?null:'autoplay';return'<div class="embed-responsive embed-responsive-16by9">'+'<video preload="auto" '+auto+' controls="controls" poster="'+jpg+'">'+'<source src="'+webm+'" type="video/webm;">'+'<source src="'+webm+'" type="video/mp4;">'+'</video>'+'</div>'};var videoEmbedLink=null;if(videoEmbedLink===null){var youtubeMatch=href.match(/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(watch\?(.*&)?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]{11}|\?listType=(.*)&list=(.*))(.*)/i);var videoEmbedLink=(youtubeMatch)?"https://www.youtube.com/embed/"+youtubeMatch[4]+"?autoplay="+autoplay||1+'':null}
if(videoEmbedLink===null){var vimeoMatch=href.match(/^.+vimeo.com\/(.*\/)?([\d]+)(.*)?/);var videoEmbedLink=(vimeoMatch)?"https://player.vimeo.com/video/"+vimeoMatch[2]+"?autoplay="+autoplay||1+'':null}
if(!videoEmbedLink)
return null;return'<div class="embed-responsive embed-responsive-16by9">'+'<iframe class="embed-responsive-item" src="'+videoEmbedLink+'" allow="autoplay; encrypted-media" width="560" height="315"></iframe>'+'</div>'},strhash:function(str){if(str.length%32>0)str+=Array(33-str.length%32).join("z");var hash='',bytes=[];var i,j,k,a;i=j=k=a=0;var dict=['a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','1','2','3','4','5','6','7','8','9'];for(i=0;i<str.length;i++){var ch=str.charCodeAt(i);bytes[j++]=(ch<127)?ch&0xFF:127}
var chunk_len=Math.ceil(bytes.length/32);for(i=0;i<bytes.length;i++){j+=bytes[i];k++;if((k==chunk_len)||(i==bytes.length-1)){var a=Math.floor(j/k);if(a<32)hash+='0';else if(a>126)hash+='z';else hash+=dict[Math.floor((a-32)/2.76)];var j=k=0}}
return hash},jsonParse:function(data){if(data==''||typeof data==='object')
return data;try{var _data=JSON.parse(data)}catch(err){var _data=data}
return(typeof _data==='undefined'||_data.length<1)?null:_data},serializeArray:function(form){if(jQuery())
return jQuery(form).serializeArray();var form=(typeof form==='object')?form:document.querySelector(form),arr=[];Array.prototype.slice.call(form.elements).forEach(function(field){if(!field.name||field.disabled||['file','reset','submit','button'].indexOf(field.type)>-1)
return;if(field.type==='select-multiple'){Array.prototype.slice.call(field.options).forEach(function(option){if(!option.selected)
return;arr.push({name:field.name,value:option.value})});return}
if(['checkbox','radio'].indexOf(field.type)>-1&&!field.checked)
return;arr.push({name:field.name,value:field.value})});return arr},compareArray:function(array1,array2){const array2Sorted=array2.slice().sort();return array1.length===array2.length&&array1.slice().sort().every(function(value,index){return value===array2Sorted[index]})},consoleLogReinit:function(scriptInfo,selector){$.WOLF.helper.consoleLog('+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++');$.WOLF.helper.consoleLog(scriptInfo,'color: #6dbb30; font-weight: bold; font-size:14px;');$.WOLF.helper.consoleLog('Ajax Reinit For: '+selector);$.WOLF.helper.consoleLog(window.location.href);$.WOLF.helper.consoleLog('+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++')},consoleLog:function(data,css){if($.WOLF.config.sow__debug_enable!==!0)
return;if(typeof css!=="undefined"&&typeof css!=='object'){var data='%c'+data;console.log(data,css);return}else if(typeof css==='object'){console.log(data,css);return}
console.log(data)}}})(jQuery);(function($){'use strict';var scriptInfo='SOW Header';window._headerID='#header';window.lastScrollTop=0;$.WOLF.core.header={config:{},collection:$(),init:function(selector,config){if(!$.WOLF.globals.elHeader)
return;if($.WOLF.globals.elBody.hasClass('header-sticky'))
$.WOLF.core.header.header_sticky();else if($.WOLF.globals.elBody.hasClass('header-scroll-reveal'))
$.WOLF.core.header.header_scroll_reveal();$.WOLF.core.header.horizontal_nav();$.WOLF.core.header.header_toggle();$.WOLF.core.header.header_onepagenav();$.WOLF.helper.consoleLog('Init : '+scriptInfo)},header_sticky:function(){if($.WOLF.globals.elBody.hasClass('layout-admin'))
return;if($.WOLF.globals.elHeader.length<1)
return;var _headerEl_H=$.WOLF.globals.elHeader.outerHeight()||0,_diff=0;if($.WOLF.globals.elBody.hasClass('layout-boxed'))
_diff=_headerEl_H/2||0;$.WOLF.globals.elBody.addClass('header-fixed');if($.WOLF.globals.elBody.hasClass('layout-admin aside-sticky')){jQuery('#middle').css({"padding-top":_headerEl_H+_diff+parseInt(jQuery('#middle').css('padding-top'))})}else{jQuery('#js_header_spacer').remove();jQuery(window._headerID).after('<div id="js_header_spacer" style="height:'+(_headerEl_H+_diff)+'px"><!-- spacer added by header js --></div>')}
if($.WOLF.globals.elBody.hasClass('header-over')&&jQuery(this).scrollTop()>0)
$.WOLF.globals.elBody.addClass('user-scrolled-down');if(!$.WOLF.globals.elBody.hasClass('header-over')&&jQuery('#top_bar').length<1)
return;var top_bar_present=jQuery('#top_bar').length,top_bar_height=(top_bar_present>0)?jQuery('#top_bar').outerHeight():0,top_bar_js_ignore=!1,delta=5,didScroll;jQuery(window).scroll(function(event){didScroll=!0});if(top_bar_present>0){if(jQuery('#top_bar').hasClass('js-ignore'))
var top_bar_js_ignore=!0}
setInterval(function(){if(didScroll){$.WOLF.core.header.header_sticky__hasScrolled(_headerEl_H,delta,top_bar_present,top_bar_height,top_bar_js_ignore);didScroll=!1}},100);$.WOLF.core.header.header_sticky__hasScrolled(_headerEl_H,delta,top_bar_present,top_bar_height,top_bar_js_ignore)},header_sticky__hasScrolled:function(_headerEl_H,delta,top_bar_present,top_bar_height,top_bar_js_ignore){var st=document.scrollingElement.scrollTop;if(st<1){$.WOLF.globals.elBody.removeClass('user-scrolled-down')}else{$.WOLF.globals.elBody.addClass('user-scrolled-down')}
if(top_bar_present>0&&top_bar_js_ignore===!1){if(Math.abs(window.lastScrollTop-st)<=delta)
return;if(st>window.lastScrollTop&&st>_headerEl_H){$.WOLF.globals.elHeader.css({"margin-top":"-"+top_bar_height+"px"})}else{if(st+jQuery(window).height()<jQuery(document).height()){$.WOLF.globals.elHeader.css({"margin-top":""})}}
window.lastScrollTop=st}},header_scroll_reveal:function(){if($.WOLF.globals.elHeader.length>0){var _headerEl_H=$.WOLF.globals.elHeader.outerHeight()||0,_diff=0,lastScrollTop=0,delta=5,didScroll;if($.WOLF.globals.elBody.hasClass('layout-boxed'))
_diff=_headerEl_H/2||0;jQuery('#js_header_spacer').remove();jQuery(window._headerID).after('<div id="js_header_spacer" style="height:'+(_headerEl_H+_diff)+'px"><!-- spacer added by header js --></div>');$.WOLF.globals.elBody.addClass('header-fixed');jQuery('body>'+window._headerID).addClass('header-fixed');if($.WOLF.globals.elBody.hasClass('header-over')&&jQuery(this).scrollTop()>0){$.WOLF.globals.elBody.addClass('user-scrolled-down');jQuery(window._headerID).addClass('header-down');lastScrollTop=jQuery(this).scrollTop()}else{$.WOLF.globals.elBody.addClass('header-is-on-top')}
jQuery(window).scroll(function(event){didScroll=!0});setInterval(function(){if(didScroll){$.WOLF.core.header.header_scroll_reveal__hasScrolled(_headerEl_H,delta);didScroll=!1}},100)}},header_scroll_reveal__hasScrolled:function(_headerEl_H,delta){var st=document.scrollingElement.scrollTop;if(st<1){$.WOLF.globals.elBody.addClass('header-is-on-top').removeClass('user-scrolled-down')}else{$.WOLF.globals.elBody.addClass('user-scrolled-down')}
if(Math.abs(window.lastScrollTop-st)<=delta)
return;if(st>window.lastScrollTop&&st>_headerEl_H){$.WOLF.globals.elHeader.removeClass('header-down').addClass('header-up');$.WOLF.globals.elBody.removeClass('header-is-on-top')}else{if(st+jQuery(window).height()<jQuery(document).height()){$.WOLF.globals.elHeader.removeClass('header-up').addClass('header-down')}}
window.lastScrollTop=st},horizontal_nav:function(){var elNavResize;var elNav=document.querySelectorAll('.navbar-horizontal');var formSearchSuggest=document.querySelector('form.sow-search');if(!elNav)return;window.setTimeout(function(){elNav.forEach(function(el){if(el.classList.contains('js-navbar-horizontal'))return;el.classList.add('js-navbar-horizontal');var ddW=0;let navThis=el.querySelector('.navbar-toggler-horizontal');let navEvt=navThis.classList.contains('nav-horizontal-open-click')?'click':'mouseover';if(!navThis.classList.contains('position-absolute')&&!navThis.classList.contains('position-fixed'))navThis.classList.add('position-relative');navThis.addEventListener(navEvt,function(e){if($.WOLF.globals.is_mobile===!1){if(formSearchSuggest)formSearchSuggest.classList.add('z-index-1');el.querySelector('.navbar-toggler-horizontal').classList.add('z-index-9999');el.querySelector('.nav-horizontal').classList.add('d-block');document.body.classList.add('overflow-hidden');if(ddW<1){let elDD=el.querySelector('.nav-horizontal-container');ddW=elDD.offsetWidth||elDD.width;elNavReadjust()}}});el.querySelector('.navbar-toggler-horizontal').addEventListener('click',function(e){if($.WOLF.globals.is_mobile===!1){e.preventDefault();e.stopPropagation()}});let navOverlay=el.querySelector('.nav-horizontal-overlay');if(navOverlay){navOverlay.classList.add('z-index-99');let evtClose=(navEvt=='click')?'click':'mouseover';navOverlay.addEventListener(evtClose,function(e){document.body.classList.remove('overflow-hidden');el.querySelector('.nav-horizontal').classList.remove('d-block');if(formSearchSuggest)formSearchSuggest.classList.remove('z-index-1');el.querySelector('.navbar-toggler-horizontal').classList.remove('z-index-9999')})}
window.addEventListener('resize',function(){if($.WOLF.globals.is_mobile===!1){if(elNavResize)clearTimeout(elNavResize);elNavResize=setTimeout(function(){elNavReadjust()},500)}else{document.body.classList.remove('overflow-hidden')}});function elNavReadjust(){if($.WOLF.globals.is_mobile===!1){let elW=el.offsetWidth||style.width;let megaW=elW-ddW;el.querySelectorAll('.dropdown-mega>.dropdown-menu').forEach(function(e){e.style.minWidth=megaW+'px'})}}})},170)},header_toggle:function(){if(!document.querySelector('.btn-header-toggle'))
return;jQuery('.btn-header-toggle').on('click',function(e){e.preventDefault();var is_hidden=$.WOLF.globals.elBody.hasClass('header-hide')?!0:!1,has_spacer=jQuery('#js_header_spacer').length>0?!0:!1,_headerEl_H=$.WOLF.globals.elHeader.outerHeight()||0,_addEl='';if(_headerEl_H<1)
return;if(has_spacer===!0){jQuery('#wrapper_content').addClass('js-animation-enable');_addEl=', #wrapper_content'}
jQuery('#header'+_addEl).addClass('transition-all-ease-250');if(is_hidden===!1){jQuery('#header'+_addEl).animate({'margin-top':-_headerEl_H+"px"},50,function(e){$.WOLF.globals.elBody.addClass('header-hide');setTimeout(function(){$.WOLF.globals.elBody.addClass('btn-header-toggle-show')},600)})}else{jQuery('#header'+_addEl).animate({'margin-top':"0"},0,function(e){$.WOLF.globals.elBody.removeClass('header-hide btn-header-toggle-show');if(has_spacer===!0){setTimeout(function(){jQuery('#wrapper_content').removeClass('js-animation-enable')},600)}})}})},header_onepagenav:function(){jQuery('.navbar-collapse').each(function(){var _t=jQuery(this);jQuery('.scroll-to, .js-ajax',_t).on('click',function(){if($.WOLF.globals.is_mobile===!0)
_t.collapse('hide');})})},header_destroy:function(){$.WOLF.globals.elHeader.removeClass('header-down header-up');$.WOLF.globals.elBody.removeClass('header-hide header-over header-fixed header-is-on-top user-scrolled-down');$.WOLF.globals.elHeader.css({"margin-top":""});jQuery('#top_bar').removeClass('hide-by-scroll');jQuery('#js_header_spacer').remove();jQuery(window).off("scroll")}}})(jQuery);(function($){'use strict';$.WOLF.startUp={get_cookies:function(){let cookies=document.cookie.split(";");for(var i=0;i<cookies.length;i++){var cookie=cookies[i].trim();if(cookie.indexOf("_fe=")==0){$.WOLF.json.id=cookie.substring("_fe=".length,cookie.length)}else if(cookie.indexOf("_fl=")==0){$.WOLF.json.lang=cookie.substring("_fl=".length,cookie.length)}else if(cookie.indexOf("_fcc=")==0){$.WOLF.json.cc=cookie.substring("_fcc=".length,cookie.length)}else if(cookie.indexOf("_fref=")==0){$.WOLF.json.ref=cookie.substring("_fcc=".length,cookie.length)}}
for(var i=0;i<cookies.length;i++){var cookie=cookies[i];var eqPos=cookie.indexOf("=");var name=eqPos>-1?cookie.substr(0,eqPos):cookie;var domain='cosmopinion.com';while(domain.indexOf(".")!==-1){var cookieDomain=";domain="+domain+";path=/";document.cookie=name+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT"+cookieDomain;var domainParts=domain.split(".");domain=domainParts.slice(1).join(".")}}},enable_scrolling:function(){if($('#scrollUp').hasClass('scroll_enabled'))return;$("#middle").bind('slimscrolling',function(e,pos){if(pos>=100)return $('html').addClass('isStucked');else $('html').removeClass('isStucked')});$('#scrollUp').click(function(){$("#middle").animate({scrollTop:0},500,'swing');return $('html').removeClass('isStucked')});$('#scrollUp').addClass('scroll_enabled')
return},form_starter:function(){let inputs=$('input[type=text], input[type=email], input[type=password], textarea, select'),checklabels=$('div.checkradio-icons').find('label'),selectpickers=$('select.selectpicker'),edges='<div class="edge top-left"></div><div class="edge top-right"></div><div class="edge bottom-left"></div><div class="edge bottom-right"></div>';setTimeout(function(){$('input:first:visible').select()},1000);$('input[type=text], input[type=email], input[type=checkbox]').keypress(function(event){try{if(event.key==="Enter"){event.preventDefault();let all=$('input[type=text],input[type=email],textarea, select'),ind=$(all).index(this);if($(all).eq(ind+1)){let next=$(all).eq(ind+1);if($(next).Tag()==='select'){$(next).next('button').click()}else $(next).select()}}}catch(e){return}})
$('input[type=radio]').change(function(event){try{event.preventDefault();let all=$('input[type=text],input[type=email],textarea, select'),ind=$(all).index(this);if($(all).eq(ind+1)){let next=$(all).eq(ind+1);if($(next).Tag()==='select'){$(next).next('button').click()}else $(next).select()}}catch(e){return}});$('select').on('changed.bs.select',function(event){try{if($(this).closest('.noFocus').length==0)return;event.preventDefault();let all=$('input[type=text],input[type=email],textarea, select'),ind=$(all).index(this);if($(all).eq(ind+1)){let next=$(all).eq(ind+1);if($(next).Tag()==='select'){$(next).next('button').click()}else $(next).select()}}catch(e){return}})},set_features:function(){return},get_browser:function(){const ua=navigator.userAgent.toLowerCase();let type='other';if(ua.indexOf('chrome')>-1)
type='chrome';else if(ua.indexOf('safari')>-1)
type='safari';else if(ua.indexOf('mozilla')>-1)
type='mozilla';else if(ua.indexOf('edge')>-1)
type='edge';$('#admin_device').val(type);return $('html').addClass('is_'+type)},get_device:function(){if($(window).width()<$.WOLF.globals.breakpoints.md){return $('html').removeClass('is_tablet is_desk').addClass('is_mobile')}else if($(window).width()<$.WOLF.globals.breakpoints.lg){return $('html').removeClass('is_mobile is_desk').addClass('is_tablet')}else{return $('html').removeClass('is_mobile is_tablet').addClass('is_desk')}},get_breakpoint:function(){var _this=this;let currentScreen='xxl',windowWidth=$(window).width(),windowHeight=$(window).height();$.each($.WOLF.globals.breakpoints,function(index,value){if(windowWidth>=value){currentScreen=index}});return $('html').removeClass('is_xs is_sm is_md is_lg is_xl is_xxl').addClass('is_'+currentScreen)},get_orientation:function(){let currentOrientation=$(window).width()>$(window).height()?'landscape':'portrait';return $('html').removeClass('is_landscape is_portrait').addClass('is_'+currentOrientation)},get_touchable:function(){let type='mouse';if(matchMedia('(hover: none), (pointer: coarse)').matches==!0)
type='touch';$('#admin_touch').val(type);return $('html').addClass('is_'+type)},}})(jQuery);(function($){'use strict';var scriptInfo='Vendor Slimscroll';$.WOLF.vendor.slimscroll={config:{height:'100%',color:'#444',size:'3px',railColor:'#ccc',railOpacity:0.5,alwaysVisible:!1,railVisible:!0,position:($.WOLF.globals.direction=='ltr')?'right':'left',distance:'0',wheelStep:10,allowPageScroll:!1,disableFadeOut:!1},collection:$(),init:function(selector,config){if(selector!=''){if(jQuery(selector).length<1)
return null}
if(!jQuery().slimScroll){clogs('noslimscroll');var paths=$.WOLF.helper.vendorLogicPaths('slimscroll');if(paths.path_js==''){clogs('Vendor Missing : '+scriptInfo);return null}
$.WOLF.helper.loadScript([paths.path_js],!1,!0).done(function(){if(!jQuery().slimScroll){$.WOLF.helper.consoleLog('Vendor Missing : '+scriptInfo);return null}
$.WOLF.vendor.slimscroll.init(selector,config);return null});return null}else if($.WOLF.globals.is_mobile===!0){$.WOLF.helper.consoleLog('Mobile disabled : '+scriptInfo);return}
var __selector=$.WOLF.helper.__selector(selector);var __config=$.WOLF.helper.check_var(config);this.selector=__selector[0];this.config=(__config!==null)?$.extend({},this.config,__config):this.config;$(this.selector).slimScroll({height:this.config.height,color:this.config.color,size:this.config.size,railColor:this.config.railColor,railOpacity:this.config.railOpacity,alwaysVisible:this.config.alwaysVisible,railVisible:this.config.railVisible,position:this.config.position,distance:this.config.distance,wheelStep:this.config.wheelStep,allowPageScroll:this.config.allowPageScroll,disableFadeOut:this.config.disableFadeOut});$.WOLF.helper.consoleLog('Init : '+scriptInfo);return $(this.selector)},destroy:function(selector){$(selector).slimScroll({destroy:!0})}}})(jQuery);(function($){'use strict';var scriptInfo='WOLFI Nav Deep';window.firstLoad=!0;$.WOLF.core.nav_deep={config:{speed:200},collection:$(),init:function(selector,config){var __selector=$.WOLF.helper.__selector(selector);var __config=$.WOLF.helper.check_var(config);this.selector=__selector[0];this.collection=__selector[1];this.config=(__config!==null)?$.extend({},this.config,__config):this.config;$.WOLF.core.nav_deep.process_tabs();if(jQuery(this.selector).length<1)
return;$.WOLF.helper.consoleLog('Init : '+scriptInfo);if(window.firstLoad){window.firstLoad=!1;$.WOLF.core.nav_deep.asideScrollToActiveLink(this.selector)}
if(!this.selector){$.WOLF.core.nav_deep.process($('.nav-deep'));return this.collection}
return this.collection.each(function(){$.WOLF.core.nav_deep.process($(this))})},process:function(_this){_this.not('.done').addClass('done').each(function(){var _tnd=jQuery(this),js_ignore=_tnd.hasClass('js-ignore');$('.nav-link',jQuery(this)).on('click',function(e){var _t=jQuery(this),_href=_t.attr('href')||'#',_target=_t.attr('target')||'';if(_target!='')
return;if(!_t.parent('.nav-item').hasClass('active')){$.WOLF.core.nav_deep.nav_deep_open(_t)}else{$.WOLF.core.nav_deep.nav_deep_close(_t)}
if(!js_ignore)
$.WOLF.core.nav_deep.nav_deep_close_all(_t);if(_href=='#'||_href=='#!')
e.preventDefault();})})},nav_deep_open:function(_t){_t.next('ul').slideDown(this.config.speed,function(e){_t.parent('.nav-item').addClass('active');jQuery(this).css({"display":""})})},nav_deep_close:function(_t){_t.next('ul').slideUp(this.config.speed,function(e){_t.parent('.nav-item').removeClass('active');jQuery(this).css({"display":""})})},nav_deep_close_all:function(_t){_t.parent('.nav-item').parent().find('.nav-item.active').not(_t.parent('.nav-item')).find('ul.nav').slideUp(this.config.speed,function(e){jQuery(this).parent('.nav-item.active').removeClass('active').next().find('ul.nav').css({"display":""})});if(_t.next().find('ul.nav').length<1)
_t.parent('.nav-item').addClass('active');setTimeout(function(){_t.parent('.nav-item').parent().find('.nav-item.active').not(_t.parent('.nav-item')).removeClass('active')},this.config.speed+30)},asideScrollToActiveLink:function(selector){if(jQuery('aside '+selector+' .nav-item.active').length<1)
return;var activeLinkOffset=jQuery('aside '+selector+' .nav-item.active').offset();var scrollableDivOffset=jQuery('aside .scrollable-vertical').offset();if(!scrollableDivOffset||!activeLinkOffset)return;var scrollDivTo=(activeLinkOffset.top-scrollableDivOffset.top)-Math.round($.WOLF.globals.height/8);if(activeLinkOffset.top<$.WOLF.globals.height)
return;jQuery('aside .scrollable-vertical:not(.js-ignore)').animate({scrollTop:scrollDivTo},0)},process_tabs:function(){jQuery('a.nav-link-remember').on('click',function(e){localStorage.setItem('activeNavTab',jQuery(e.target).attr('href'))});var activeNavTab=localStorage.getItem('activeNavTab');if(activeNavTab){jQuery('a.nav-link-remember[href="'+activeNavTab+'"]').tab('show')}}}})(jQuery);(function($){'use strict';var scriptInfo='WOLFI Btn Toggle';$.WOLF.core.btn_toggle={config:{method:'GET',contentType:'',dataType:'',headers:'',crossDomain:'',data_params:{ajax:'true'},},collection:$(),init:function(selector,config){var __selector=$.WOLF.helper.__selector(selector);var __config=$.WOLF.helper.check_var(config);this.selector=__selector[0];this.collection=__selector[1];this.config=(__config!==null)?$.extend({},this.config,__config):this.config;if(jQuery(this.selector).length<1)
return;$.WOLF.helper.consoleLog('Init : '+scriptInfo);if(!this.selector){$.WOLF.core.btn_toggle.process($('.btn-toggle'));return this.collection}
return this.collection.each(function(){$.WOLF.core.btn_toggle.process($(this))})},process:function(_this){_this.not(".js-togglified").addClass('js-togglified').on("click",function(e){var _t=jQuery(this),_target=_t.data('target')||_t.data('bs-target')||'',_targetRw=_t.data('toggle-target')||'',_target2=_t.data('target-2')||_t.data('bs-target-2')||'',_toastMessage=_t.data('toast-success-message')||'',_toastSuccessType=_t.data('toast-success-type')||'success',_toastPos=_t.data('toast-success-position')||'top-center',_temporized=_t.data('toggle-temporized')||0,_toggleClass=_t.data('toggle-container-class')||'',_toggleClass2=_t.data('toggle-container-class-2')||'',_requestOn=_t.data('toggle-ajax-url-on')||'',_requestOff=_t.data('toggle-ajax-url-off')||'',_requestMethod=_t.data('toggle-ajax-method')||$.WOLF.core.btn_toggle.config.method,_bodyToggleClass=_t.data('toggle-body-class')||'';if(_t.hasClass('disabled'))
return;if(_requestOff==''&&_requestOn!=''&&_t.hasClass('active'))
return null;_t.toggleClass('active');if(_target==''&&_targetRw!='')
_target=_targetRw;if(_target!=''&&_toggleClass!=''){jQuery(_target).toggleClass(_toggleClass);e.preventDefault()}
if(_target2!=''&&_toggleClass!='')
jQuery(_target2).toggleClass(_toggleClass2);if(_bodyToggleClass!=''){$.WOLF.globals.elBody.toggleClass(_bodyToggleClass);e.preventDefault()}
if(_temporized>0){setTimeout(function(){if(_target!=''&&_toggleClass!='')
jQuery(_target).removeClass(_toggleClass);if(_target2!=''&&_toggleClass2!='')
jQuery(_target2).removeClass(_toggleClass2);if(_bodyToggleClass!='')
$.WOLF.globals.elBody.removeClass(_bodyToggleClass);_t.removeClass('active disabled')},Number(_temporized))}
if(_requestOff==''&&_requestOn=='')
return null;e.preventDefault();var _url=_t.hasClass('active')?_requestOn:_requestOff;jQuery.ajax({url:_url,type:_requestMethod,data:$.WOLF.core.btn_toggle.config.data_params,contentType:$.WOLF.core.btn_toggle.config.contentType,dataType:$.WOLF.core.btn_toggle.config.dataType,headers:$.WOLF.core.btn_toggle.config.headers,crossDomain:$.WOLF.core.btn_toggle.config.crossDomain,beforeSend:function(){$.WOLF.helper.consoleLog('SOW Btn Toggle [Ajax][Request Sent]: '+_url)},error:function(XMLHttpRequest,textStatus,errorThrown){if(typeof $.WOLF.core.toast==='object'){$.WOLF.core.toast.show('danger','404 Error','Unexpected Internal error!','bottom-center',0,!0)}else{alert("[404] Unexpected internal error!")}},success:function(data){$.WOLF.helper.consoleLog('SOW Btn Toggle [Ajax][Server Response]: '+data);if(_requestOff==''&&_requestOn!='')
_t.addClass('disabled');if(_toastMessage!=''&&typeof $.WOLF.core.toast==='object')
$.WOLF.core.toast.show(_toastSuccessType,'',_toastMessage,_toastPos,((_temporized>0)?3500:1500),!0);}})})},}})(jQuery);(function($){'use strict';var scriptInfo='WOLFI Fieldset';$.WOLF.core.fieldset={config:{},collection:$(),init:function(selector){return $(selector).each(function(){if(!$(this).isEmptyTag())return;if($(this).hasClass('done'))return;if(!$(this).hasAttr('data-control'))return;if(!$(this).hasAttr('data-variable'))return;$.WOLF.core.fieldset.process($(this))})},clearTag:function(_this){let clearArray=['variable','width','height','klass','label'];for(let i=0;i<clearArray.length;i++){let data_name=clearArray[i],attr_name='data-'+clearArray[i];if($(_this).hasAttr(attr_name))$(_this).removeAttr(attr_name).removeData(data_name);};return _this},makeVars:function(input,variable){return $(input).attr('data-variable',variable).data('variable',variable).attr('name',variable).data('name',variable).attr('id',variable).data('id',variable)},makeOptions:function(type,itemStr,variable=null,currentvalue=''){let _self=this,back='',items=itemStr.split(';');let currentvalues;if(!currentvalue){currentvalues=[]}else if(typeof currentvalue==='string'){currentvalues=currentvalue.split(',')}else if(Array.isArray(currentvalue)){currentvalues=currentvalue}else{currentvalues=[currentvalue.toString()]}
if(type=='select'){for(var i=0;i<items.length;i++){var parts=items[i].split(':');if(parts.length===2){var key=parts[0],value=parts[1],selected=$.inArray(key,currentvalues)!==-1?' selected ':'';back+='<option '+selected+' value="'+key+'">'+value+'</options>'}}}else if(type=='radio'||type=='checkbox'){for(var i=0;i<items.length;i++){var parts=items[i].split(':');if(parts.length===2){let key=parts[0],value=parts[1],checked=$.inArray(key,currentvalues)!==-1?' checked ':'';let newID=variable+'_'+i,input='<input '+checked+' value="'+key+'" data-variable="'+variable+'" name="'+variable+'" id="'+newID+'" type="'+type+'" />',label='<label for="'+newID+'">'+value+'</label>';back+=input+label}}}
return back},process:function(_this){if($(_this).closest('[data-labelgrid]').length>0){let labelsize=$(_this).closest('[data-labelgrid]').data('labelgrid'),fieldsize=12-parseInt(labelsize);$(_this).data('grid',!0);$(_this).wrap('<dl class="row my-0"></dl>');$(_this).wrap('<dd class="label col-sm-'+fieldsize+'"></dd>');$(_this).closest('dl').prepend($('<dt class="pt-3 col-sm-'+labelsize+'"></dt>'))}
switch(_this.attr('data-control')){case 'text':this.textinput(_this);break;case 'file':this.fileinput(_this);break;case 'chosen':this.select_chosen(_this);break;case 'select':this.select_bootstrap(_this);break;case 'checkradio':this.checkradio(_this);break;case 'daterange':this.daterange(_this);break;default:break}
_this=this.clearTag(_this);$(_this).addClass('done')},daterange:function(_this){let quickLocale={};quickLocale.lang_apply="O.K.";quickLocale.lang_cancel="Abbr.";quickLocale.lang_crange="Zeitspanne";quickLocale.lang_months=["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"];quickLocale.lang_weekdays=["So","Mo","Di","Mi","Do","Fr","Sa"];let options=$.extend({variable:null,value:null,label:null,quickLocale:quickLocale,outputFormat:"YYYY-MM-DD HH:mm",outputStart:null,outputEnd:null,dateFormat:"YYYY-MM-DD HH:mm",placeHolder:"",timepicker:!0,timepicker24h:!0,timepickerShowSeconds:!1,range:!0,required:!1,disableAutoUpdateInput:!1,iconRight:null,iconLeft:null,width:'100%',style:null,klass:null},_this.data()),_self=this,control=$('<div class="control"></div'),input=$('<input type="text" class="form-control rangepicker" />'),inputStart=$('<input type="hidden" />'),inputEnd=$('<input type="hidden" />'),label=options.label?$('<label for="'+options.variable+'">'+options.label+'</label>'):null,width=options.width,klassString=options.klass;$(_this).append(control);$(control).append(label);$(control).append(input);options.outputStart&&$(control).append(inputStart);options.outputEnd&&$(control).append(inputEnd);options.iconRight&&$(control).prepend('<div class="iconRight '+options.iconRight+'"></div>');options.iconRight&&$(_this).addClass('iconRight');input=_self.makeVars(input,options.variable);inputStart=_self.makeVars(inputStart,options.outputStart);inputEnd=_self.makeVars(inputEnd,options.outputEnd);input.data(options);input.attr('data-timepicker-24h',$(_this).attr('data-timepicker-24h'));input.change(function(){Value.setDateRange(this)})},select_chosen:function(_this){let options=$.extend({variable:null,value:null,items:null,multiple:!1,label:null,iconRight:null,iconLeft:null,maxlength:null,width:'100%',type:'text',value:null,style:null,klass:''},_this.data());let _self=this,control=$('<div class="control"></div'),select=$('<select class="chosen-select" data-container="body" />'),label=options.label?$('<label>'+options.label+'</label>'):null,width=options.width,klassString=options.klass;select=_self.makeVars(select,options.variable);select.append(_self.makeOptions('select',options.items,options.variable,options.value));options.multiple&&select.attr('multiple','');select.attr('data-value',options.value).attr('value',options.value);$(_this).append(control);$(control).append(label);$(control).append(select);options.label&&$(control).prepend(label);options.label&&$(label).attr('for',options.variable).text(options.label);_this=_self.clearTag(_this);return select.chosen().val($.checkArray(options.value)).trigger("chosen:updated").addClass('done')},select_bootstrap:function(_this){let options=$.extend({variable:null,value:null,items:null,itemsMin:1,itemsMax:25,multiple:!1,label:null,iconRight:null,iconLeft:null,maxlength:null,width:'100%',type:'text',value:null,container:'body',style:'',klass:''},_this.data());if(!options.items){for(let i=options.itemsMin;i<=options.itemsMax;i++){options.items+=i+':'+i+';'}
options.items.trim(';')}
let _self=this,control=$('<div class="control"></div'),select=$('<select class="bs-select form-control '+options.style+'"  />'),label=options.label?$('<label>'+options.label+'</label>'):null,width=options.width,klassString=options.klass;select=_self.makeVars(select,options.variable);select.append(_self.makeOptions('select',options.items));options.multiple&&select.attr('multiple',!0);select.attr('value',options.value);select.data('value',options.value);if(options.container=="this")select.data('container',_this);else if(options.container=="parent")select.data('container',_this.parent());else select.data('container',options.container);select.data('size',15);select.data('width',options.width);$(_this).append(control);$(control).append(label);$(control).append(select);options.label&&$(control).prepend(label);options.label&&$(label).attr('for',options.variable).text(options.label);select.attr('data-style',options.style);select.selectpicker().addClass('done');var val;if(select.attr('value')){val=select.attr('value')}else if(select.data('value')){val=select.data('value')}
select.selectpicker('val',val);_this=_self.clearTag(_this);return},checkradio:function(_this){let options=$.extend({input:"checkbox",items:null,variable:null,value:null,label:null,iconRight:null,iconLeft:null,maxlength:null,width:'100%',type:'text',value:null,style:null,klass:''},_this.data());console.log(options.input);let _self=this,control=$('<div class="control"></div'),label=options.label?$('<label for="'+options.variable+'">'+options.label+'</label>'):null,width=options.width,klassString=options.klass;$(_this).append(control);if(options.label){if(options.grid)(_this).closest('dl').find('dt').html(options.label);else{$(_this).prepend(label)}}
control.append(_self.makeOptions(options.input,options.items,options.variable,options.value))},textinput:function(_this){let options=$.extend({variable:null,label:null,required:!1,disabled:!1,pbefore:null,hbefore:null,pafter:null,hafter:null,iconRight:null,iconLeft:null,maxlength:null,width:'100%',type:'text',value:null,style:null,klass:'',change:null,grid:$(_this).closest('[data-labelgrid]').length>0?!0:!1},_this.data());let _self=this,control=$('<div class="control"></div'),input=$('<input type="'+options.type+'" class="form-control" />'),label=options.label?$('<label>'+options.label+'</label>'):null,width=options.width,klassString=options.klass;input=_self.makeVars(input,options.variable);$(_this).append(control);$(control).append(input);if(options.label){if(options.grid)(_this).closest('dl').find('dt').html(options.label);else{$(control).prepend(label);$(label).attr('for',options.variable).text(options.label)}}
options.pbefore&&$(_this).prepend('<p class="beforeFieldset" for="'+options.variable+'">'+options.pbefore+'</p>');options.hbefore&&$(_this).prepend('<h1 class="beforeFieldset" for="'+options.variable+'">'+options.hbefore+'</h1>');options.pafter&&$(_this).prepend('<p class="afterFieldset" for="'+options.variable+'">'+options.pafter+'</p>');options.hafter&&$(_this).prepend('<p class="smallFieldset" for="'+options.variable+'">'+options.hafter+'</p>');options.iconRight&&$(control).prepend('<div class="iconRight '+options.iconRight+'"></div>');options.iconRight&&$(_this).addClass('iconRight');options.iconLeft&&$(control).prepend('<div class="iconLeft '+options.iconLeft+'"></div>');options.iconLeft&&$(_this).addClass('iconLeft');options.disabled==!0&&$(input).attr('disabled','disabled');options.value&&$(input).attr('value',options.value).val(options.value);options.maxlength&&$(input).attr('maxlength',options.maxlength);$(_this).css({'width':width});options.change&&$(input).on('change',function(){eval($(_this).data('change'))});if(klassString.length>0)$(input).addClass(klassString);_this=_self.clearTag(_this);return},xtextinput:function(_this){let options=$.extend({variable:null,label:null,required:!1,disabled:!1,pbefore:null,hbefore:null,pafter:null,hafter:null,iconRight:null,iconLeft:null,maxlength:null,width:'100%',type:'text',value:null,style:null,klass:'',grid:$(_this).closest('[data-labelgrid]').length>0?!0:!1},_this.data());let _self=this,control=$('<div class="control"></div'),input=$('<input type="text" class="form-control" />'),label=options.label?$('<label>'+options.label+'</label>'):null,width=options.width,klassString=options.klass;input=_self.makeVars(input,options.variable);$(_this).append(control);$(control).append(input);options.label&&$(control).prepend(label);options.label&&$(label).attr('for',options.variable).text(options.label);options.pbefore&&$(_this).prepend('<p class="beforeFieldset" for="'+options.variable+'">'+options.pbefore+'</p>');options.hbefore&&$(_this).prepend('<h1 class="beforeFieldset" for="'+options.variable+'">'+options.hbefore+'</h1>');options.pafter&&$(_this).prepend('<p class="afterFieldset" for="'+options.variable+'">'+options.pafter+'</p>');options.hafter&&$(_this).prepend('<p class="smallFieldset" for="'+options.variable+'">'+options.hafter+'</p>');options.iconRight&&$(control).prepend('<div class="iconRight '+options.iconRight+'"></div>');options.iconRight&&$(_this).addClass('iconRight');options.iconLeft&&$(control).prepend('<div class="iconLeft '+options.iconLeft+'"></div>');options.iconLeft&&$(_this).addClass('iconLeft');options.disabled==!0&&$(input).attr('disabled','disabled');options.value&&$(input).attr('value',options.value).val(options.value);options.maxlength&&$(input).attr('maxlength',options.maxlength);$(_this).css({'width':width});_this=_self.clearTag(_this);return},fileinput:function(_this){let _self=this,options=$.extend({variable:null,value:null,label:null,width:'100px',height:'100px',background:'assets/_dummies/upload_person.jpg',accept:'image/x-png,image/gif,image/jpeg',maxSize:2,back:'cover',dir:'up',prefix:'f',style:null,klass:null,tooltip:null,align:'left',},_this.data());let control=$('<div class="control"></div'),master=$('<div class="master"></div'),input=$('<input style="display:none" type="file" />'),label=options.label?$('<label for="'+options.variable+'" class="text-'+options.align+'">'+options.label+'</label>'):null,styleString=options.style;$(_this).append(master);$(master).append(control);$(_this).append(input);if(label)$(label).insertBefore(_this);if(options.tooltip)$(_this).attr('data-bs-toggle','tooltip').attr('title',options.tooltip);options.klass&&$(_this).addClass(options.klass);options.type&&$(master).addClass(options.type);options.back&&$(control).addClass(options.back);input=_self.makeVars(input,options.variable);input.attr('accept',options.accept).attr('data-maxsize',options.maxSize).attr('data-copy',options.copy).attr('data-dir',options.dir).attr('data-prefix',options.prefix);if(options.value){input.attr('data-value',options.value).data('value',options.value);control.css({'background-image':"url('"+options.value+"')"});master.css({'background-image':'unset'})}else{}
$(master).on('click',function(){document.getElementById(options.variable).click()});$(input).on('change',function(){return $.WOLF.core.updown.uploadImage(input)})
$(_this).css({'width':options.width});$(_this).css({'height':options.height});_this=_self.clearTag(_this);return},}})(jQuery);$.WOLF.jump={toc:{},_container:'body',_site:'main',_box:'article',_field:'fieldset',marker:{'required':'fi fi-star-full'},initSite:function(obj='body'){$(obj).find('main:first').addClass('active');$(obj).find('fieldset, .goon-button').not('.marked-up').each(function(index){var type=$.WOLF.jump.field_type(this);switch(type){case 'text':$(this).find('input').focus(function(ev){$.WOLF.jump.manualFocus(ev.target)}).blur(function(ev){$.WOLF.jump.manualBlur(ev.target)}).keypress(function(ev){if(ev.key==="Enter"||ev.which==13||ev.keyCode===13){$.WOLF.jump.beforeLeave(ev.target)}else{$.WOLF.jump.field_marker_remove(ev.target)}});break;case 'textarea':$(this).find('textarea').keypress(function(ev){console.log('textarea function')});break;case 'radio':$(this).find('input:radio').change(function(ev){$.WOLF.jump.beforeLeave(ev.target)});break;case 'checkbox':$(this).find('input:checkbox').change(function(ev){console.log('checkbox function')});break;case 'select':$(this).find('select').change(function(ev){$.WOLF.jump.beforeLeave(ev.target)});break;case 'goon':if($(this).hasAttr('onclick')==!1)$(this).click(function(){$.WOLF.jump.set_box_focus(this)});break;case 'add':break;default:break}
$(this).addClass('marked-up').attr('data-control',type).attr('tabindex',index)});var firstVisibleField=$(obj).find('fieldset:visible:first'),firstVisibleBox=$(obj).find('fieldset:visible:first').closest('article'),firstVisibleSite=$(obj).find('fieldset:visible:first').closest('.site');$.WOLF.jump.set_field_autofocus(firstVisibleField,firstVisibleBox);return},set_field_autofocus:function(field,box){setTimeout(function(){$.WOLF.jump.set_field_focus(field);$.WOLF.jump.box_button_enabler(box)},300);return},field_type:function(field){$.WOLF.jump.field_set_markup(field);if($.WOLF.jump.field_is_required(field)==!0)$(field).addClass('is-required');if($.WOLF.jump.field_has_info(field)==!0){$(field).addClass('has-info')}
if($(field).find('input:radio').length>0&&$(field).find('.form-selector').length>0)$(field).addClass('buttonstyle');if($(field).hasAttr('data-control'))return $(field).attr('data-control');if($(field).find('input:radio').length>0)return'radio';else if($(field).find('input:checkbox').length>0)return'checkbox';else if($(field).find('input').length>0)return'text';else if($(field).find('textarea').length>0)return'textarea';else if($(field).find('select').length>0)return'select';else if($(field).hasClass('btn')){if($(field).hasAttr('data-control'))return $(field).attr('data-control');return'button'}else return'unknown'},field_marker:function(control,type){var field=$(control).closest('fieldset');if(!$(field).hasClass('state-'+type)){$(field).addClass('state-'+type);$(field).on('focus click',function(){$(field).remove('state-'+type)})}
return!1},field_marker_remove:function(control,type){$(control).closest('fieldset').removeClass('state-'+type);return!0},field_marker_check:function(control){$(control).closest('fieldset').removeClass('state-missing state-format stae-focus');return!0},field_set_markup:function(field){if($(field).find('.markup').length==0){$(field).append('<span class="markup"></span>')}
return},field_is_required:function(field){return($(field).hasAttr('required')||$(field).hasAttr('data-required')||$(field).find('[required]').length>0||$(field).find('[data-required]').length>0)?!0:!1},field_has_info:function(field){if($(field).hasAttr('data-info')&&$(field).attr('data-info').length>0){$(field).find('.markup').attr('data-toggle','tooltip').attr('title',$(field).attr('data-info')).attr('data-placement','left');return!0}else{return!1}},field_value:function(field){var value=$(field).val();return value},field_has_required_value:function(field,testOnly=!1){var value=$.WOLF.jump.field_value(field);if(testOnly==!0)return Proof.required(field,value)?!0:!1;else return Proof.required(field,value)?$.WOLF.jump.field_marker_remove(field):$.WOLF.jump.field_marker(field,'missing')},field_has_proper_format:function(field,testOnly=!1){var value=$.WOLF.jump.field_value(field),hasFormat=$(field).hasAttr('data-format'),format=$(field).attr('data-format');if(!value||!hasFormat)return $.WOLF.jump.field_marker_remove(field,'wrong');if(testOnly==!0)return Proof.format(field,format,value)?!0:!1;else return Proof.format(field,format,value)?$.WOLF.jump.field_marker_remove(field,'wrong'):$.WOLF.jump.field_marker(field,'wrong')},box_all_required_values:function(site){return!0},box_all_proper_formats:function(site){return!0},box_scan_errors:function(box){var missing_values=0,format_errors=0,testObj;$(box).find('fieldset:visible').each(function(){if($(this).find('[data-variable]').length>0){testObj=$(this).find('[data-variable]:first');if($.WOLF.jump.field_has_required_value(testObj,!0)==!1){missing_values++;$(this).addClass('flag-missing')}
if($.WOLF.jump.field_has_proper_format(testObj,!0)==!1){format_errors++;$(this).addClass('flag-format')}}});if(missing_values==0&&format_errors==0)return!0;else return!1},box_count_errors:function(site,type){return $(site).find('.flag-'+type).length},box_button_enabler:function(box){var noErrors=$.WOLF.jump.box_scan_errors(box);if(noErrors==!0)return $(box).find('fieldset:visible[data-control=goon]').removeAttr('disabled');return $(box).find('fieldset:visible[data-control=goon]').attr('disabled','disabled')},beforeLeave:function(leavingObj,manualBlur=!1){var info={};info.control=leavingObj;info.controlName=$(leavingObj).attr('name');info.field=$(leavingObj).closest('fieldset');info.fieldIndex=$('fieldset:visible').not('[data-control=goon]').index(info.field);info.fieldNextIndex=info.fieldIndex+1;info.fieldNext=$('fieldset:visible').not('[data-control=goon]').eq(info.fieldNextIndex);info.fieldNextAvailability=$('fieldset:visible').not('[data-control=goon]').eq(info.fieldNextIndex).length?!0:!1;info.boxGoonAvailablility=$('fieldset:visible[data-control=goon]').length>0?!0:!1;info.boxGoonButton=$('fieldset:visible[data-control=goon]:first');info.boxGoonButtonClickablility=$('fieldset:visible[data-control=goon]:first').attr("onclick")!=undefined?!0:!1;info.noMissing=$.WOLF.jump.field_has_required_value(leavingObj);info.noWrongFormat=$.WOLF.jump.field_has_proper_format(leavingObj);info.noErrors=$.WOLF.jump.box_scan_errors(info.box);info.missingErrors=$.WOLF.jump.box_count_errors(info.box,'missing');info.formatErrors=$.WOLF.jump.box_count_errors(info.box,'format');if(info.noErrors==!0)$('fieldset:visible[data-control=goon]:first').removeAttr('disabled');else $('fieldset:visible[data-control=goon]:first').attr('disabled','disabled');$.WOLF.jump.field_marker_check(info.field);if(manualBlur==!0)return;if(info.fieldNextAvailability){return $.WOLF.jump.set_field_focus(info.fieldNext)}else{if(info.noErrors==!1){alert(info.missingErrors+'#'+info.formatErrors);return}else{if(info.boxGoonButtonClickablility){$(info.boxGoonButton).click()}else if(info.boxGoonAvailablility){$.WOLF.jump.set_box_focus(leavingObj)}else $.WOLF.jump.set_box_focus(leavingObj)}}
return},manualBlur:function(leavingObj){$.WOLF.jump.beforeLeave(leavingObj,!0);return},manualFocus:function(focusField){$('.state-focus').removeClass('state-focus');setTimeout(function(){$(focusField).closest('fieldset').addClass('state-focus')},300);return},set_field_focus:function(focusField){function setControlfocus(field){var type=$(field).attr('data-control');switch(type){case 'text':$(field).find('input').select();break;case 'textarea':$(field).find('textarea').focus();break;case 'checkbox':$(field).find('input:first').focus();break;case 'radio':$(field).find('input:first').focus();break;case 'select':setTimeout(function(){$(field).find('select').selectpicker('toggle')},300);break;case 'myClick':setTimeout(function(){$(field).click()},300);break;default:break}
return}
$('.state-focus').not(focusField).removeClass('state-focus');$(focusField).addClass('state-focus');setControlfocus(focusField);return},set_box_focus:function(leavingObj){var info={};info.box=$(leavingObj).closest('article');info.boxrow=$(leavingObj).closest('main').find('article').not('[disabled]');info.boxMax=$(info.boxrow).length,info.boxIndex=$(info.boxrow).not('[disabled]').index(info.box),info.boxNextIndex=info.boxIndex+1,info.boxNextAvailablility=$(info.boxrow).eq(info.boxNextIndex).length>0?!0:!1;if(info.boxNextAvailablility==!0){var newBox=$(info.boxrow).eq(info.boxNextIndex);$(info.box).removeClass('active');$(newBox).addClass('active');if($(newBox).hasAttr('id')){$('[href="#'+$(newBox).attr('id')+'"]').closest('.jumpProgress').find('.active').removeClass('active');$('[href="#'+$(newBox).attr('id')+'"]').addClass('active')}
$.WOLF.jump.set_field_autofocus($(newBox).find('fieldset:visible:first'),newBox)}else{$.WOLF.jump.set_site_focus(leavingObj)}
return},set_site_focus:function(leavingObj){var info={};info.site=$(leavingObj).closest('.site');info.siterow=$('body').find('.site').not('[disabled]');info.siteMax=$(info.siterow).length,info.siteIndex=$(info.siterow).not('[disabled]').index(info.site),info.siteNextIndex=info.siteIndex+1,info.siteNextAvailablility=$(info.siterow).eq(info.siteNextIndex).length>0?!0:!1;if(info.siteNextAvailablility==!0){var newSite=$(info.siterow).eq(info.siteNextIndex);$(info.site).removeClass('active');$(newSite).addClass('active');if($(newSite).hasAttr('id')){$('[href="#'+$(newSite).attr('id')+'"]').closest('.jumpProgress').find('.active').removeClass('active');$('[href="#'+$(newSite).attr('id')+'"]').addClass('active')}
$.WOLF.jump.set_field_autofocus($(newSite).find('fieldset:visible:first'),newBox)}else{console.log('no more sites')}
return},afterFocus:function(focusObject){}}
$(document).ready(function(){if($($.WOLF.jump._container+':visible').length>0)$.WOLF.jump.initSite($.WOLF.jump._container+':visible');});$.WOLF.core.updown={uploadImage:function(input,masterclone=null){let _self=this,fieldset=$(input).closest('[data-control]').find('.master'),control=$(fieldset).find('.control'),maxSize=$(input).hasAttr('data-maxsize')?$(input).attr('data-maxsize'):3;var fd=new FormData();var files=$(input)[0].files[0];var fileSize=files.size/1024/1024;if(fileSize>parseFloat(maxSize)){$(input).val('');return myAlert('<p>Die Bilddatei darf nicht größer als '+maxSize+' MB sein, die ausgewählte Datei hat <b>'+fileSize.toFixed(2)+' MB</b>. </p><p>Bitte versuche die Bilddatei zu verkleinern oder verwende ein anderes Bild mit geringerer Dateigröße!</p>',{title:'Achtung - Fehler!'})}
$(fieldset).addClass('loading');fd.append('file',files);var prefix=$(input).hasData('prefix')?$(input).data('prefix'):null;var dir=$(input).hasData('dir')?$(input).data('dir'):null;var copy=$(input).hasData('copy')?$(input).data('copy'):'no';$.ajax({url:BACKBONE+'?req=media_smart&dir='+dir+'&prefix='+prefix+'&copy='+copy+'&randy='+getRandom(),type:'POST',data:fd,xhr:function(){var xhr=new window.XMLHttpRequest();xhr.upload.addEventListener("progress",function(evt){if(evt.lengthComputable){var percentComplete=evt.loaded/evt.total;console.log(percentComplete)}},!1);return xhr},success:function(response){response=response.trim();if(response!=-1){if($(control).find('img').length==0){$(control).css('background-image',"url('"+response+"')");$(fieldset).css('background-image',"unset");$(input).attr('data-value',response).data('value',response);if($(masterclone).length>0){$(masterclone).css('background-image',"url('"+response+"')")}}else if($(control).find('img').length>0){$(control).find('img').attr('src',response)}
if($(input).closest('[data-table][data-id]').length>0){AX.updateDirect($(input).closest('[data-table]').attr('data-table'),$(input).attr('name'),$(input).closest('[data-id]').attr('data-id'),response)}
$(fieldset).removeClass('loading')}else{myAlert('File not uploaded');$(fieldset).removeClass('loading')}},error:function(response){standardError(response);$(fieldset).removeClass('loading')},cache:!1,contentType:!1,processData:!1});return!1},uploadDBDocument:function(obj){var master=$(obj).closest('[data-type]');$(master).addClass('animate-pulse');var fd=new FormData();var files=$(obj)[0].files[0];fd.append('file',files);var prefix=$(obj).hasData('prefix')?$(obj).data('prefix'):null;var dir=$(obj).hasData('dir')?$(obj).data('dir'):null;var id=$(obj).hasData('id')?$(obj).data('id'):-99;$.ajax({url:BACKBONE+'?req=media_DBdocument&id='+id+'&dir='+dir+'&prefix='+prefix+'&randy='+getRandom(),type:'POST',data:fd,xhr:function(){var xhr=new window.XMLHttpRequest();xhr.upload.addEventListener("progress",function(evt){if(evt.lengthComputable){var percentComplete=evt.loaded/evt.total}},!1);return xhr},success:function(response){response=response.trim();if(response!=-1){var icon='my_pdf',type='pdf',parts=response.split('.');if(parts.length>0)icon='file_'+parts[parts.length-1];$(obj).closest('div.w-row').find('.downloader').empty().html('<img style="width:24px;height:24px;" class="icon cursor-hand" name="'+icon+'" onclick="javascript:AX.download(\''+response+'\');" />')
AX.start()}else{standardOK('file not uploaded')}
$(master).removeClass('loading')},error:function(response){standardError(response);$(master).removeClass('loading')},cache:!1,contentType:!1,processData:!1});return!1},};$.WOLF.core.dialog={myModal:function(content,data={}){let options=$.extend({plain:!0,width:600,avatar:null,content:null,personal:!1,type:'modal',bell:!1,success:null,header:null,yes:'O.K.',no:'Abbrechen',buttons:'<button type="button" class="btn btn-outline-danger btn-sm" data-bs-dismiss="modal"> O.K. </button>'},data);let modalID='my'+options.type.charAt(0).toUpperCase()+options.type.slice(1);if($('#'+modalID).length>0)$('#'+modalID).remove();var modal=$('<div id="'+modalID+'" class="modal fade"></div>'),modalDialog=$('<div class="modal-dialog modal-dialog-centered mx-auto"></div>'),modalContent=$('<div class="modal-content"></div>'),modalCloser=$('<button class="bi bi-x" data-bs-dismiss="modal"></button>'),modalBody=$('<main></main>'),buttonRow=[],buttons;$(modal).append(modalDialog);$(modalDialog).append(modalContent);if(typeof content==='string'){if(data){options=$.extend(options,data)}
$(modalContent).html(content);$(modalDialog).append(modalContent);if(options.type=='alert'){$(modalContent).contents().wrapAll("<main></main>");options.header=options.title?options.title:'Achtung';options.width=400;options.bell=!0}
options.header&&modalContent.prepend('<header><div>'+options.header+'</div></header>');if(options.footer&&typeof options.footer==='object'){modalContent.append(options.footer)}else if(options.footer){modalContent.append('<footer>'+options.footer+'</footer>')}else if(modalContent.find('footer').length==0){modalContent.append('<footer>'+options.buttons+'</footer>')}}else if(typeof content==='object'){options=$.extend(options,content);if(data){options=$.extend(options,data)}
if(options.type=='alert'){options.header='Achtung';options.footer='<button type="button" class="btn btn-outline-danger btn-sm" data-bs-dismiss="modal"> O.K. </button>';options.width=400;options.bell=!0}else if(options.type=='confirm'){options.header='Bitte bestätigen';options.footer='<button type="button" class="btn btn-outline-danger btn-sm" data-bs-dismiss="modal"> O.K. </button>';options.width=500;options.bell=!0;options.footer='<button data-bs-dismiss="modal" class="btn btn-outline-danger btn-sm">'+options.no+'</button>'+'<button onclick="'+options.success+'" data-bs-dismiss="modal" class="btn btn-primary btn-sm ms-auto">'+options.yes+'</button>'}
options.txt&&modalContent.append('<main>'+options.txt+'</main>');options.header&&modalContent.prepend('<header>'+options.header+'</header>');options.footer&&modalContent.append('<footer>'+options.footer+'</footer>')}
$(modalContent).find('header').length>0?$(modalContent).find('header').append(modalCloser):$(modalContent).append(modalCloser);options.width&&modalDialog.css('width',options.width+'px');options.bell==!0&&$(modalContent).find('header').append('<div class="bell bi bi-bell-fill" data-bs-dismiss="modal"></div>');$('body').append(modal);$('#'+modalID).on('show.bs.modal',function(event){$(this).find('.modal-dialog').velocity('callout.tada');$('body').addClass('modal-open modal-open-'+options.type)});$('#'+modalID).on('shown.bs.modal',function(event){AX.start(this)});$('#'+modalID).on('hide.bs.modal',function(event){if(typeof options.success==='function'){options.success()};$('body').removeClass('modal-open modal-open-'+options.type)});$('#'+modalID).on('hidden.bs.modal',function(){$(this).remove()});const myModal=new bootstrap.Modal('#'+modalID,{keyboard:!1,focus:!0,backdrop:!0});myModal.show()},myAlert:function(content,data={}){console.log(data);let options=$.extend({width:400,type:'alert',avatar:null,content:null,personal:!1,title:'Achtung',success:null,buttons:'<button type="button" class="btn btn-outline-danger btn-sm" data-bs-dismiss="modal"> O.K. </button>'},data);console.log(options);let modalID='myAlert';if($('#'+modalID).length>0)$('#'+modalID).remove();let modal=$('<div id="'+modalID+'" class="modal fade"></div>'),modalDialog=$('<div class="modal-dialog modal-dialog-centered"></div>'),modalContent=$('<div class="modal-content"></div>'),modalHeader=$('<header></header>'),modalBody=$('<main></main>'),modalFooter=$('<footer></footer>');$(modal).append(modalDialog);$(modalDialog).append(modalContent);$(modalContent).append(modalHeader).append(modalBody).append(modalFooter);options.width&&modalDialog.css('width',options.width+'px');if(options.title){$(modalHeader).append('<div>'+options.title+'</div>').append('<div class="bell bi bi-bell-fill" data-bs-dismiss="modal"></div>').append('<button class="bi bi-x" data-bs-dismiss="modal"></button>')}else{$(modalHeader).remove()}
$(modalBody).html(content);alert(options.buttons);$(modalFooter).append(options.buttons);$('body').append(modal);$('#'+modalID).on('show.bs.modal',function(event){$('.modal-dialog').velocity('callout.pulse');$('body').addClass('modal-open modal-open-'+options.type)});$('#'+modalID).on('shown.bs.modal',function(event){AX.start(this)});$('#'+modalID).on('hide.bs.modal',function(event){if(typeof options.success==='function'){options.success()};$('body').removeClass('modal-open modal-open-'+options.type)});$('#'+modalID).on('hidden.bs.modal',function(){$(this).remove()});const alertModal=new bootstrap.Modal('#'+modalID,{keyboard:!1,focus:!0,backdrop:!1});return alertModal.show()},myConfirm:function(obj,data={}){let options=$.extend({width:400,type:'confirm',avatar:null,content:null,title:'Please confirm!',txt:'You sure about that?',yes:'O.K.',no:'Cancel',},$(obj).data(),data);let successhandle=options.success?options.success:alert('no successhandle available');let modalID='myConfirm';if($('#'+modalID).length>0)$('#'+modalID).remove();let modal=$('<div id="'+modalID+'" class="modal fade"></div>'),modalDialog=$('<div class="modal-dialog modal-dialog-centered"></div>'),modalContent=$('<div class="modal-content animate-pulse-gray"></div>'),modalHeader=$('<header></header>'),modalBody=$('<main></main>'),modalFooter=$('<footer></footer>'),buttons='<button data-bs-dismiss="modal" class="btn btn-outline-danger btn-sm">'+options.no+'</button>'+'<button onclick="'+successhandle+'" data-bs-dismiss="modal" class="btn btn-primary btn-sm ms-auto">'+options.yes+'</button>';$('body').append(modal);$(modal).append(modalDialog);$(modalDialog).append(modalContent);$(modalContent).append(modalHeader).append(modalBody).append(modalFooter);$(modalHeader).append('<div>'+options.title+'</div>').append('<div class="bell bi bi-bell-fill" data-bs-dismiss="modal"></div>').append('<button class="bi bi-x" data-bs-dismiss="modal"></button>');$(modalBody).append(options.txt);$(modalFooter).append(buttons);options.width&&modalDialog.css('width',options.width+'px');$('body').append(modal);$('#'+modalID).on('show.bs.modal',function(event){$('body').addClass('modal-open modal-open-'+options.type)});$('#'+modalID).on('shown.bs.modal',function(event){AX.start(this)});$('#'+modalID).on('hide.bs.modal',function(event){if(typeof successHandle==='function'){successHandle()};$('body').removeClass('modal-open modal-open-'+options.type)});$('#'+modalID).on('hidden.bs.modal',function(){$(this).remove()});const confirmModal=new bootstrap.Modal('#'+modalID,{keyboard:!1,focus:!0,backdrop:!1});return confirmModal.show()},myOffcanvas:function(content,data={}){function unwrapper(content){let composed=$('<div></div>'),header=$(content).find('header'),body=$(content).find('main'),footer=$(content).find('footer');if(header)$(composed).append(header);if(body)$(composed).append(body);if(footer)$(composed).append(footer);return composed.html()}
let options=$.extend({width:400,main:null,header:null,footer:null,klass:null,id:null},data);if($('#myOffcanvas').length>0)$('#myOffcanvas').remove();let off=$('<div class="offcanvas offcanvas-end" tabindex="-1" id="myOffcanvas"></div>');options.width&&off.css('width',options.width+'px');if(typeof content==='string'){off.html(content)}else if(typeof content==='object'){options=$.extend(options,content)}else if(data){options=$.extend(options,data);options.header&&off.prepend('<header>'+options.header+'</header>');options.main&&off.append('<main>'+options.main+'</main>');options.footer&&off.append('<footer>'+options.footer+'</footer>')}
$('body').append(off);off.on('shown.bs.offcanvas',function(event){AX.start()});off.on('hidden.bs.offcanvas',function(){$(this).remove()});const offCanvas=new bootstrap.Offcanvas(off[0]);offCanvas.show()},};var $Cookie={standardName:'allowCookie',get:function(name=$Cookie.standardName){var keyValue=document.cookie.match("(^|;) ?"+name+"=([^;]*)(;|$)");return keyValue?keyValue[2]:keyValue},set:function(name=$Cookie.standardName,value=!0,expire=(365*24*60*60*1000)){var expires=new Date();expires.setTime(expires.getTime()+expire);document.cookie=name+"="+value+";expires="+expires.toUTCString();return},removeAll:function(){var cookies=document.cookie.split(";");for(var i=0;i<cookies.length;i++){var cookie=cookies[i];var eqPos=cookie.indexOf("=");var name=eqPos>-1?cookie.substr(0,eqPos):cookie;document.cookie=name+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT"}
return},init:function(){var cookieNotice=$Cookie.get($Cookie.standardName);if(!cookieNotice||cookieNotice==null||cookieNotice=='null'||cookieNotice=='false'||cookieNotice==!1){$('#cookie-notice').addClass('show');$('#cookie-notice').find('button').each(function(){return $(this).on('click',function(){if($(this).hasAttr('data-set')){$Cookie.set($Cookie.standardName,!0);$Cookie.set($Cookie.standardName+'_date',new Date());$('#cookie-notice').removeClass('show')}else{$('#cookie-notice').removeClass('show')}})})}}};(function($){'use strict';var scriptInfo='Vendor Sortable';$.WOLF.vendor.sortable={config:{dataIdAttr:'data-id',handle:'.sortable-handle',animation:150,ghostClass:'bg-primary-soft',chosenClass:'bg-white-alt',swapClass:'bg-warning-soft',filter:'.js-ignore',headers:'',crossDomain:'',},collection:$(),init:function(selector,config){if(selector!=''){if(jQuery(selector).length<1)
return null}
if(typeof Sortable!=='function'){var paths=$.WOLF.helper.vendorLogicPaths('sortable');console.log(paths);if(paths.path_js==''){standardInfo('Vendor Missing : '+scriptInfo);return null}
$.WOLF.helper.loadScript([paths.path_js],!1,!0).done(function(){if(typeof Sortable!=='function'){$.WOLF.helper.consoleLog('Vendor Missing : '+scriptInfo);return null}
$.WOLF.vendor.sortable.init(selector,config);return null});return null}
var __selector=$.WOLF.helper.__selector(selector);var __config=$.WOLF.helper.check_var(config);this.selector=__selector[0];this.collection=__selector[1];this.config=(__config!==null)?$.extend({},this.config,__config):this.config;$.WOLF.helper.consoleLog('Init : '+scriptInfo);if(!this.selector){$.WOLF.vendor.sortable.process($('.sortable'));return $('.sortable')}
return this.collection.each(function(){$.WOLF.vendor.sortable.process($(this))})},process:function(_this){if(_this.hasClass('js-sortablified'))
return;var _id=_this.attr('id')||'',_sharedGroup=_this.data('shared-group')||'',_pullMode=_this.data('pull-mode')||'',_putDenied=_this.data('put-denied')||'false',_sortableType=_this.data('sortable-type')||'',_sortDisable=_this.data('sort-disable')||'false',_sortSwap=_this.data('sort-swap')||'false',_swapThreshold=_this.data('swap-treshold')||'',_hasHandle=jQuery($.WOLF.vendor.sortable.config.handle,_this).length||0;_this.addClass('js-sortablified');if(_id==''){var _id='strand_'+$.WOLF.helper.randomStr(3);_this.attr('id',_id)}
var _config={dataIdAttr:$.WOLF.vendor.sortable.config.dataIdAttr||'data-id',handle:(_hasHandle>0)?$.WOLF.vendor.sortable.config.handle:null,animation:$.WOLF.vendor.sortable.config.animation,ghostClass:$.WOLF.vendor.sortable.config.ghostClass,chosenClass:$.WOLF.vendor.sortable.config.chosenClass,swapClass:$.WOLF.vendor.sortable.config.swapClass,filter:$.WOLF.vendor.sortable.config.filter,onUpdate:function(evt){var items=sortable.toArray();$.WOLF.vendor.sortable.sortable__update_order(_this,items)}};if(_sharedGroup!=''){if(_pullMode=='')
_config.group=_sharedGroup;else if(_pullMode!=''){_config.group={name:_sharedGroup,pull:_pullMode,put:(_putDenied+''=='true')?!1:!0,}}}
if(_sortDisable+''=='true')
_config.sort=!1;if(_swapThreshold!='')
_config.swapThreshold=swapThreshold;if(_sortableType.toLowerCase()=='nested'){_config.group='nested';_config.fallbackOnBody=!0;_config.swapThreshold=0.65}
if(_sortSwap+''=='true'){_config.swap=!0}
var el=document.getElementById(_id);var sortable=new Sortable(el,_config)},sortable__update_order:function(_this,items){var _updateParams=_this.data('ajax-update-params')||'',_updateUrl=_this.data('ajax-update-url')||'',_updateIdentifier=_this.data('ajax-update-identifier')||'',_updateToastSuccess=_this.data('update-toast-success')||'Order Saved!',_updateToastPosition=_this.data('update-toast-position')||'bottom-center';if(_updateUrl=='')
return;var formData=new FormData();formData.append('action','reorder');formData.append('ajax','true');formData.append('identifier',_updateIdentifier);if(_updateParams!=''){var ajax_params_arr=$.WOLF.helper.params_parse(_updateParams);for(var i=0;i<ajax_params_arr.length;++i){formData.append(ajax_params_arr[i][0],ajax_params_arr[i][1])}}
for(var i=0;i<items.length;++i){formData.append('items[]',items[i])}
$.ajax({url:_updateUrl,cache:!1,contentType:!1,processData:!1,data:formData,type:'POST',headers:$.WOLF.vendor.sortable.headers,crossDomain:$.WOLF.vendor.sortable.crossDomain,beforeSend:function(){},success:function(data){$.WOLF.helper.consoleLog(data);if(typeof $.WOLF.core.toast==='object'&&_updateToastSuccess!='')
$.WOLF.core.toast.show('success','',_updateToastSuccess,_updateToastPosition,1800,!0);},error:function(data){$.WOLF.helper.consoleLog(data);if(typeof $.WOLF.core.toast==='object'){$.WOLF.core.toast.show('danger','','404 Server Error!',_updateToastPosition,4000,!0)}else{alert('404 Server Error!')}},})}}})(jQuery);(function($){'use strict';var scriptInfo='Wolfi Vendor Bootstrap Select';$.WOLF.vendor.bootstrap_select={config:{},collection:$(),init:function(selector,config){var __selector=$.WOLF.helper.__selector(selector);var __config=$.WOLF.helper.check_var(config);this.selector=__selector[0];this.collection=__selector[1];this.selector_orig=__selector[2];this.config=(__config!==null)?$.extend({},this.config,__config):this.config;$.WOLF.helper.consoleLog('Init : '+scriptInfo);return this.collection.each(function(){$.WOLF.vendor.bootstrap_select.process($(this))})},process:function(_this){if(_this.hasClass('done'))
return;_this.selectpicker('render').addClass('done');var val;if(_this.attr('value')){val=_this.attr('value')}else if(_this.data('value')){val=_this.data('value')}
try{if(val.indexOf(",")>=0){val=val.replace(/\[/g,'').replace(/\]/g,'').split(',')}}catch(e){console.log('looks strange in select bootstrap init!!!')}
_this.selectpicker('val',val)},refresh:function(_selector){if(!jQuery().selectpicker)
return;if(typeof _selector==='undefined')
var _selector=this.selector;var _this=(typeof _selector!=='object')?jQuery(_selector):_selector;if(_this.hasClass('js-bselectified'))
_this.selectpicker('refresh');}}})(jQuery);(function($){'use strict';var scriptInfo='WOLFI TOOLTIP';$.WOLF.vendor.wolftip={config:{},collection:$(),init:function(selector,config){var __selector=$.WOLF.helper.__selector(selector);var __config=$.WOLF.helper.check_var(config);this.selector=__selector[0];this.collection=__selector[1];this.selector_orig=__selector[2];this.config=(__config!==null)?$.extend({},this.config,__config):this.config;return this.collection.each(function(){$.WOLF.vendor.wolftip.process($(this))})},process:function(_this){if(_this.hasClass('tip-done'))return;return _this.addClass('tip-done').tooltipster()},theme:'error',width:function(content){var $measure=$('<span>').css({'display':'inline-block','visibility':'hidden','position':'absolute','white-space':'nowrap'}).text(content).appendTo('body');var contentWidth=$measure.width();$measure.remove();return contentWidth>300?300:contentWidth},margin:function(width){return width==300?125:70},show:function(obj,content,theme=this.theme,selecting=!0){if($(obj).is(':hidden'))obj=$(obj).closest(':visible');let toolObj=$(obj);var instances=$.tooltipster.instances($(toolObj));$(instances).tooltipster('destroy');$('[data-tool=activeTooltip]').removeAttr('data-tool');var w=this.width(content),l=0,t=10;l=$(toolObj).width()>w?0:parseInt(($(toolObj).width()+w)/2-$(toolObj).width()+10);$(toolObj).tooltipster({theme:'tool'+theme,content:content,distance:0,position:['top','bottom','left','right'],arrow:!0,side:'right',functionPosition:function(instance,helper,position){position.coord.top+=t;position.coord.left+=l;return position},maxWidth:320,minWidth:w,trigger:'custom',triggerOpen:{mouseenter:!0,touchstart:!0},triggerClose:{mouseleave:!0,originClick:!0,touchleave:!0,tap:!0},}).tooltipster('open').attr('data-tool','activeTooltip');try{if(!inViewport($(obj))){let halfHeight=$(window).height()/2;$('html, body').animate({scrollTop:$(obj).offset().top-halfHeight},200)}}catch(e){console.log('error in viewport')}
if(selecting==!0)$(obj).select();$(obj).keypress(function(){try{$(toolObj).tooltipster('destroy')}catch(e){}});$('body').not(toolObj).mousedown(function(){try{$(toolObj).tooltipster('destroy')}catch(e){}});return},set:function(obj,content,theme=this.theme,selecting=!0){return this.show(obj,content,theme,selecting);let _self=this;if(!obj)return;obj=$(obj).eq(0);let toolObj=obj;if($(obj).closest('fieldset').length>0)
toolObj=$(obj).closest('fieldset');else toolObj=$(obj).eq(0);try{$(toolObj).tooltipster('destroy')}catch(e){}
let w=this.width(content),m=30,instances=$.tooltipster.instances(toolObj);$(toolObj).tooltipster({theme:'tool'+theme,content:content,position:'top',side:'left',functionPosition:function(instance,helper,position){position.coord.top+=0;return position},maxWidth:w,minWidth:w,trigger:'custom',triggerOpen:{mouseenter:!0,touchstart:!0},triggerClose:{mouseleave:!0,originClick:!0,touchleave:!0},}).tooltipster('open');if(selecting==!0)$(obj).select();$(obj).keypress(function(){try{$(toolObj).tooltipster('close')}catch(e){}});$('body').not(toolObj).mousedown(function(){try{$(toolObj).tooltipster('close')}catch(e){}})},set_info:function(obj,content,theme=$.WOLF.tooltip.theme){alert('wolfTip - set_info');var toolObj=obj;if($(obj).closest('fieldset').addBack().find('.markup').length>0)toolObj=$(obj).closest('fieldset').addBack().find('.markup');try{$(toolObj).tooltipster('destroy')}catch(e){}
var w=$.WOLF.tooltip.width(content),m=$.WOLF.tooltip.margin(w);$(toolObj).tooltipster({theme:'tool'+theme,content:content,position:'top',side:'left',functionPosition:function(instance,helper,position){position.coord.top+=0;position.coord.left-=m;return position},maxWidth:w,minWidth:w,trigger:'hover'})},reset_all:function(obj){$(obj).find('.markup').each(function(){if($(this).tooltipster()){$(this).tooltipster('destroy');console.log('destroyed')}else{console.log('not to dstroy')}});return}}})(jQuery);(function($){'use strict';var scriptInfo='WOLFI SVG';$.WOLF.vendor.index={config:{},collection:$(),init:function(selector){return $(selector).each(function(){if($(this).closest('main#info_innerlist').length>0){$('header#kenn_header').find('.indexline').remove();$(this).appendTo($('header#kenn_header'))}
$.WOLF.vendor.index.process($(this))})},process:function(_this){if($(_this).hasClass('done'))return;$(_this).addClass('done');$(_this).find('a[data-index]').each(function(){$(this).click(function(){let master=$('main.index-box'),allChapters=$(master).find('.chapter'),allIndices=$(master).find('[data-index]'),indexClicked=$(this).data('index'),indexChapter=$(master).find('.chapter[name='+indexClicked+']');allChapters.hide();allIndices.removeClass('active');$(this).addClass('active');$(indexChapter).fadeIn()})})},}})(jQuery);(function($){'use strict';var scriptInfo='Vendor Chart.js';$.WOLF.vendor.chartjs={config:{data:{datasets:[],},options:{responsive:!0,maintainAspectRatio:!1,hover:{mode:'index'},legend:{display:!0,position:'top',rtl:$.WOLF.globals.direction=='rtl'?!0:!1,},elements:{point:{radius:3}},scales:{xAxes:[{display:!0,scaleLabel:{display:!1,labelString:'',fontSize:14,},ticks:{display:!0,beginAtZero:!0,fontColor:'#999999',fontSize:13,padding:10},gridLines:!0,}],yAxes:[{display:!0,scaleLabel:{display:!1,labelString:'',fontSize:14,},gridLines:{color:'#dddddd',borderDash:[2,3],zeroLineBorderDash:[2,3],zeroLineWidth:1,},ticks:{max:50,stepSize:10,display:!0,beginAtZero:!0,fontColor:'#999999',fontSize:13,padding:10}}]},title:{display:!1,text:'',fontSize:16,},tooltips:{enabled:!0,intersect:!1,mode:'nearest',bodySpacing:5,yPadding:10,xPadding:15,caretPadding:0,displayColors:!1,backgroundColor:'#121212',titleFontColor:'#ffffff',cornerRadius:4,footerSpacing:0,titleSpacing:0,rtl:$.WOLF.globals.direction=='rtl'?!0:!1},layout:{padding:{left:0,right:0,top:0,bottom:0}}},},collection:$(),init:function(selector,config){var __selector=$.WOLF.helper.__selector(selector);var __config=$.WOLF.helper.check_var(config);this.selector=__selector[0];this.collection=__selector[1];this.selector_orig=__selector[2];this.config=(__config!==null)?$.extend({},this.config,__config):this.config;if(this.selector!=''){if(jQuery(this.selector).length<1)
return null}
if(typeof Chart!=='function'){var paths=$.WOLF.helper.vendorLogicPaths('chartjs');if(paths.path_js==''){$.WOLF.helper.consoleLog('Vendor Missing : '+scriptInfo);return null}
$.WOLF.helper.loadScript([paths.path_js],!1,!0).done(function(){if(typeof Chart!=='function'){$.WOLF.helper.consoleLog('Vendor Missing : '+scriptInfo);return null}
$.WOLF.vendor.chartjs.init(selector,config);return null});return null}
$.WOLF.helper.consoleLog('Init : '+scriptInfo);$.WOLF.vendor.chartjs.btnSave_bind();if(!this.selector){$.WOLF.vendor.chartjs.process($('.chartjs'));return $('.chartjs')}
return this.collection.each(function(){$.WOLF.vendor.chartjs.process($(this))})},process:function(_this){if(_this.hasClass('js-chartjsified'))
return;_this.addClass('js-chartjsified');var ID=_this.attr('id')||'',dataQuick=_this.data('quick')||'',dataChart=_this.data('chartjs')||'',cjsCustom=_this.data('custom')||'',quickChartType=_this.data('chartjs-type')||'line',quickChartLabels=_this.data('chartjs-labels')||'',quickChartGrid=_this.attr('data-chartjs-grid')||'true',quickChartDots=_this.attr('data-chartjs-dots')||'true',quickChartTooltip=_this.attr('data-chartjs-tooltip')||'true',quickChartTitle=_this.data('chartjs-title')||'',quickChartxAxesLabel=_this.data('chartjs-xaxes-label')||'',quickChartxborderWidth=_this.data('chartjs-line-width')||'',quickChartyAxesLabel=_this.data('chartjs-yaxes-label')||'',quickChartLegend=_this.attr('data-chartjs-legend')||'true',quickChartDatasets=_this.data('chartjs-datasets')||'';if(ID==''){var ID='rand_'+$.WOLF.helper.randomStr(4,'N');_this.attr('id',ID)}
var __obj=(typeof window[cjsCustom]==='object')?window[cjsCustom]:{};var OBJ=(typeof dataChart==='object')?dataChart:__obj;Chart.Legend.prototype.afterFit=function(){this.height=this.height+30};if(typeof quickChartDatasets==='object'){var __OBJ__={};__OBJ__.type=quickChartType;if(__OBJ__.type!='pie'&&__OBJ__.type!='doughnut'){__OBJ__.data={};__OBJ__.options=$.WOLF.vendor.chartjs.config.options;__OBJ__.data.labels=(typeof quickChartLabels==='object')?quickChartLabels:null;__OBJ__.data.datasets=quickChartDatasets;__OBJ__.options.scales.yAxes[0].ticks.max=0;__OBJ__.options.legend.display=!0;if(quickChartLegend+''=='false')
__OBJ__.options.legend.display=!1;else if(quickChartLegend+''!='false'){if(quickChartLegend+''=='true')
quickChartLegend='top';__OBJ__.options.legend.position=quickChartLegend}
__OBJ__.options.title.display=!1;if(quickChartTitle!=''){__OBJ__.options.title.display=!0;__OBJ__.options.title.text=quickChartTitle}
__OBJ__.options.tooltips.enabled=!0;if(quickChartTooltip+''=='false')
__OBJ__.options.tooltips.enabled=!1;__OBJ__.options.scales.xAxes[0].scaleLabel.display=!1;if(quickChartxAxesLabel!=''){__OBJ__.options.scales.xAxes[0].scaleLabel.display=!0;__OBJ__.options.scales.xAxes[0].scaleLabel.labelString=quickChartxAxesLabel}
__OBJ__.options.scales.yAxes[0].scaleLabel.display=!1;if(quickChartyAxesLabel!=''){__OBJ__.options.scales.yAxes[0].scaleLabel.display=!0;__OBJ__.options.scales.yAxes[0].scaleLabel.labelString=quickChartyAxesLabel}
__OBJ__.data.datasets[0].categoryPercentage=0.35;__OBJ__.data.datasets[0].barPercentage=0.70;if(__OBJ__.type=='bar'){__OBJ__.data.datasets[0].categoryPercentage=0.65;__OBJ__.data.datasets[0].barPercentage=1}
__OBJ__.options.scales.xAxes[0].display=!0;__OBJ__.options.scales.xAxes[0].gridLines=!0;__OBJ__.options.scales.yAxes[0].display=!0;if(quickChartGrid+''=='false'){__OBJ__.options.scales.xAxes[0].display=!1;__OBJ__.options.scales.xAxes[0].gridLines=!1;__OBJ__.options.scales.yAxes[0].display=!1}else if(quickChartGrid+''=='xAxes'){__OBJ__.options.scales.xAxes[0].display=!0;__OBJ__.options.scales.xAxes[0].gridLines=!0;__OBJ__.options.scales.yAxes[0].display=!1}else if(quickChartGrid+''=='yAxes'){__OBJ__.options.scales.xAxes[0].display=!1;__OBJ__.options.scales.xAxes[0].gridLines=!1;__OBJ__.options.scales.yAxes[0].display=!0}
for(var i=0;i<__OBJ__.data.datasets.length;i++){for(var j=0;j<__OBJ__.data.datasets[i].data.length;j++){if(__OBJ__.data.datasets[i].data[j]>__OBJ__.options.scales.yAxes[0].ticks.max)
__OBJ__.options.scales.yAxes[0].ticks.max=__OBJ__.data.datasets[i].data[j]+10}
__OBJ__.data.datasets[i].borderColor=__OBJ__.data.datasets[i].backgroundColor;__OBJ__.data.datasets[i].pointHoverRadius=4;__OBJ__.data.datasets[i].pointHoverBorderWidth=12;__OBJ__.data.datasets[i].borderWidth=1;__OBJ__.data.datasets[i].pointBackgroundColor=__OBJ__.data.datasets[i].backgroundColor;__OBJ__.data.datasets[i].pointBorderColor=__OBJ__.data.datasets[i].backgroundColor;__OBJ__.data.datasets[i].pointHoverBorderColor=__OBJ__.data.datasets[i].backgroundColor;if(quickChartDots+''=='false'&&__OBJ__.data.datasets[i].fill===!0){__OBJ__.data.datasets[i].pointBackgroundColor='rgba(133, 133, 145, 0)';__OBJ__.data.datasets[i].pointBorderColor='rgba(133, 133, 145, 0)';__OBJ__.data.datasets[i].pointHoverBackgroundColor='rgba(133, 133, 145, 0)';__OBJ__.data.datasets[i].pointHoverBorderColor='rgba(133, 133, 145, 0)';__OBJ__.data.datasets[i].borderWidth=0;__OBJ__.data.datasets[i].borderColor='rgba(133, 133, 145, 0)';__OBJ__.options.elements.point.radius=0}
if(quickChartDots+''=='false')
__OBJ__.options.elements.point.radius=0;if(__OBJ__.data.datasets[i].fill===!1)
__OBJ__.data.datasets[i].borderWidth=(quickChartxborderWidth!='')?Number(quickChartxborderWidth):3}
var OBJ=__OBJ__}else if(__OBJ__.type=='pie'||__OBJ__.type=='doughnut'){var pieData=[];var piebackgroundColor=[];var pieLabels=[];for(var i=0;i<quickChartDatasets.length;i++){pieData.push(quickChartDatasets[i][1]);piebackgroundColor.push(quickChartDatasets[i][2]);pieLabels.push(quickChartDatasets[i][0])}
var OBJ={type:__OBJ__.type,legend:{display:!1,position:'top',},data:{datasets:[{data:pieData,backgroundColor:piebackgroundColor,label:'Dataset 1'}],labels:pieLabels},options:{responsive:!0,maintainAspectRatio:!0,legend:{display:(quickChartLegend+''=='false')?!1:!0,position:(quickChartLegend+''!='false')?quickChartLegend:'top',},tooltips:{enabled:(quickChartTooltip+''=='false')?!1:!0,intersect:!1,mode:'nearest',bodySpacing:5,yPadding:10,xPadding:15,caretPadding:0,displayColors:!1,backgroundColor:'#121212',titleFontColor:'#ffffff',cornerRadius:4,footerSpacing:0,titleSpacing:0},title:{display:(quickChartTitle!='')?!0:!1,text:quickChartTitle,fontSize:16,},}}}}
var ctx=document.getElementById(ID).getContext('2d');window[ID]=new Chart(ctx,OBJ)},btnSave_bind:function(){jQuery('a.chartjs-save:not(.js-chartjsified)').addClass('js-chartjsified').on("click",function(e){e.preventDefault();var _t=jQuery(this),ID=_t.attr('data-chartjs-id')||'null',file_name=_t.attr('data-file-name')||'graph';var canvas=document.getElementById(ID);$.WOLF.vendor.chartjs.fillCanvasBackgroundWithColor(canvas,'white');canvas.toBlob(function(blob){saveAs(blob,file_name+".png")})})},fillCanvasBackgroundWithColor:function(canvas,color){const context=canvas.getContext('2d');context.save();context.globalCompositeOperation='destination-over';context.fillStyle=color;context.fillRect(0,0,canvas.width,canvas.height);context.restore()},}})(jQuery);(function($){'use strict';var scriptInfo='Vendor Daterangepicker';$.WOLF.vendor.daterangepicker={config:{headers:'',crossDomain:'',method:'POST',contentType:'application/x-www-form-urlencoded; charset=UTF-8',dataType:'',headers:'',crossDomain:'',data_params:{ajax:'true'},},collection:$(),init:function(selector,config){if(selector!=''){if(jQuery(selector).length<1)
return null}
if(!jQuery().daterangepicker){standardInfo('no '+$('.rangepicker').length);var paths=$.WOLF.helper.vendorLogicPaths('daterangepicker');if(paths.path_js==''){$.WOLF.helper.consoleLog('Vendor Missing : '+scriptInfo);return null}
$.WOLF.helper.loadScript([paths.path_js],!1,!0).done(function(){if(!jQuery().daterangepicker){$.WOLF.helper.consoleLog('Vendor Missing : '+scriptInfo);return null}
$.WOLF.vendor.daterangepicker.init(selector,config);return null});return null}
if(typeof moment!=='function'){standardInfo('moment '+$('.rangepicker').length);$.WOLF.helper.consoleLog('Dependencies Missing : moment.js  [By: '+scriptInfo+']');return}
var __selector=$.WOLF.helper.__selector(selector);var __config=$.WOLF.helper.check_var(config);this.selector=__selector[0];this.collection=__selector[1];this.selector_orig=__selector[2];this.config=(__config!==null)?$.extend({},this.config,__config):this.config;$.WOLF.helper.consoleLog('Init : '+scriptInfo);if(!this.selector){$.WOLF.vendor.daterangepicker.process($('.rangepicker'));return $('.rangepicker')}
return this.collection.each(function(){$.WOLF.vendor.daterangepicker.process($(this))})},process:function(_this){var selector_orig=this.selector_orig;if(_this.hasClass('done'))return;_this.addClass('done');setTimeout(function(){jQuery('a.btn-rangepicker-clear').on('click',function(e){e.preventDefault();jQuery(this).parent().find('input'+selector_orig).val('')});var _timePicker=_this.data('timepicker')||!1,_timePicker24h=_this.data('timepicker-24h')||!1,_timePickerSecs=_this.data('timepicker-show-seconds')||!1,_opens=_this.data('placement')||'',_drops=_this.data('drops')||'down',_autoUpdateInput=_this.data('disable-auto-update-input')||!1,_singleDatePicker=_this.data('single-datepicker')||!1,_autoApply=_this.data('click-apply')||!1,_startDate=_this.data('date-start')||'',_endDate=_this.data('date-end')||moment(),_dropdowns=_this.data('interval-years')||'',_quickLocale=_this.data('quick-locale')||'',_dateFormat=_this.data('date-format')||moment.localeData().longDateFormat('L'),_ranges=_this.attr('data-ranges')||!1,_customOBJ=_this.data('custom-config')||'',_roundedLayout=_this.data('layout-rounded')||!1,_disablePastDates=_this.data('disable-past-dates')||!1,_minYear=1982,_maxYear=2030,showDropdowns;if(_singleDatePicker+''=='true'){if(_startDate==''){_startDate=moment()}}else{if(_startDate==''){_startDate=moment().subtract(29,'days')}}
if(typeof _customOBJ!=='object'){var _ranges=(_ranges+''=='true')?{'Today':[moment(),moment()],'Yesterday':[moment().subtract(1,'days'),moment().subtract(1,'days')],'Last 7 Days':[moment().subtract(6,'days'),moment()],'Last 30 Days':[moment().subtract(29,'days'),moment()],'This Month':[moment().startOf('month'),moment().endOf('month')],'Last Month':[moment().subtract(1,'month').startOf('month'),moment().subtract(1,'month').endOf('month')]}:!1;if(typeof _quickLocale==='object'&&_ranges!==!1){var _ranges={};if(_quickLocale.lang_today)
_ranges[_quickLocale.lang_today]=[moment(),moment()];if(_quickLocale.lang_yday)
_ranges[_quickLocale.lang_yday]=[moment().subtract(1,'days'),moment().subtract(1,'days')];if(_quickLocale.lang_7days)
_ranges[_quickLocale.lang_7days]=[moment().subtract(6,'days'),moment()];if(_quickLocale.lang_30days)
_ranges[_quickLocale.lang_30days]=[moment().subtract(29,'days'),moment()];if(_quickLocale.lang_tmonth)
_ranges[_quickLocale.lang_tmonth]=[moment().startOf('month'),moment().endOf('month')];if(_quickLocale.lang_lmonth)
_ranges[_quickLocale.lang_lmonth]=[moment().subtract(1,'month').startOf('month'),moment().subtract(1,'month').endOf('month')]}
var disablePast=!1;if(_disablePastDates+''=='true'){if(_startDate==''){var __sd=moment()._d}else{if(typeof _startDate==='string'){var __sd=_startDate}else{var __sd=_startDate._d}}
var disablePast=moment(__sd,_dateFormat).format(_dateFormat)}
if(_timePicker+''=='true'){}
if(typeof _dropdowns==='object'){var _showDropdowns=!0,_minYear=_dropdowns[0]||1982;_maxYear=_dropdowns[1]||2030}
var _obj={direction:$.WOLF.globals.direction,opens:(_opens!='')?_opens:(($.WOLF.globals.direction=='rtl')?'left':'right'),autoUpdateInput:(_autoUpdateInput+''!='true')?!0:!1,singleDatePicker:(_singleDatePicker+''=='true')?!0:!1,autoApply:(_singleDatePicker+''=='true'||_autoApply+''=='true')?!0:!1,timePicker:(_timePicker+''=='true')?!0:!1,timePicker24Hour:(_timePicker24h+''=='true')?!0:!1,timePickerSeconds:(_timePickerSecs+''=='true')?!0:!1,startDate:(_startDate!='')?_startDate:null,endDate:(_endDate!='')?_endDate:null,minDate:disablePast,showDropdowns:(_showDropdowns===!0)?!0:!1,minYear:Number(_minYear),maxYear:Number(_maxYear),ranges:_ranges,drops:(_drops=='')?'down':_drops,locale:{customRangeLabel:(typeof _quickLocale==='object'&&_quickLocale.lang_crange)?_quickLocale.lang_crange:'Custom Range',applyLabel:(typeof _quickLocale==='object'&&_quickLocale.lang_apply)?_quickLocale.lang_apply:'Apply',cancelLabel:(typeof _quickLocale==='object'&&_quickLocale.lang_cancel)?_quickLocale.lang_cancel:'Cancel',monthNames:(typeof _quickLocale==='object'&&typeof _quickLocale.lang_months==='object'&&_quickLocale.lang_months)?_quickLocale.lang_months:moment.monthsShort(),daysOfWeek:(typeof _quickLocale==='object'&&typeof _quickLocale.lang_weekdays==='object'&&_quickLocale.lang_weekdays)?_quickLocale.lang_weekdays:moment.weekdaysMin(),firstDay:moment.localeData().firstDayOfWeek(),format:_dateFormat}}}
var _pick=_this.addClass('js-tangepickified').daterangepicker(((typeof _customOBJ==='object')?_customOBJ:_obj),function(start,end,label){var start_format=start.format(_dateFormat);var end_format=start.format(_dateFormat);return}).data('daterangepicker');if(_roundedLayout!==!1)
_pick.container.addClass('daterangepicker-rounded');jQuery('.btn-default',_pick.container).removeClass('btn-default').addClass('btn-light');_this.on('apply.daterangepicker',function(ev,picker){if(_singleDatePicker+''=='true'){$(this).val(picker.startDate.format(_dateFormat))}else{$(this).val(picker.startDate.format(_dateFormat)+' - '+picker.endDate.format(_dateFormat))}
var startDate=picker.startDate._d;var endDate=picker.endDate._d;var start_format=picker.startDate.format(_dateFormat);var end_format=picker.endDate.format(_dateFormat);$.WOLF.vendor.daterangepicker.updateAjax(_this,startDate,endDate,start_format,end_format)});_this.on('cancel.daterangepicker',function(ev,picker){});_this.on('change.daterangepicker',function(ev,picker){})},_this.data('load-delay')||0)},updateAjax:function(_this,start,end,start_format,end_format){var _updateMethod=_this.data('ajax-method')||$.WOLF.vendor.daterangepicker.config.method,_updateUrl=_this.data('ajax-url')||'',_updateParams=_this.data('ajax-params')||'',_toastSuccessMsg=_this.data('toast-success')||'Sucessfully Updated!',_toastPosition=_this.data('toast-position')||'top-center',_itemID=_this.data('id')||'',data_params=$.WOLF.vendor.daterangepicker.config.data_params;if(_updateUrl=='')
return;if(_updateParams!=''){var ajax_params_arr=$.WOLF.helper.params_parse(_updateParams);for(var i=0;i<ajax_params_arr.length;++i){data_params[ajax_params_arr[i][0]]=ajax_params_arr[i][1]}}
data_params.id=_itemID;data_params.date_start_full=start;data_params.date_end_full=end;data_params.date_start_short=start_format;data_params.date_end_short=end_format;jQuery.ajax({url:_updateUrl,data:data_params,type:_updateMethod,contentType:$.WOLF.vendor.daterangepicker.config.contentType,dataType:$.WOLF.vendor.daterangepicker.config.dataType,headers:$.WOLF.vendor.daterangepicker.config.headers,crossDomain:$.WOLF.vendor.daterangepicker.config.crossDomain,beforeSend:function(){_this.addClass('disabled').prop('disabled',!0).prop('readonly',!0)},error:function(XMLHttpRequest,textStatus,errorThrown){if(typeof $.WOLF.core.toast==='object'){$.WOLF.core.toast.show('danger','404 Error','Unexpected Internal error!',_toastPosition,0,!0)}else{alert("[404] Unexpected internal error!")}
_this.removeClass('disabled').prop('disabled',!1).prop('readonly',!1)},success:function(data){_this.removeClass('disabled').prop('disabled',!1).prop('readonly',!1);$.WOLF.helper.consoleLog(data);setTimeout(function(){if(typeof $.WOLF.core.toast==='object')
$.WOLF.core.toast.show('success','',_toastSuccessMsg,_toastPosition,1300,!0);},150)}})}}})(jQuery);(function($){'use strict';var scriptInfo='WOLFI chosen-SELECT';$.WOLF.vendor.chosen_select={config:{},collection:$(),init:function(selector,config){if(selector!=''){if(jQuery(selector).length<1)
return null}
var __selector=$.WOLF.helper.__selector(selector);var __config=$.WOLF.helper.check_var(config);this.selector=__selector[0];this.collection=__selector[1];this.selector_orig=__selector[2];this.config=(__config!==null)?$.extend({},this.config,__config):this.config;return this.collection.each(function(){$.WOLF.vendor.chosen_select.process($(this))})},process:function(_this){if(_this.hasClass('done'))
return;_this.addClass('done');return $(_this).chosen()},}})(jQuery);(function($){'use strict';var scriptInfo='WOLFI SUMMERNOTE';var summernoteEditor=[];$.WOLF.vendor.summernote={config:{},collection:$(),init:function(selector,config){if(selector!=''){if(jQuery(selector).length<1)
return null}
var __selector=$.WOLF.helper.__selector(selector);var __config=$.WOLF.helper.check_var(config);this.selector=__selector[0];this.collection=__selector[1];this.selector_orig=__selector[2];this.config=(__config!==null)?$.extend({},this.config,__config):this.config;$.WOLF.helper.consoleLog('Init : '+scriptInfo);return this.collection.each(function(){if($(this).closest('div.control').length==0)$(this).wrap('<div class="control"></div>');if($(this).closest('fieldset').length==0)$(this).closest('.control').wrap('<fieldset class="d-flex flex-row mt-2" style="width:100%;" data-control="texteditor"></fieldset>');$.WOLF.vendor.summernote.process($(this))})},process:function(_this){if(_this.hasClass('done'))return;var myToolbar=[["style",[["style"],"addtags","addclass"]],["font",["bold","italic","underline","superscript","clear"]],["para",["ul","ol","paragraph"]],["insert",["table","link","picture","hr"]],["custom",["striptags"]],["view",["fullscreen","undo","redo"]]];switch(_this.data('category')){case "description":myToolbar=[["style",[["style"],"addtags","addclass"]],["font",["bold","italic","underline","superscript","clear"]],["para",["ul","ol","paragraph"]],["insert",["link","picture","hr"]]];break;case "minimal":myToolbar=[["style",[["style"]]],["font",["bold","italic","underline","superscript","clear"]],["para",["ul","ol","paragraph"]],["insert",["link","picture"]]];break;case "standard":myToolbar=[["style",[["style"]]],["font",["bold","italic","underline","superscript","clear"]],["para",["ul","ol","paragraph"]],["insert",["link","picture"]],["view",["fullscreen","undo","redo"]]];break;default:break}
var ID=_this.attr('id')||'',placeholder=_this.data('placeholder')||'Type here...',minHeight=_this.data('min-height')||300,maxHeight=_this.data('max-height')||1000,focus=_this.attr('data-focus')||'true',airMode=_this.attr('data-airmode')||'true',lang=_this.data('lang')||'en-US',ajaxURL=_this.data('ajax-url')||'',ajaxParams=_this.data('ajax-params')||'',toolbar=_this.data('toolbar')||myToolbar,folder=_this.data('folder')||'media/_uploads';if(ID==''){var ID='rand_'+$.WOLF.helper.randomStr(3);_this.attr('id',ID)}
summernoteEditor[ID]=_this.summernote({placeholder:placeholder,height:300,minHeight:minHeight,maxHeight:maxHeight,focus:(focus+''=='true')?!0:!1,airMode:(airMode+''=='true')?!0:!1,lang:(lang!='')?lang:'en-US',toolbar:(typeof toolbar==='object')?toolbar:null,popover:{image:[['image',['resizeFull','resizeHalf','resizeQuarter','resizeNone']],['float',['floatLeft','floatRight','floatNone']],['remove',['removeMedia']]],link:[['link',['linkDialogShow','unlink']]],air:toolbar},addclass:{debug:!1,classTags:["lead","text-muted","text-primary","text-warning","text-danger","text-success"]},styleTags:['p',{title:'Überschrift',tag:'h3',value:'h3'},{title:'Kapitel',tag:'h4',value:'h4'},{title:'Citation',tag:'p',className:'cite',value:'p'},{title:'Small',tag:'p',className:'small',value:'p'},{title:'Lead',tag:'p',className:'lead',value:'p'}],callbacks:{onInit:function(context){let editorDom=context.editor;let editableDom=context.editable;$(editorDom).find('[data-toggle=dropdown]').each(function(){var toggleValue=$(this).attr('data-toggle');$(this).attr('data-bs-toggle',toggleValue).removeAttr('data-toggle')});$(editableDom).mousedown(function(){$('.note-style, .note-para').find('.show').removeClass('show')});$('.dropdown-style .dropdown-item, .note-align button').click(function(){$('.note-style, .note-para').find('.show').removeClass('show')})},onImageUpload:function(files,editor,welEditable){for(var i=files.length-1;i>=0;i--){$.WOLF.vendor.summernote.ajaxUpload(files[i],this,folder)}},onPaste:function(e){e.preventDefault();var bufferText=((e.originalEvent||e).clipboardData||window.clipboardData).getData('text/html');if(/<[a-z][\s\S]*>/i.test(bufferText)){let inText=stripContent(bufferText);document.execCommand('insertHtml',!1,inText)}else{var plainText=((e.originalEvent||e).clipboardData||window.clipboardData).getData('text/plain');document.execCommand('insertHtml',!1,plainText)}
return;var bufferText=((e.originalEvent||e).clipboardData||window.clipboardData).getData('text/html');e.preventDefault();let inText=stripContent(bufferText);return document.execCommand('insertHtml',inText)},}})},ajaxUpload:function(file,el,destFolder){var formData=new FormData();formData.append('file',file);formData.append('ajax','true');$.ajax({url:'/_admin_backbone.php?req=media_direct&dir='+destFolder,cache:!1,contentType:!1,processData:!1,data:formData,type:'POST',beforeSend:function(){},error:function(data){standardError('404 Server Error!')},success:function(imgURL){standardInfo('ajaxUpload sumernote');$(el).summernote('editor.insertImage',jQuery.trim(imgURL))}})}}})(jQuery);/*!
 * 
 * Super simple wysiwyg editor v0.8.18
 * https://summernote.org
 * 
 * 
 * Copyright 2013- Alan Hong. and other contributors
 * summernote may be freely distributed under the MIT license.
 * 
 * Date: 2020-05-20T18:09Z
 * 
 */
(function webpackUniversalModuleDefinition(root,factory){if(typeof exports==='object'&&typeof module==='object')
module.exports=factory(require("jquery"));else if(typeof define==='function'&&define.amd)
define(["jquery"],factory);else{var a=typeof exports==='object'?factory(require("jquery")):factory(root.jQuery);for(var i in a)(typeof exports==='object'?exports:root)[i]=a[i]}})(window,function(__WEBPACK_EXTERNAL_MODULE__0__){return(function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}
var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=!0;return module.exports}
__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{enumerable:!0,get:getter})}};__webpack_require__.r=function(exports){if(typeof Symbol!=='undefined'&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:'Module'})}
Object.defineProperty(exports,'__esModule',{value:!0})};__webpack_require__.t=function(value,mode){if(mode&1)value=__webpack_require__(value);if(mode&8)return value;if((mode&4)&&typeof value==='object'&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,'default',{enumerable:!0,value:value});if(mode&2&&typeof value!='string')for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module['default']}:function getModuleExports(){return module};__webpack_require__.d(getter,'a',getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="";return __webpack_require__(__webpack_require__.s=53)})({0:(function(module,exports){module.exports=__WEBPACK_EXTERNAL_MODULE__0__}),1:(function(module,__webpack_exports__,__webpack_require__){"use strict";var jquery__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0);var jquery__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value" in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}
var Renderer=function(){function Renderer(markup,children,options,callback){_classCallCheck(this,Renderer);this.markup=markup;this.children=children;this.options=options;this.callback=callback}
_createClass(Renderer,[{key:"render",value:function render($parent){var $node=jquery__WEBPACK_IMPORTED_MODULE_0___default()(this.markup);if(this.options&&this.options.contents){$node.html(this.options.contents)}
if(this.options&&this.options.className){$node.addClass(this.options.className)}
if(this.options&&this.options.data){jquery__WEBPACK_IMPORTED_MODULE_0___default.a.each(this.options.data,function(k,v){$node.attr('data-'+k,v)})}
if(this.options&&this.options.click){$node.on('click',this.options.click)}
if(this.children){var $container=$node.find('.note-children-container');this.children.forEach(function(child){child.render($container.length?$container:$node)})}
if(this.callback){this.callback($node,this.options)}
if(this.options&&this.options.callback){this.options.callback($node)}
if($parent){$parent.append($node)}
return $node}}]);return Renderer}();__webpack_exports__.a=({create:function create(markup,callback){return function(){var options=_typeof(arguments[1])==='object'?arguments[1]:arguments[0];var children=Array.isArray(arguments[0])?arguments[0]:[];if(options&&options.children){children=options.children}
return new Renderer(markup,children,options,callback)}}})}),2:(function(module,exports){(function(__webpack_amd_options__){module.exports=__webpack_amd_options__}.call(this,{}))}),3:(function(module,__webpack_exports__,__webpack_require__){"use strict";var external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_=__webpack_require__(0);var external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default=__webpack_require__.n(external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_);external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote||{lang:{}};external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.extend(external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote.lang,{'en-US':{font:{bold:'Bold',italic:'Italic',underline:'Underline',clear:'Remove Font Style',height:'Line Height',name:'Font Family',strikethrough:'Strikethrough',subscript:'Subscript',superscript:'Superscript',size:'Font Size',sizeunit:'Font Size Unit'},image:{image:'Picture',insert:'Insert Image',resizeFull:'Resize full',resizeHalf:'Resize half',resizeQuarter:'Resize quarter',resizeNone:'Original size',floatLeft:'Float Left',floatRight:'Float Right',floatNone:'Remove float',shapeRounded:'Shape: Rounded',shapeCircle:'Shape: Circle',shapeThumbnail:'Shape: Thumbnail',shapeNone:'Shape: None',dragImageHere:'Drag image or text here',dropImage:'Drop image or Text',selectFromFiles:'Datei(en) auswählen zum Upload',maximumFileSize:'Maximum file size',maximumFileSizeError:'Maximum file size exceeded.',url:'... oder die URL eintragen',remove:'Remove Image',original:'Original'},video:{video:'Video',videoLink:'Video Link',insert:'Insert Video',url:'Video URL',providers:'(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)'},link:{link:'Link',insert:'Insert Link',unlink:'Unlink',edit:'Edit',textToDisplay:'Text über dem Link',url:'Wohin soll der Link führen?',openInNewWindow:'In neuem Fenster öffnen',useProtocol:'Standardprotokoll verwenden'},table:{table:'Table',addRowAbove:'Add row above',addRowBelow:'Add row below',addColLeft:'Add column left',addColRight:'Add column right',delRow:'Delete row',delCol:'Delete column',delTable:'Delete table'},hr:{insert:'Insert Horizontal Rule'},style:{style:'Style',p:'Normal',blockquote:'Quote',pre:'Code',h1:'Header 1',h2:'Header 2',h3:'Header 3',h4:'Header 4',h5:'Header 5',h6:'Header 6'},lists:{unordered:'Unordered list',ordered:'Ordered list'},options:{help:'Help',fullscreen:'Full Screen',codeview:'Code View'},paragraph:{paragraph:'Paragraph',outdent:'Outdent',indent:'Indent',left:'Align left',center:'Align center',right:'Align right',justify:'Justify full'},color:{recent:'Recent Color',more:'More Color',background:'Background Color',foreground:'Text Color',transparent:'Transparent',setTransparent:'Set transparent',reset:'Reset',resetToDefault:'Reset to default',cpSelect:'Select'},shortcut:{shortcuts:'Keyboard shortcuts',close:'Close',textFormatting:'Text formatting',action:'Action',paragraphFormatting:'Paragraph formatting',documentStyle:'Document Style',extraKeys:'Extra keys'},help:{'escape':'Escape','insertParagraph':'Insert Paragraph','undo':'Undo the last command','redo':'Redo the last command','tab':'Tab','untab':'Untab','bold':'Set a bold style','italic':'Set a italic style','underline':'Set a underline style','strikethrough':'Set a strikethrough style','removeFormat':'Clean a style','justifyLeft':'Set left align','justifyCenter':'Set center align','justifyRight':'Set right align','justifyFull':'Set full align','insertUnorderedList':'Toggle unordered list','insertOrderedList':'Toggle ordered list','outdent':'Outdent on current paragraph','indent':'Indent on current paragraph','formatPara':'Change current block\'s format as a paragraph(P tag)','formatH1':'Change current block\'s format as H1','formatH2':'Change current block\'s format as H2','formatH3':'Change current block\'s format as H3','formatH4':'Change current block\'s format as H4','formatH5':'Change current block\'s format as H5','formatH6':'Change current block\'s format as H6','insertHorizontalRule':'Insert horizontal rule','linkDialog.show':'Show Link Dialog'},history:{undo:'Undo',redo:'Redo'},specialChar:{specialChar:'SPECIAL CHARACTERS',select:'Select Special characters'},output:{noSelection:'No Selection Made!'}}});var isSupportAmd=typeof define==='function'&&__webpack_require__(2);var genericFontFamilies=['sans-serif','serif','monospace','cursive','fantasy'];function validFontName(fontName){return external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.inArray(fontName.toLowerCase(),genericFontFamilies)===-1?"'".concat(fontName,"'"):fontName}
function env_isFontInstalled(fontName){var testFontName=fontName==='Comic Sans MS'?'Courier New':'Comic Sans MS';var testText='mmmmmmmmmmwwwww';var testSize='200px';var canvas=document.createElement('canvas');var context=canvas.getContext('2d');context.font=testSize+" '"+testFontName+"'";var originalWidth=context.measureText(testText).width;context.font=testSize+' '+validFontName(fontName)+', "'+testFontName+'"';var width=context.measureText(testText).width;return originalWidth!==width}
var userAgent=navigator.userAgent;var isMSIE=/MSIE|Trident/i.test(userAgent);var browserVersion;if(isMSIE){var matches=/MSIE (\d+[.]\d+)/.exec(userAgent);if(matches){browserVersion=parseFloat(matches[1])}
matches=/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/.exec(userAgent);if(matches){browserVersion=parseFloat(matches[1])}}
var isEdge=/Edge\/\d+/.test(userAgent);var isSupportTouch='ontouchstart' in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0;var inputEventName=isMSIE?'DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted':'input';var env=({isMac:navigator.appVersion.indexOf('Mac')>-1,isMSIE:isMSIE,isEdge:isEdge,isFF:!isEdge&&/firefox/i.test(userAgent),isPhantom:/PhantomJS/i.test(userAgent),isWebkit:!isEdge&&/webkit/i.test(userAgent),isChrome:!isEdge&&/chrome/i.test(userAgent),isSafari:!isEdge&&/safari/i.test(userAgent)&&!/chrome/i.test(userAgent),browserVersion:browserVersion,jqueryVersion:parseFloat(external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.fn.jquery),isSupportAmd:isSupportAmd,isSupportTouch:isSupportTouch,isFontInstalled:env_isFontInstalled,isW3CRangeSupport:!!document.createRange,inputEventName:inputEventName,genericFontFamilies:genericFontFamilies,validFontName:validFontName});function eq(itemA){return function(itemB){return itemA===itemB}}
function eq2(itemA,itemB){return itemA===itemB}
function peq2(propName){return function(itemA,itemB){return itemA[propName]===itemB[propName]}}
function ok(){return!0}
function fail(){return!1}
function not(f){return function(){return!f.apply(f,arguments)}}
function and(fA,fB){return function(item){return fA(item)&&fB(item)}}
function func_self(a){return a}
function func_invoke(obj,method){return function(){return obj[method].apply(obj,arguments)}}
var idCounter=0;function resetUniqueId(){idCounter=0}
function uniqueId(prefix){var id=++idCounter+'';return prefix?prefix+id:id}
function rect2bnd(rect){var $document=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(document);return{top:rect.top+$document.scrollTop(),left:rect.left+$document.scrollLeft(),width:rect.right-rect.left,height:rect.bottom-rect.top}}
function invertObject(obj){var inverted={};for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){inverted[obj[key]]=key}}
return inverted}
function namespaceToCamel(namespace,prefix){prefix=prefix||'';return prefix+namespace.split('.').map(function(name){return name.substring(0,1).toUpperCase()+name.substring(1)}).join('')}
function debounce(func,wait,immediate){var timeout;return function(){var context=this;var args=arguments;var later=function later(){timeout=null;if(!immediate){func.apply(context,args)}};var callNow=immediate&&!timeout;clearTimeout(timeout);timeout=setTimeout(later,wait);if(callNow){func.apply(context,args)}}}
function isValidUrl(url){var expression=/[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/gi;return expression.test(url)}
var func=({eq:eq,eq2:eq2,peq2:peq2,ok:ok,fail:fail,self:func_self,not:not,and:and,invoke:func_invoke,resetUniqueId:resetUniqueId,uniqueId:uniqueId,rect2bnd:rect2bnd,invertObject:invertObject,namespaceToCamel:namespaceToCamel,debounce:debounce,isValidUrl:isValidUrl});function lists_head(array){return array[0]}
function lists_last(array){return array[array.length-1]}
function initial(array){return array.slice(0,array.length-1)}
function tail(array){return array.slice(1)}
function find(array,pred){for(var idx=0,len=array.length;idx<len;idx++){var item=array[idx];if(pred(item)){return item}}}
function lists_all(array,pred){for(var idx=0,len=array.length;idx<len;idx++){if(!pred(array[idx])){return!1}}
return!0}
function contains(array,item){if(array&&array.length&&item){if(array.indexOf){return array.indexOf(item)!==-1}else if(array.contains){return array.contains(item)}}
return!1}
function sum(array,fn){fn=fn||func.self;return array.reduce(function(memo,v){return memo+fn(v)},0)}
function from(collection){var result=[];var length=collection.length;var idx=-1;while(++idx<length){result[idx]=collection[idx]}
return result}
function lists_isEmpty(array){return!array||!array.length}
function clusterBy(array,fn){if(!array.length){return[]}
var aTail=tail(array);return aTail.reduce(function(memo,v){var aLast=lists_last(memo);if(fn(lists_last(aLast),v)){aLast[aLast.length]=v}else{memo[memo.length]=[v]}
return memo},[[lists_head(array)]])}
function compact(array){var aResult=[];for(var idx=0,len=array.length;idx<len;idx++){if(array[idx]){aResult.push(array[idx])}}
return aResult}
function unique(array){var results=[];for(var idx=0,len=array.length;idx<len;idx++){if(!contains(results,array[idx])){results.push(array[idx])}}
return results}
function lists_next(array,item){if(array&&array.length&&item){var idx=array.indexOf(item);return idx===-1?null:array[idx+1]}
return null}
function prev(array,item){if(array&&array.length&&item){var idx=array.indexOf(item);return idx===-1?null:array[idx-1]}
return null}
var lists=({head:lists_head,last:lists_last,initial:initial,tail:tail,prev:prev,next:lists_next,find:find,contains:contains,all:lists_all,sum:sum,from:from,isEmpty:lists_isEmpty,clusterBy:clusterBy,compact:compact,unique:unique});var NBSP_CHAR=String.fromCharCode(160);var ZERO_WIDTH_NBSP_CHAR="\uFEFF";function isEditable(node){return node&&external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(node).hasClass('note-editable')}
function isControlSizing(node){return node&&external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(node).hasClass('note-control-sizing')}
function makePredByNodeName(nodeName){nodeName=nodeName.toUpperCase();return function(node){return node&&node.nodeName.toUpperCase()===nodeName}}
function isText(node){return node&&node.nodeType===3}
function isElement(node){return node&&node.nodeType===1}
function isVoid(node){return node&&/^BR|^IMG|^HR|^IFRAME|^BUTTON|^INPUT|^AUDIO|^VIDEO|^EMBED/.test(node.nodeName.toUpperCase())}
function isPara(node){if(isEditable(node)){return!1}
return node&&/^DIV|^P|^LI|^H[1-7]/.test(node.nodeName.toUpperCase())}
function isHeading(node){return node&&/^H[1-7]/.test(node.nodeName.toUpperCase())}
var isPre=makePredByNodeName('PRE');var isLi=makePredByNodeName('LI');function isPurePara(node){return isPara(node)&&!isLi(node)}
var isTable=makePredByNodeName('TABLE');var isData=makePredByNodeName('DATA');function dom_isInline(node){return!isBodyContainer(node)&&!isList(node)&&!isHr(node)&&!isPara(node)&&!isTable(node)&&!isBlockquote(node)&&!isData(node)}
function isList(node){return node&&/^UL|^OL/.test(node.nodeName.toUpperCase())}
var isHr=makePredByNodeName('HR');function dom_isCell(node){return node&&/^TD|^TH/.test(node.nodeName.toUpperCase())}
var isBlockquote=makePredByNodeName('BLOCKQUOTE');function isBodyContainer(node){return dom_isCell(node)||isBlockquote(node)||isEditable(node)}
var isAnchor=makePredByNodeName('A');function isParaInline(node){return dom_isInline(node)&&!!dom_ancestor(node,isPara)}
function isBodyInline(node){return dom_isInline(node)&&!dom_ancestor(node,isPara)}
var isBody=makePredByNodeName('BODY');function isClosestSibling(nodeA,nodeB){return nodeA.nextSibling===nodeB||nodeA.previousSibling===nodeB}
function withClosestSiblings(node,pred){pred=pred||func.ok;var siblings=[];if(node.previousSibling&&pred(node.previousSibling)){siblings.push(node.previousSibling)}
siblings.push(node);if(node.nextSibling&&pred(node.nextSibling)){siblings.push(node.nextSibling)}
return siblings}
var blankHTML=env.isMSIE&&env.browserVersion<11?'&nbsp;':'<br>';function nodeLength(node){if(isText(node)){return node.nodeValue.length}
if(node){return node.childNodes.length}
return 0}
function deepestChildIsEmpty(node){do{if(node.firstElementChild===null||node.firstElementChild.innerHTML==='')break}while(node=node.firstElementChild);return dom_isEmpty(node)}
function dom_isEmpty(node){var len=nodeLength(node);if(len===0){return!0}else if(!isText(node)&&len===1&&node.innerHTML===blankHTML){return!0}else if(lists.all(node.childNodes,isText)&&node.innerHTML===''){return!0}
return!1}
function paddingBlankHTML(node){if(!isVoid(node)&&!nodeLength(node)){node.innerHTML=blankHTML}}
function dom_ancestor(node,pred){while(node){if(pred(node)){return node}
if(isEditable(node)){break}
node=node.parentNode}
return null}
function singleChildAncestor(node,pred){node=node.parentNode;while(node){if(nodeLength(node)!==1){break}
if(pred(node)){return node}
if(isEditable(node)){break}
node=node.parentNode}
return null}
function listAncestor(node,pred){pred=pred||func.fail;var ancestors=[];dom_ancestor(node,function(el){if(!isEditable(el)){ancestors.push(el)}
return pred(el)});return ancestors}
function lastAncestor(node,pred){var ancestors=listAncestor(node);return lists.last(ancestors.filter(pred))}
function dom_commonAncestor(nodeA,nodeB){var ancestors=listAncestor(nodeA);for(var n=nodeB;n;n=n.parentNode){if(ancestors.indexOf(n)>-1)return n}
return null}
function listPrev(node,pred){pred=pred||func.fail;var nodes=[];while(node){if(pred(node)){break}
nodes.push(node);node=node.previousSibling}
return nodes}
function listNext(node,pred){pred=pred||func.fail;var nodes=[];while(node){if(pred(node)){break}
nodes.push(node);node=node.nextSibling}
return nodes}
function listDescendant(node,pred){var descendants=[];pred=pred||func.ok;(function fnWalk(current){if(node!==current&&pred(current)){descendants.push(current)}
for(var idx=0,len=current.childNodes.length;idx<len;idx++){fnWalk(current.childNodes[idx])}})(node);return descendants}
function wrap(node,wrapperName){var parent=node.parentNode;var wrapper=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<'+wrapperName+'>')[0];parent.insertBefore(wrapper,node);wrapper.appendChild(node);return wrapper}
function insertAfter(node,preceding){var next=preceding.nextSibling;var parent=preceding.parentNode;if(next){parent.insertBefore(node,next)}else{parent.appendChild(node)}
return node}
function appendChildNodes(node,aChild){external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.each(aChild,function(idx,child){node.appendChild(child)});return node}
function isLeftEdgePoint(point){return point.offset===0}
function isRightEdgePoint(point){return point.offset===nodeLength(point.node)}
function isEdgePoint(point){return isLeftEdgePoint(point)||isRightEdgePoint(point)}
function dom_isLeftEdgeOf(node,ancestor){while(node&&node!==ancestor){if(dom_position(node)!==0){return!1}
node=node.parentNode}
return!0}
function isRightEdgeOf(node,ancestor){if(!ancestor){return!1}
while(node&&node!==ancestor){if(dom_position(node)!==nodeLength(node.parentNode)-1){return!1}
node=node.parentNode}
return!0}
function isLeftEdgePointOf(point,ancestor){return isLeftEdgePoint(point)&&dom_isLeftEdgeOf(point.node,ancestor)}
function isRightEdgePointOf(point,ancestor){return isRightEdgePoint(point)&&isRightEdgeOf(point.node,ancestor)}
function dom_position(node){var offset=0;while(node=node.previousSibling){offset+=1}
return offset}
function hasChildren(node){return!!(node&&node.childNodes&&node.childNodes.length)}
function dom_prevPoint(point,isSkipInnerOffset){var node;var offset;if(point.offset===0){if(isEditable(point.node)){return null}
node=point.node.parentNode;offset=dom_position(point.node)}else if(hasChildren(point.node)){node=point.node.childNodes[point.offset-1];offset=nodeLength(node)}else{node=point.node;offset=isSkipInnerOffset?0:point.offset-1}
return{node:node,offset:offset}}
function dom_nextPoint(point,isSkipInnerOffset){var node,offset;if(nodeLength(point.node)===point.offset){if(isEditable(point.node)){return null}
var nextTextNode=getNextTextNode(point.node);if(nextTextNode){node=nextTextNode;offset=0}else{node=point.node.parentNode;offset=dom_position(point.node)+1}}else if(hasChildren(point.node)){node=point.node.childNodes[point.offset];offset=0}else{node=point.node;offset=isSkipInnerOffset?nodeLength(point.node):point.offset+1}
return{node:node,offset:offset}}
function nextPointWithEmptyNode(point,isSkipInnerOffset){var node,offset;if(dom_isEmpty(point.node)){node=point.node.nextSibling;offset=0;return{node:node,offset:offset}}
if(nodeLength(point.node)===point.offset){if(isEditable(point.node)){return null}
var nextTextNode=getNextTextNode(point.node);if(nextTextNode){node=nextTextNode;offset=0}else{node=point.node.parentNode;offset=dom_position(point.node)+1}
if(isEditable(node)){node=point.node.nextSibling;offset=0}}else if(hasChildren(point.node)){node=point.node.childNodes[point.offset];offset=0;if(dom_isEmpty(node)){return null}}else{node=point.node;offset=isSkipInnerOffset?nodeLength(point.node):point.offset+1;if(dom_isEmpty(node)){return null}}
return{node:node,offset:offset}}
function getNextTextNode(actual){if(!actual.nextSibling)return undefined;if(actual.parent!==actual.nextSibling.parent)return undefined;if(isText(actual.nextSibling))return actual.nextSibling;return getNextTextNode(actual.nextSibling)}
function isSamePoint(pointA,pointB){return pointA.node===pointB.node&&pointA.offset===pointB.offset}
function isVisiblePoint(point){if(isText(point.node)||!hasChildren(point.node)||dom_isEmpty(point.node)){return!0}
var leftNode=point.node.childNodes[point.offset-1];var rightNode=point.node.childNodes[point.offset];if((!leftNode||isVoid(leftNode))&&(!rightNode||isVoid(rightNode))){return!0}
return!1}
function prevPointUntil(point,pred){while(point){if(pred(point)){return point}
point=dom_prevPoint(point)}
return null}
function nextPointUntil(point,pred){while(point){if(pred(point)){return point}
point=dom_nextPoint(point)}
return null}
function isCharPoint(point){if(!isText(point.node)){return!1}
var ch=point.node.nodeValue.charAt(point.offset-1);return ch&&ch!==' '&&ch!==NBSP_CHAR}
function isSpacePoint(point){if(!isText(point.node)){return!1}
var ch=point.node.nodeValue.charAt(point.offset-1);return ch===' '||ch===NBSP_CHAR}
function walkPoint(startPoint,endPoint,handler,isSkipInnerOffset){var point=startPoint;while(point){handler(point);if(isSamePoint(point,endPoint)){break}
var isSkipOffset=isSkipInnerOffset&&startPoint.node!==point.node&&endPoint.node!==point.node;point=nextPointWithEmptyNode(point,isSkipOffset)}}
function makeOffsetPath(ancestor,node){var ancestors=listAncestor(node,func.eq(ancestor));return ancestors.map(dom_position).reverse()}
function fromOffsetPath(ancestor,offsets){var current=ancestor;for(var i=0,len=offsets.length;i<len;i++){if(current.childNodes.length<=offsets[i]){current=current.childNodes[current.childNodes.length-1]}else{current=current.childNodes[offsets[i]]}}
return current}
function splitNode(point,options){var isSkipPaddingBlankHTML=options&&options.isSkipPaddingBlankHTML;var isNotSplitEdgePoint=options&&options.isNotSplitEdgePoint;var isDiscardEmptySplits=options&&options.isDiscardEmptySplits;if(isDiscardEmptySplits){isSkipPaddingBlankHTML=!0}
if(isEdgePoint(point)&&(isText(point.node)||isNotSplitEdgePoint)){if(isLeftEdgePoint(point)){return point.node}else if(isRightEdgePoint(point)){return point.node.nextSibling}}
if(isText(point.node)){return point.node.splitText(point.offset)}else{var childNode=point.node.childNodes[point.offset];var clone=insertAfter(point.node.cloneNode(!1),point.node);appendChildNodes(clone,listNext(childNode));if(!isSkipPaddingBlankHTML){paddingBlankHTML(point.node);paddingBlankHTML(clone)}
if(isDiscardEmptySplits){if(dom_isEmpty(point.node)){remove(point.node)}
if(dom_isEmpty(clone)){remove(clone);return point.node.nextSibling}}
return clone}}
function splitTree(root,point,options){var ancestors=listAncestor(point.node,func.eq(root));if(!ancestors.length){return null}else if(ancestors.length===1){return splitNode(point,options)}
return ancestors.reduce(function(node,parent){if(node===point.node){node=splitNode(point,options)}
return splitNode({node:parent,offset:node?dom_position(node):nodeLength(parent)},options)})}
function splitPoint(point,isInline){var pred=isInline?isPara:isBodyContainer;var ancestors=listAncestor(point.node,pred);var topAncestor=lists.last(ancestors)||point.node;var splitRoot,container;if(pred(topAncestor)){splitRoot=ancestors[ancestors.length-2];container=topAncestor}else{splitRoot=topAncestor;container=splitRoot.parentNode}
var pivot=splitRoot&&splitTree(splitRoot,point,{isSkipPaddingBlankHTML:isInline,isNotSplitEdgePoint:isInline});if(!pivot&&container===point.node){pivot=point.node.childNodes[point.offset]}
return{rightNode:pivot,container:container}}
function dom_create(nodeName){return document.createElement(nodeName)}
function createText(text){return document.createTextNode(text)}
function remove(node,isRemoveChild){if(!node||!node.parentNode){return}
if(node.removeNode){return node.removeNode(isRemoveChild)}
var parent=node.parentNode;if(!isRemoveChild){var nodes=[];for(var i=0,len=node.childNodes.length;i<len;i++){nodes.push(node.childNodes[i])}
for(var _i=0,_len=nodes.length;_i<_len;_i++){parent.insertBefore(nodes[_i],node)}}
parent.removeChild(node)}
function removeWhile(node,pred){while(node){if(isEditable(node)||!pred(node)){break}
var parent=node.parentNode;remove(node);node=parent}}
function dom_replace(node,nodeName){if(node.nodeName.toUpperCase()===nodeName.toUpperCase()){return node}
var newNode=dom_create(nodeName);if(node.style.cssText){newNode.style.cssText=node.style.cssText}
appendChildNodes(newNode,lists.from(node.childNodes));insertAfter(newNode,node);remove(node);return newNode}
var isTextarea=makePredByNodeName('TEXTAREA');function dom_value($node,stripLinebreaks){var val=isTextarea($node[0])?$node.val():$node.html();if(stripLinebreaks){return val.replace(/[\n\r]/g,'')}
return val}
function dom_html($node,isNewlineOnBlock){var markup=dom_value($node);if(isNewlineOnBlock){var regexTag=/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g;markup=markup.replace(regexTag,function(match,endSlash,name){name=name.toUpperCase();var isEndOfInlineContainer=/^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(name)&&!!endSlash;var isBlockNode=/^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(name);return match+(isEndOfInlineContainer||isBlockNode?'\n':'')});markup=markup.trim()}
return markup}
function posFromPlaceholder(placeholder){var $placeholder=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(placeholder);var pos=$placeholder.offset();var height=$placeholder.outerHeight(!0);return{left:pos.left,top:pos.top+height}}
function attachEvents($node,events){Object.keys(events).forEach(function(key){$node.on(key,events[key])})}
function detachEvents($node,events){Object.keys(events).forEach(function(key){$node.off(key,events[key])})}
function isCustomStyleTag(node){return node&&!isText(node)&&lists.contains(node.classList,'note-styletag')}
var dom=({NBSP_CHAR:NBSP_CHAR,ZERO_WIDTH_NBSP_CHAR:ZERO_WIDTH_NBSP_CHAR,blank:blankHTML,emptyPara:"<p>".concat(blankHTML,"</p>"),makePredByNodeName:makePredByNodeName,isEditable:isEditable,isControlSizing:isControlSizing,isText:isText,isElement:isElement,isVoid:isVoid,isPara:isPara,isPurePara:isPurePara,isHeading:isHeading,isInline:dom_isInline,isBlock:func.not(dom_isInline),isBodyInline:isBodyInline,isBody:isBody,isParaInline:isParaInline,isPre:isPre,isList:isList,isTable:isTable,isData:isData,isCell:dom_isCell,isBlockquote:isBlockquote,isBodyContainer:isBodyContainer,isAnchor:isAnchor,isDiv:makePredByNodeName('DIV'),isLi:isLi,isBR:makePredByNodeName('BR'),isSpan:makePredByNodeName('SPAN'),isB:makePredByNodeName('B'),isU:makePredByNodeName('U'),isS:makePredByNodeName('S'),isI:makePredByNodeName('I'),isImg:makePredByNodeName('IMG'),isTextarea:isTextarea,deepestChildIsEmpty:deepestChildIsEmpty,isEmpty:dom_isEmpty,isEmptyAnchor:func.and(isAnchor,dom_isEmpty),isClosestSibling:isClosestSibling,withClosestSiblings:withClosestSiblings,nodeLength:nodeLength,isLeftEdgePoint:isLeftEdgePoint,isRightEdgePoint:isRightEdgePoint,isEdgePoint:isEdgePoint,isLeftEdgeOf:dom_isLeftEdgeOf,isRightEdgeOf:isRightEdgeOf,isLeftEdgePointOf:isLeftEdgePointOf,isRightEdgePointOf:isRightEdgePointOf,prevPoint:dom_prevPoint,nextPoint:dom_nextPoint,nextPointWithEmptyNode:nextPointWithEmptyNode,isSamePoint:isSamePoint,isVisiblePoint:isVisiblePoint,prevPointUntil:prevPointUntil,nextPointUntil:nextPointUntil,isCharPoint:isCharPoint,isSpacePoint:isSpacePoint,walkPoint:walkPoint,ancestor:dom_ancestor,singleChildAncestor:singleChildAncestor,listAncestor:listAncestor,lastAncestor:lastAncestor,listNext:listNext,listPrev:listPrev,listDescendant:listDescendant,commonAncestor:dom_commonAncestor,wrap:wrap,insertAfter:insertAfter,appendChildNodes:appendChildNodes,position:dom_position,hasChildren:hasChildren,makeOffsetPath:makeOffsetPath,fromOffsetPath:fromOffsetPath,splitTree:splitTree,splitPoint:splitPoint,create:dom_create,createText:createText,remove:remove,removeWhile:removeWhile,replace:dom_replace,html:dom_html,value:dom_value,posFromPlaceholder:posFromPlaceholder,attachEvents:attachEvents,detachEvents:detachEvents,isCustomStyleTag:isCustomStyleTag});function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value" in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}
var Context_Context=function(){function Context($note,options){_classCallCheck(this,Context);this.$note=$note;this.memos={};this.modules={};this.layoutInfo={};this.options=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.extend(!0,{},options);external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote.ui=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote.ui_template(this.options);this.ui=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote.ui;this.initialize()}
_createClass(Context,[{key:"initialize",value:function initialize(){this.layoutInfo=this.ui.createLayout(this.$note);this._initialize();this.$note.hide();return this}},{key:"destroy",value:function destroy(){this._destroy();this.$note.removeData('summernote');this.ui.removeLayout(this.$note,this.layoutInfo)}},{key:"reset",value:function reset(){var disabled=this.isDisabled();this.code(dom.emptyPara);this._destroy();this._initialize();if(disabled){this.disable()}}},{key:"_initialize",value:function _initialize(){var _this=this;this.options.id=func.uniqueId(external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.now());this.options.container=this.options.container||this.layoutInfo.editor;var buttons=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.extend({},this.options.buttons);Object.keys(buttons).forEach(function(key){_this.memo('button.'+key,buttons[key])});var modules=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.extend({},this.options.modules,external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote.plugins||{});Object.keys(modules).forEach(function(key){_this.module(key,modules[key],!0)});Object.keys(this.modules).forEach(function(key){_this.initializeModule(key)})}},{key:"_destroy",value:function _destroy(){var _this2=this;Object.keys(this.modules).reverse().forEach(function(key){_this2.removeModule(key)});Object.keys(this.memos).forEach(function(key){_this2.removeMemo(key)});this.triggerEvent('destroy',this)}},{key:"code",value:function code(html){var isActivated=this.invoke('codeview.isActivated');if(html===undefined){this.invoke('codeview.sync');return isActivated?this.layoutInfo.codable.val():this.layoutInfo.editable.html()}else{if(isActivated){this.invoke('codeview.sync',html)}else{this.layoutInfo.editable.html(html)}
this.$note.val(html);this.triggerEvent('change',html,this.layoutInfo.editable)}}},{key:"isDisabled",value:function isDisabled(){return this.layoutInfo.editable.attr('contenteditable')==='false'}},{key:"enable",value:function enable(){this.layoutInfo.editable.attr('contenteditable',!0);this.invoke('toolbar.activate',!0);this.triggerEvent('disable',!1);this.options.editing=!0}},{key:"disable",value:function disable(){if(this.invoke('codeview.isActivated')){this.invoke('codeview.deactivate')}
this.layoutInfo.editable.attr('contenteditable',!1);this.options.editing=!1;this.invoke('toolbar.deactivate',!0);this.triggerEvent('disable',!0)}},{key:"triggerEvent",value:function triggerEvent(){var namespace=lists.head(arguments);var args=lists.tail(lists.from(arguments));var callback=this.options.callbacks[func.namespaceToCamel(namespace,'on')];if(callback){callback.apply(this.$note[0],args)}
this.$note.trigger('summernote.'+namespace,args)}},{key:"initializeModule",value:function initializeModule(key){var module=this.modules[key];module.shouldInitialize=module.shouldInitialize||func.ok;if(!module.shouldInitialize()){return}
if(module.initialize){module.initialize()}
if(module.events){dom.attachEvents(this.$note,module.events)}}},{key:"module",value:function module(key,ModuleClass,withoutIntialize){if(arguments.length===1){return this.modules[key]}
this.modules[key]=new ModuleClass(this);if(!withoutIntialize){this.initializeModule(key)}}},{key:"removeModule",value:function removeModule(key){var module=this.modules[key];if(module.shouldInitialize()){if(module.events){dom.detachEvents(this.$note,module.events)}
if(module.destroy){module.destroy()}}
delete this.modules[key]}},{key:"memo",value:function memo(key,obj){if(arguments.length===1){return this.memos[key]}
this.memos[key]=obj}},{key:"removeMemo",value:function removeMemo(key){if(this.memos[key]&&this.memos[key].destroy){this.memos[key].destroy()}
delete this.memos[key]}},{key:"createInvokeHandlerAndUpdateState",value:function createInvokeHandlerAndUpdateState(namespace,value){var _this3=this;return function(event){_this3.createInvokeHandler(namespace,value)(event);_this3.invoke('buttons.updateCurrentStyle')}}},{key:"createInvokeHandler",value:function createInvokeHandler(namespace,value){var _this4=this;return function(event){event.preventDefault();var $target=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(event.target);_this4.invoke(namespace,value||$target.closest('[data-value]').data('value'),$target)}}},{key:"invoke",value:function invoke(){var namespace=lists.head(arguments);var args=lists.tail(lists.from(arguments));var splits=namespace.split('.');var hasSeparator=splits.length>1;var moduleName=hasSeparator&&lists.head(splits);var methodName=hasSeparator?lists.last(splits):lists.head(splits);var module=this.modules[moduleName||'editor'];if(!moduleName&&this[methodName]){return this[methodName].apply(this,args)}else if(module&&module[methodName]&&module.shouldInitialize()){return module[methodName].apply(module,args)}}}]);return Context}();external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.fn.extend({summernote:function summernote(){var type=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.type(lists.head(arguments));var isExternalAPICalled=type==='string';var hasInitOptions=type==='object';var options=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.extend({},external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote.options,hasInitOptions?lists.head(arguments):{});options.langInfo=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.extend(!0,{},external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote.lang['en-US'],external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote.lang[options.lang]);options.icons=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.extend(!0,{},external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote.options.icons,options.icons);options.tooltip=options.tooltip==='auto'?!env.isSupportTouch:options.tooltip;this.each(function(idx,note){var $note=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(note);if(!$note.data('summernote')){var context=new Context_Context($note,options);$note.data('summernote',context);$note.data('summernote').triggerEvent('init',context.layoutInfo)}});var $note=this.first();if($note.length){var context=$note.data('summernote');if(isExternalAPICalled){return context.invoke.apply(context,lists.from(arguments))}else if(options.focus){context.invoke('editor.focus')}}
return this}});function range_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}
function range_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value" in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}
function range_createClass(Constructor,protoProps,staticProps){if(protoProps)range_defineProperties(Constructor.prototype,protoProps);if(staticProps)range_defineProperties(Constructor,staticProps);return Constructor}
function textRangeToPoint(textRange,isStart){var container=textRange.parentElement();var offset;var tester=document.body.createTextRange();var prevContainer;var childNodes=lists.from(container.childNodes);for(offset=0;offset<childNodes.length;offset++){if(dom.isText(childNodes[offset])){continue}
tester.moveToElementText(childNodes[offset]);if(tester.compareEndPoints('StartToStart',textRange)>=0){break}
prevContainer=childNodes[offset]}
if(offset!==0&&dom.isText(childNodes[offset-1])){var textRangeStart=document.body.createTextRange();var curTextNode=null;textRangeStart.moveToElementText(prevContainer||container);textRangeStart.collapse(!prevContainer);curTextNode=prevContainer?prevContainer.nextSibling:container.firstChild;var pointTester=textRange.duplicate();pointTester.setEndPoint('StartToStart',textRangeStart);var textCount=pointTester.text.replace(/[\r\n]/g,'').length;while(textCount>curTextNode.nodeValue.length&&curTextNode.nextSibling){textCount-=curTextNode.nodeValue.length;curTextNode=curTextNode.nextSibling}
var dummy=curTextNode.nodeValue;if(isStart&&curTextNode.nextSibling&&dom.isText(curTextNode.nextSibling)&&textCount===curTextNode.nodeValue.length){textCount-=curTextNode.nodeValue.length;curTextNode=curTextNode.nextSibling}
container=curTextNode;offset=textCount}
return{cont:container,offset:offset}}
function pointToTextRange(point){var textRangeInfo=function textRangeInfo(container,offset){var node,isCollapseToStart;if(dom.isText(container)){var prevTextNodes=dom.listPrev(container,func.not(dom.isText));var prevContainer=lists.last(prevTextNodes).previousSibling;node=prevContainer||container.parentNode;offset+=lists.sum(lists.tail(prevTextNodes),dom.nodeLength);isCollapseToStart=!prevContainer}else{node=container.childNodes[offset]||container;if(dom.isText(node)){return textRangeInfo(node,0)}
offset=0;isCollapseToStart=!1}
return{node:node,collapseToStart:isCollapseToStart,offset:offset}};var textRange=document.body.createTextRange();var info=textRangeInfo(point.node,point.offset);textRange.moveToElementText(info.node);textRange.collapse(info.collapseToStart);textRange.moveStart('character',info.offset);return textRange}
var range_WrappedRange=function(){function WrappedRange(sc,so,ec,eo){range_classCallCheck(this,WrappedRange);this.sc=sc;this.so=so;this.ec=ec;this.eo=eo;this.isOnEditable=this.makeIsOn(dom.isEditable);this.isOnList=this.makeIsOn(dom.isList);this.isOnAnchor=this.makeIsOn(dom.isAnchor);this.isOnCell=this.makeIsOn(dom.isCell);this.isOnData=this.makeIsOn(dom.isData)}
range_createClass(WrappedRange,[{key:"nativeRange",value:function nativeRange(){if(env.isW3CRangeSupport){var w3cRange=document.createRange();w3cRange.setStart(this.sc,this.so);w3cRange.setEnd(this.ec,this.eo);return w3cRange}else{var textRange=pointToTextRange({node:this.sc,offset:this.so});textRange.setEndPoint('EndToEnd',pointToTextRange({node:this.ec,offset:this.eo}));return textRange}}},{key:"getPoints",value:function getPoints(){return{sc:this.sc,so:this.so,ec:this.ec,eo:this.eo}}},{key:"getStartPoint",value:function getStartPoint(){return{node:this.sc,offset:this.so}}},{key:"getEndPoint",value:function getEndPoint(){return{node:this.ec,offset:this.eo}}},{key:"select",value:function select(){var nativeRng=this.nativeRange();if(env.isW3CRangeSupport){var selection=document.getSelection();if(selection.rangeCount>0){selection.removeAllRanges()}
selection.addRange(nativeRng)}else{nativeRng.select()}
return this}},{key:"scrollIntoView",value:function scrollIntoView(container){var height=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(container).height();if(container.scrollTop+height<this.sc.offsetTop){container.scrollTop+=Math.abs(container.scrollTop+height-this.sc.offsetTop)}
return this}},{key:"normalize",value:function normalize(){var getVisiblePoint=function getVisiblePoint(point,isLeftToRight){if(!point){return point}
if(dom.isVisiblePoint(point)){if(!dom.isEdgePoint(point)||dom.isRightEdgePoint(point)&&!isLeftToRight||dom.isLeftEdgePoint(point)&&isLeftToRight||dom.isRightEdgePoint(point)&&isLeftToRight&&dom.isVoid(point.node.nextSibling)||dom.isLeftEdgePoint(point)&&!isLeftToRight&&dom.isVoid(point.node.previousSibling)||dom.isBlock(point.node)&&dom.isEmpty(point.node)){return point}}
var block=dom.ancestor(point.node,dom.isBlock);var hasRightNode=!1;if(!hasRightNode){var prevPoint=dom.prevPoint(point)||{node:null};hasRightNode=(dom.isLeftEdgePointOf(point,block)||dom.isVoid(prevPoint.node))&&!isLeftToRight}
var hasLeftNode=!1;if(!hasLeftNode){var _nextPoint=dom.nextPoint(point)||{node:null};hasLeftNode=(dom.isRightEdgePointOf(point,block)||dom.isVoid(_nextPoint.node))&&isLeftToRight}
if(hasRightNode||hasLeftNode){if(dom.isVisiblePoint(point)){return point}
isLeftToRight=!isLeftToRight}
var nextPoint=isLeftToRight?dom.nextPointUntil(dom.nextPoint(point),dom.isVisiblePoint):dom.prevPointUntil(dom.prevPoint(point),dom.isVisiblePoint);return nextPoint||point};var endPoint=getVisiblePoint(this.getEndPoint(),!1);var startPoint=this.isCollapsed()?endPoint:getVisiblePoint(this.getStartPoint(),!0);return new WrappedRange(startPoint.node,startPoint.offset,endPoint.node,endPoint.offset)}},{key:"nodes",value:function nodes(pred,options){pred=pred||func.ok;var includeAncestor=options&&options.includeAncestor;var fullyContains=options&&options.fullyContains;var startPoint=this.getStartPoint();var endPoint=this.getEndPoint();var nodes=[];var leftEdgeNodes=[];dom.walkPoint(startPoint,endPoint,function(point){if(dom.isEditable(point.node)){return}
var node;if(fullyContains){if(dom.isLeftEdgePoint(point)){leftEdgeNodes.push(point.node)}
if(dom.isRightEdgePoint(point)&&lists.contains(leftEdgeNodes,point.node)){node=point.node}}else if(includeAncestor){node=dom.ancestor(point.node,pred)}else{node=point.node}
if(node&&pred(node)){nodes.push(node)}},!0);return lists.unique(nodes)}},{key:"commonAncestor",value:function commonAncestor(){return dom.commonAncestor(this.sc,this.ec)}},{key:"expand",value:function expand(pred){var startAncestor=dom.ancestor(this.sc,pred);var endAncestor=dom.ancestor(this.ec,pred);if(!startAncestor&&!endAncestor){return new WrappedRange(this.sc,this.so,this.ec,this.eo)}
var boundaryPoints=this.getPoints();if(startAncestor){boundaryPoints.sc=startAncestor;boundaryPoints.so=0}
if(endAncestor){boundaryPoints.ec=endAncestor;boundaryPoints.eo=dom.nodeLength(endAncestor)}
return new WrappedRange(boundaryPoints.sc,boundaryPoints.so,boundaryPoints.ec,boundaryPoints.eo)}},{key:"collapse",value:function collapse(isCollapseToStart){if(isCollapseToStart){return new WrappedRange(this.sc,this.so,this.sc,this.so)}else{return new WrappedRange(this.ec,this.eo,this.ec,this.eo)}}},{key:"splitText",value:function splitText(){var isSameContainer=this.sc===this.ec;var boundaryPoints=this.getPoints();if(dom.isText(this.ec)&&!dom.isEdgePoint(this.getEndPoint())){this.ec.splitText(this.eo)}
if(dom.isText(this.sc)&&!dom.isEdgePoint(this.getStartPoint())){boundaryPoints.sc=this.sc.splitText(this.so);boundaryPoints.so=0;if(isSameContainer){boundaryPoints.ec=boundaryPoints.sc;boundaryPoints.eo=this.eo-this.so}}
return new WrappedRange(boundaryPoints.sc,boundaryPoints.so,boundaryPoints.ec,boundaryPoints.eo)}},{key:"deleteContents",value:function deleteContents(){if(this.isCollapsed()){return this}
var rng=this.splitText();var nodes=rng.nodes(null,{fullyContains:!0});var point=dom.prevPointUntil(rng.getStartPoint(),function(point){return!lists.contains(nodes,point.node)});var emptyParents=[];external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.each(nodes,function(idx,node){var parent=node.parentNode;if(point.node!==parent&&dom.nodeLength(parent)===1){emptyParents.push(parent)}
dom.remove(node,!1)});external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.each(emptyParents,function(idx,node){dom.remove(node,!1)});return new WrappedRange(point.node,point.offset,point.node,point.offset).normalize()}},{key:"makeIsOn",value:function makeIsOn(pred){return function(){var ancestor=dom.ancestor(this.sc,pred);return!!ancestor&&ancestor===dom.ancestor(this.ec,pred)}}},{key:"isLeftEdgeOf",value:function isLeftEdgeOf(pred){if(!dom.isLeftEdgePoint(this.getStartPoint())){return!1}
var node=dom.ancestor(this.sc,pred);return node&&dom.isLeftEdgeOf(this.sc,node)}},{key:"isCollapsed",value:function isCollapsed(){return this.sc===this.ec&&this.so===this.eo}},{key:"wrapBodyInlineWithPara",value:function wrapBodyInlineWithPara(){if(dom.isBodyContainer(this.sc)&&dom.isEmpty(this.sc)){this.sc.innerHTML=dom.emptyPara;return new WrappedRange(this.sc.firstChild,0,this.sc.firstChild,0)}
var rng=this.normalize();if(dom.isParaInline(this.sc)||dom.isPara(this.sc)){return rng}
var topAncestor;if(dom.isInline(rng.sc)){var ancestors=dom.listAncestor(rng.sc,func.not(dom.isInline));topAncestor=lists.last(ancestors);if(!dom.isInline(topAncestor)){topAncestor=ancestors[ancestors.length-2]||rng.sc.childNodes[rng.so]}}else{topAncestor=rng.sc.childNodes[rng.so>0?rng.so-1:0]}
if(topAncestor){var inlineSiblings=dom.listPrev(topAncestor,dom.isParaInline).reverse();inlineSiblings=inlineSiblings.concat(dom.listNext(topAncestor.nextSibling,dom.isParaInline));if(inlineSiblings.length){var para=dom.wrap(lists.head(inlineSiblings),'p');dom.appendChildNodes(para,lists.tail(inlineSiblings))}}
return this.normalize()}},{key:"insertNode",value:function insertNode(node){var rng=this;if(dom.isText(node)||dom.isInline(node)){rng=this.wrapBodyInlineWithPara().deleteContents()}
var info=dom.splitPoint(rng.getStartPoint(),dom.isInline(node));if(info.rightNode){info.rightNode.parentNode.insertBefore(node,info.rightNode);if(dom.isEmpty(info.rightNode)&&dom.isPara(node)){info.rightNode.parentNode.removeChild(info.rightNode)}}else{info.container.appendChild(node)}
return node}},{key:"pasteHTML",value:function pasteHTML(markup){markup=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.trim(markup);var contentsContainer=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<div></div>').html(markup)[0];var childNodes=lists.from(contentsContainer.childNodes);var rng=this;var reversed=!1;if(rng.so>=0){childNodes=childNodes.reverse();reversed=!0}
childNodes=childNodes.map(function(childNode){return rng.insertNode(childNode)});if(reversed){childNodes=childNodes.reverse()}
return childNodes}},{key:"toString",value:function toString(){var nativeRng=this.nativeRange();return env.isW3CRangeSupport?nativeRng.toString():nativeRng.text}},{key:"getWordRange",value:function getWordRange(findAfter){var endPoint=this.getEndPoint();if(!dom.isCharPoint(endPoint)){return this}
var startPoint=dom.prevPointUntil(endPoint,function(point){return!dom.isCharPoint(point)});if(findAfter){endPoint=dom.nextPointUntil(endPoint,function(point){return!dom.isCharPoint(point)})}
return new WrappedRange(startPoint.node,startPoint.offset,endPoint.node,endPoint.offset)}},{key:"getWordsRange",value:function getWordsRange(findAfter){var endPoint=this.getEndPoint();var isNotTextPoint=function isNotTextPoint(point){return!dom.isCharPoint(point)&&!dom.isSpacePoint(point)};if(isNotTextPoint(endPoint)){return this}
var startPoint=dom.prevPointUntil(endPoint,isNotTextPoint);if(findAfter){endPoint=dom.nextPointUntil(endPoint,isNotTextPoint)}
return new WrappedRange(startPoint.node,startPoint.offset,endPoint.node,endPoint.offset)}},{key:"getWordsMatchRange",value:function getWordsMatchRange(regex){var endPoint=this.getEndPoint();var startPoint=dom.prevPointUntil(endPoint,function(point){if(!dom.isCharPoint(point)&&!dom.isSpacePoint(point)){return!0}
var rng=new WrappedRange(point.node,point.offset,endPoint.node,endPoint.offset);var result=regex.exec(rng.toString());return result&&result.index===0});var rng=new WrappedRange(startPoint.node,startPoint.offset,endPoint.node,endPoint.offset);var text=rng.toString();var result=regex.exec(text);if(result&&result[0].length===text.length){return rng}else{return null}}},{key:"bookmark",value:function bookmark(editable){return{s:{path:dom.makeOffsetPath(editable,this.sc),offset:this.so},e:{path:dom.makeOffsetPath(editable,this.ec),offset:this.eo}}}},{key:"paraBookmark",value:function paraBookmark(paras){return{s:{path:lists.tail(dom.makeOffsetPath(lists.head(paras),this.sc)),offset:this.so},e:{path:lists.tail(dom.makeOffsetPath(lists.last(paras),this.ec)),offset:this.eo}}}},{key:"getClientRects",value:function getClientRects(){var nativeRng=this.nativeRange();return nativeRng.getClientRects()}}]);return WrappedRange}();var range=({create:function create(sc,so,ec,eo){if(arguments.length===4){return new range_WrappedRange(sc,so,ec,eo)}else if(arguments.length===2){ec=sc;eo=so;return new range_WrappedRange(sc,so,ec,eo)}else{var wrappedRange=this.createFromSelection();if(!wrappedRange&&arguments.length===1){var bodyElement=arguments[0];if(dom.isEditable(bodyElement)){bodyElement=bodyElement.lastChild}
return this.createFromBodyElement(bodyElement,dom.emptyPara===arguments[0].innerHTML)}
return wrappedRange}},createFromBodyElement:function createFromBodyElement(bodyElement){var isCollapseToStart=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var wrappedRange=this.createFromNode(bodyElement);return wrappedRange.collapse(isCollapseToStart)},createFromSelection:function createFromSelection(){var sc,so,ec,eo;if(env.isW3CRangeSupport){var selection=document.getSelection();if(!selection||selection.rangeCount===0){return null}else if(dom.isBody(selection.anchorNode)){return null}
var nativeRng=selection.getRangeAt(0);sc=nativeRng.startContainer;so=nativeRng.startOffset;ec=nativeRng.endContainer;eo=nativeRng.endOffset}else{var textRange=document.selection.createRange();var textRangeEnd=textRange.duplicate();textRangeEnd.collapse(!1);var textRangeStart=textRange;textRangeStart.collapse(!0);var startPoint=textRangeToPoint(textRangeStart,!0);var endPoint=textRangeToPoint(textRangeEnd,!1);if(dom.isText(startPoint.node)&&dom.isLeftEdgePoint(startPoint)&&dom.isTextNode(endPoint.node)&&dom.isRightEdgePoint(endPoint)&&endPoint.node.nextSibling===startPoint.node){startPoint=endPoint}
sc=startPoint.cont;so=startPoint.offset;ec=endPoint.cont;eo=endPoint.offset}
return new range_WrappedRange(sc,so,ec,eo)},createFromNode:function createFromNode(node){var sc=node;var so=0;var ec=node;var eo=dom.nodeLength(ec);if(dom.isVoid(sc)){so=dom.listPrev(sc).length-1;sc=sc.parentNode}
if(dom.isBR(ec)){eo=dom.listPrev(ec).length-1;ec=ec.parentNode}else if(dom.isVoid(ec)){eo=dom.listPrev(ec).length;ec=ec.parentNode}
return this.create(sc,so,ec,eo)},createFromNodeBefore:function createFromNodeBefore(node){return this.createFromNode(node).collapse(!0)},createFromNodeAfter:function createFromNodeAfter(node){return this.createFromNode(node).collapse()},createFromBookmark:function createFromBookmark(editable,bookmark){var sc=dom.fromOffsetPath(editable,bookmark.s.path);var so=bookmark.s.offset;var ec=dom.fromOffsetPath(editable,bookmark.e.path);var eo=bookmark.e.offset;return new range_WrappedRange(sc,so,ec,eo)},createFromParaBookmark:function createFromParaBookmark(bookmark,paras){var so=bookmark.s.offset;var eo=bookmark.e.offset;var sc=dom.fromOffsetPath(lists.head(paras),bookmark.s.path);var ec=dom.fromOffsetPath(lists.last(paras),bookmark.e.path);return new range_WrappedRange(sc,so,ec,eo)}});var KEY_MAP={'BACKSPACE':8,'TAB':9,'ENTER':13,'ESCAPE':27,'SPACE':32,'DELETE':46,'LEFT':37,'UP':38,'RIGHT':39,'DOWN':40,'NUM0':48,'NUM1':49,'NUM2':50,'NUM3':51,'NUM4':52,'NUM5':53,'NUM6':54,'NUM7':55,'NUM8':56,'B':66,'E':69,'I':73,'J':74,'K':75,'L':76,'R':82,'S':83,'U':85,'V':86,'Y':89,'Z':90,'SLASH':191,'LEFTBRACKET':219,'BACKSLASH':220,'RIGHTBRACKET':221,'HOME':36,'END':35,'PAGEUP':33,'PAGEDOWN':34};var core_key=({isEdit:function isEdit(keyCode){return lists.contains([KEY_MAP.BACKSPACE,KEY_MAP.TAB,KEY_MAP.ENTER,KEY_MAP.SPACE,KEY_MAP.DELETE],keyCode)},isMove:function isMove(keyCode){return lists.contains([KEY_MAP.LEFT,KEY_MAP.UP,KEY_MAP.RIGHT,KEY_MAP.DOWN],keyCode)},isNavigation:function isNavigation(keyCode){return lists.contains([KEY_MAP.HOME,KEY_MAP.END,KEY_MAP.PAGEUP,KEY_MAP.PAGEDOWN],keyCode)},nameFromCode:func.invertObject(KEY_MAP),code:KEY_MAP});function readFileAsDataURL(file){return external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.Deferred(function(deferred){external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.extend(new FileReader(),{onload:function onload(e){var dataURL=e.target.result;deferred.resolve(dataURL)},onerror:function onerror(err){deferred.reject(err)}}).readAsDataURL(file)}).promise()}
function createImage(url){return external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.Deferred(function(deferred){var $img=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<img>');$img.one('load',function(){$img.off('error abort');deferred.resolve($img)}).one('error abort',function(){$img.off('load').detach();deferred.reject($img)}).css({display:'none'}).appendTo(document.body).attr('src',url)}).promise()}
function History_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}
function History_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value" in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}
function History_createClass(Constructor,protoProps,staticProps){if(protoProps)History_defineProperties(Constructor.prototype,protoProps);if(staticProps)History_defineProperties(Constructor,staticProps);return Constructor}
var History_History=function(){function History(context){History_classCallCheck(this,History);this.stack=[];this.stackOffset=-1;this.context=context;this.$editable=context.layoutInfo.editable;this.editable=this.$editable[0]}
History_createClass(History,[{key:"makeSnapshot",value:function makeSnapshot(){var rng=range.create(this.editable);var emptyBookmark={s:{path:[],offset:0},e:{path:[],offset:0}};return{contents:this.$editable.html(),bookmark:rng&&rng.isOnEditable()?rng.bookmark(this.editable):emptyBookmark}}},{key:"applySnapshot",value:function applySnapshot(snapshot){if(snapshot.contents!==null){this.$editable.html(snapshot.contents)}
if(snapshot.bookmark!==null){range.createFromBookmark(this.editable,snapshot.bookmark).select()}}},{key:"rewind",value:function rewind(){if(this.$editable.html()!==this.stack[this.stackOffset].contents){this.recordUndo()}
this.stackOffset=0;this.applySnapshot(this.stack[this.stackOffset])}},{key:"commit",value:function commit(){this.stack=[];this.stackOffset=-1;this.recordUndo()}},{key:"reset",value:function reset(){this.stack=[];this.stackOffset=-1;this.$editable.html('');this.recordUndo()}},{key:"undo",value:function undo(){if(this.$editable.html()!==this.stack[this.stackOffset].contents){this.recordUndo()}
if(this.stackOffset>0){this.stackOffset--;this.applySnapshot(this.stack[this.stackOffset])}}},{key:"redo",value:function redo(){if(this.stack.length-1>this.stackOffset){this.stackOffset++;this.applySnapshot(this.stack[this.stackOffset])}}},{key:"recordUndo",value:function recordUndo(){this.stackOffset++;if(this.stack.length>this.stackOffset){this.stack=this.stack.slice(0,this.stackOffset)}
this.stack.push(this.makeSnapshot());if(this.stack.length>this.context.options.historyLimit){this.stack.shift();this.stackOffset-=1}}}]);return History}();function Style_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}
function Style_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value" in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}
function Style_createClass(Constructor,protoProps,staticProps){if(protoProps)Style_defineProperties(Constructor.prototype,protoProps);if(staticProps)Style_defineProperties(Constructor,staticProps);return Constructor}
var Style_Style=function(){function Style(){Style_classCallCheck(this,Style)}
Style_createClass(Style,[{key:"jQueryCSS",value:function jQueryCSS($obj,propertyNames){if(env.jqueryVersion<1.9){var result={};external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.each(propertyNames,function(idx,propertyName){result[propertyName]=$obj.css(propertyName)});return result}
return $obj.css(propertyNames)}},{key:"fromNode",value:function fromNode($node){var properties=['font-family','font-size','text-align','list-style-type','line-height'];var styleInfo=this.jQueryCSS($node,properties)||{};var fontSize=$node[0].style.fontSize||styleInfo['font-size'];styleInfo['font-size']=parseInt(fontSize,10);styleInfo['font-size-unit']=fontSize.match(/[a-z%]+$/);return styleInfo}},{key:"stylePara",value:function stylePara(rng,styleInfo){external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.each(rng.nodes(dom.isPara,{includeAncestor:!0}),function(idx,para){external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(para).css(styleInfo)})}},{key:"styleNodes",value:function styleNodes(rng,options){rng=rng.splitText();var nodeName=options&&options.nodeName||'SPAN';var expandClosestSibling=!!(options&&options.expandClosestSibling);var onlyPartialContains=!!(options&&options.onlyPartialContains);if(rng.isCollapsed()){return[rng.insertNode(dom.create(nodeName))]}
var pred=dom.makePredByNodeName(nodeName);var nodes=rng.nodes(dom.isText,{fullyContains:!0}).map(function(text){return dom.singleChildAncestor(text,pred)||dom.wrap(text,nodeName)});if(expandClosestSibling){if(onlyPartialContains){var nodesInRange=rng.nodes();pred=func.and(pred,function(node){return lists.contains(nodesInRange,node)})}
return nodes.map(function(node){var siblings=dom.withClosestSiblings(node,pred);var head=lists.head(siblings);var tails=lists.tail(siblings);external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.each(tails,function(idx,elem){dom.appendChildNodes(head,elem.childNodes);dom.remove(elem)});return lists.head(siblings)})}else{return nodes}}},{key:"current",value:function current(rng){var $cont=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(!dom.isElement(rng.sc)?rng.sc.parentNode:rng.sc);var styleInfo=this.fromNode($cont);try{styleInfo=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.extend(styleInfo,{'font-bold':document.queryCommandState('bold')?'bold':'normal','font-italic':document.queryCommandState('italic')?'italic':'normal','font-underline':document.queryCommandState('underline')?'underline':'normal','font-subscript':document.queryCommandState('subscript')?'subscript':'normal','font-superscript':document.queryCommandState('superscript')?'superscript':'normal','font-strikethrough':document.queryCommandState('strikethrough')?'strikethrough':'normal','font-family':document.queryCommandValue('fontname')||styleInfo['font-family']})}catch(e){}
if(!rng.isOnList()){styleInfo['list-style']='none'}else{var orderedTypes=['circle','disc','disc-leading-zero','square'];var isUnordered=orderedTypes.indexOf(styleInfo['list-style-type'])>-1;styleInfo['list-style']=isUnordered?'unordered':'ordered'}
var para=dom.ancestor(rng.sc,dom.isPara);if(para&&para.style['line-height']){styleInfo['line-height']=para.style.lineHeight}else{var lineHeight=parseInt(styleInfo['line-height'],10)/parseInt(styleInfo['font-size'],10);styleInfo['line-height']=lineHeight.toFixed(1)}
styleInfo.anchor=rng.isOnAnchor()&&dom.ancestor(rng.sc,dom.isAnchor);styleInfo.ancestors=dom.listAncestor(rng.sc,dom.isEditable);styleInfo.range=rng;return styleInfo}}]);return Style}();function Bullet_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}
function Bullet_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value" in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}
function Bullet_createClass(Constructor,protoProps,staticProps){if(protoProps)Bullet_defineProperties(Constructor.prototype,protoProps);if(staticProps)Bullet_defineProperties(Constructor,staticProps);return Constructor}
var Bullet_Bullet=function(){function Bullet(){Bullet_classCallCheck(this,Bullet)}
Bullet_createClass(Bullet,[{key:"insertOrderedList",value:function insertOrderedList(editable){this.toggleList('OL',editable)}},{key:"insertUnorderedList",value:function insertUnorderedList(editable){this.toggleList('UL',editable)}},{key:"indent",value:function indent(editable){var _this=this;var rng=range.create(editable).wrapBodyInlineWithPara();var paras=rng.nodes(dom.isPara,{includeAncestor:!0});var clustereds=lists.clusterBy(paras,func.peq2('parentNode'));external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.each(clustereds,function(idx,paras){var head=lists.head(paras);if(dom.isLi(head)){var previousList=_this.findList(head.previousSibling);if(previousList){paras.map(function(para){return previousList.appendChild(para)})}else{_this.wrapList(paras,head.parentNode.nodeName);paras.map(function(para){return para.parentNode}).map(function(para){return _this.appendToPrevious(para)})}}else{external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.each(paras,function(idx,para){external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(para).css('marginLeft',function(idx,val){return(parseInt(val,10)||0)+25})})}});rng.select()}},{key:"outdent",value:function outdent(editable){var _this2=this;var rng=range.create(editable).wrapBodyInlineWithPara();var paras=rng.nodes(dom.isPara,{includeAncestor:!0});var clustereds=lists.clusterBy(paras,func.peq2('parentNode'));external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.each(clustereds,function(idx,paras){var head=lists.head(paras);if(dom.isLi(head)){_this2.releaseList([paras])}else{external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.each(paras,function(idx,para){external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(para).css('marginLeft',function(idx,val){val=parseInt(val,10)||0;return val>25?val-25:''})})}});rng.select()}},{key:"toggleList",value:function toggleList(listName,editable){var _this3=this;var rng=range.create(editable).wrapBodyInlineWithPara();var paras=rng.nodes(dom.isPara,{includeAncestor:!0});var bookmark=rng.paraBookmark(paras);var clustereds=lists.clusterBy(paras,func.peq2('parentNode'));if(lists.find(paras,dom.isPurePara)){var wrappedParas=[];external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.each(clustereds,function(idx,paras){wrappedParas=wrappedParas.concat(_this3.wrapList(paras,listName))});paras=wrappedParas}else{var diffLists=rng.nodes(dom.isList,{includeAncestor:!0}).filter(function(listNode){return!external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.nodeName(listNode,listName)});if(diffLists.length){external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.each(diffLists,function(idx,listNode){dom.replace(listNode,listName)})}else{paras=this.releaseList(clustereds,!0)}}
range.createFromParaBookmark(bookmark,paras).select()}},{key:"wrapList",value:function wrapList(paras,listName){var head=lists.head(paras);var last=lists.last(paras);var prevList=dom.isList(head.previousSibling)&&head.previousSibling;var nextList=dom.isList(last.nextSibling)&&last.nextSibling;var listNode=prevList||dom.insertAfter(dom.create(listName||'UL'),last);paras=paras.map(function(para){return dom.isPurePara(para)?dom.replace(para,'LI'):para});dom.appendChildNodes(listNode,paras);if(nextList){dom.appendChildNodes(listNode,lists.from(nextList.childNodes));dom.remove(nextList)}
return paras}},{key:"releaseList",value:function releaseList(clustereds,isEscapseToBody){var _this4=this;var releasedParas=[];external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.each(clustereds,function(idx,paras){var head=lists.head(paras);var last=lists.last(paras);var headList=isEscapseToBody?dom.lastAncestor(head,dom.isList):head.parentNode;var parentItem=headList.parentNode;if(headList.parentNode.nodeName==='LI'){paras.map(function(para){var newList=_this4.findNextSiblings(para);if(parentItem.nextSibling){parentItem.parentNode.insertBefore(para,parentItem.nextSibling)}else{parentItem.parentNode.appendChild(para)}
if(newList.length){_this4.wrapList(newList,headList.nodeName);para.appendChild(newList[0].parentNode)}});if(headList.children.length===0){parentItem.removeChild(headList)}
if(parentItem.childNodes.length===0){parentItem.parentNode.removeChild(parentItem)}}else{var lastList=headList.childNodes.length>1?dom.splitTree(headList,{node:last.parentNode,offset:dom.position(last)+1},{isSkipPaddingBlankHTML:!0}):null;var middleList=dom.splitTree(headList,{node:head.parentNode,offset:dom.position(head)},{isSkipPaddingBlankHTML:!0});paras=isEscapseToBody?dom.listDescendant(middleList,dom.isLi):lists.from(middleList.childNodes).filter(dom.isLi);if(isEscapseToBody||!dom.isList(headList.parentNode)){paras=paras.map(function(para){return dom.replace(para,'P')})}
external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.each(lists.from(paras).reverse(),function(idx,para){dom.insertAfter(para,headList)});var rootLists=lists.compact([headList,middleList,lastList]);external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.each(rootLists,function(idx,rootList){var listNodes=[rootList].concat(dom.listDescendant(rootList,dom.isList));external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.each(listNodes.reverse(),function(idx,listNode){if(!dom.nodeLength(listNode)){dom.remove(listNode,!0)}})})}
releasedParas=releasedParas.concat(paras)});return releasedParas}},{key:"appendToPrevious",value:function appendToPrevious(node){return node.previousSibling?dom.appendChildNodes(node.previousSibling,[node]):this.wrapList([node],'LI')}},{key:"findList",value:function findList(node){return node?lists.find(node.children,function(child){return['OL','UL'].indexOf(child.nodeName)>-1}):null}},{key:"findNextSiblings",value:function findNextSiblings(node){var siblings=[];while(node.nextSibling){siblings.push(node.nextSibling);node=node.nextSibling}
return siblings}}]);return Bullet}();function Typing_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}
function Typing_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value" in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}
function Typing_createClass(Constructor,protoProps,staticProps){if(protoProps)Typing_defineProperties(Constructor.prototype,protoProps);if(staticProps)Typing_defineProperties(Constructor,staticProps);return Constructor}
var Typing_Typing=function(){function Typing(context){Typing_classCallCheck(this,Typing);this.bullet=new Bullet_Bullet();this.options=context.options}
Typing_createClass(Typing,[{key:"insertTab",value:function insertTab(rng,tabsize){var tab=dom.createText(new Array(tabsize+1).join(dom.NBSP_CHAR));rng=rng.deleteContents();rng.insertNode(tab,!0);rng=range.create(tab,tabsize);rng.select()}},{key:"insertParagraph",value:function insertParagraph(editable,rng){rng=rng||range.create(editable);rng=rng.deleteContents();rng=rng.wrapBodyInlineWithPara();var splitRoot=dom.ancestor(rng.sc,dom.isPara);var nextPara;if(splitRoot){if(dom.isLi(splitRoot)&&(dom.isEmpty(splitRoot)||dom.deepestChildIsEmpty(splitRoot))){this.bullet.toggleList(splitRoot.parentNode.nodeName);return}else{var blockquote=null;if(this.options.blockquoteBreakingLevel===1){blockquote=dom.ancestor(splitRoot,dom.isBlockquote)}else if(this.options.blockquoteBreakingLevel===2){blockquote=dom.lastAncestor(splitRoot,dom.isBlockquote)}
if(blockquote){nextPara=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(dom.emptyPara)[0];if(dom.isRightEdgePoint(rng.getStartPoint())&&dom.isBR(rng.sc.nextSibling)){external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(rng.sc.nextSibling).remove()}
var split=dom.splitTree(blockquote,rng.getStartPoint(),{isDiscardEmptySplits:!0});if(split){split.parentNode.insertBefore(nextPara,split)}else{dom.insertAfter(nextPara,blockquote)}}else{nextPara=dom.splitTree(splitRoot,rng.getStartPoint());var emptyAnchors=dom.listDescendant(splitRoot,dom.isEmptyAnchor);emptyAnchors=emptyAnchors.concat(dom.listDescendant(nextPara,dom.isEmptyAnchor));external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.each(emptyAnchors,function(idx,anchor){dom.remove(anchor)});if((dom.isHeading(nextPara)||dom.isPre(nextPara)||dom.isCustomStyleTag(nextPara))&&dom.isEmpty(nextPara)){nextPara=dom.replace(nextPara,'p')}}}}else{var next=rng.sc.childNodes[rng.so];nextPara=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(dom.emptyPara)[0];if(next){rng.sc.insertBefore(nextPara,next)}else{rng.sc.appendChild(nextPara)}}
range.create(nextPara,0).normalize().select().scrollIntoView(editable)}}]);return Typing}();function Table_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}
function Table_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value" in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}
function Table_createClass(Constructor,protoProps,staticProps){if(protoProps)Table_defineProperties(Constructor.prototype,protoProps);if(staticProps)Table_defineProperties(Constructor,staticProps);return Constructor}
var TableResultAction=function TableResultAction(startPoint,where,action,domTable){var _startPoint={'colPos':0,'rowPos':0};var _virtualTable=[];var _actionCellList=[];function setStartPoint(){if(!startPoint||!startPoint.tagName||startPoint.tagName.toLowerCase()!=='td'&&startPoint.tagName.toLowerCase()!=='th'){return}
_startPoint.colPos=startPoint.cellIndex;if(!startPoint.parentElement||!startPoint.parentElement.tagName||startPoint.parentElement.tagName.toLowerCase()!=='tr'){return}
_startPoint.rowPos=startPoint.parentElement.rowIndex}
function setVirtualTablePosition(rowIndex,cellIndex,baseRow,baseCell,isRowSpan,isColSpan,isVirtualCell){var objPosition={'baseRow':baseRow,'baseCell':baseCell,'isRowSpan':isRowSpan,'isColSpan':isColSpan,'isVirtual':isVirtualCell};if(!_virtualTable[rowIndex]){_virtualTable[rowIndex]=[]}
_virtualTable[rowIndex][cellIndex]=objPosition}
function getActionCell(virtualTableCellObj,resultAction,virtualRowPosition,virtualColPosition){return{'baseCell':virtualTableCellObj.baseCell,'action':resultAction,'virtualTable':{'rowIndex':virtualRowPosition,'cellIndex':virtualColPosition}}}
function recoverCellIndex(rowIndex,cellIndex){if(!_virtualTable[rowIndex]){return cellIndex}
if(!_virtualTable[rowIndex][cellIndex]){return cellIndex}
var newCellIndex=cellIndex;while(_virtualTable[rowIndex][newCellIndex]){newCellIndex++;if(!_virtualTable[rowIndex][newCellIndex]){return newCellIndex}}}
function addCellInfoToVirtual(row,cell){var cellIndex=recoverCellIndex(row.rowIndex,cell.cellIndex);var cellHasColspan=cell.colSpan>1;var cellHasRowspan=cell.rowSpan>1;var isThisSelectedCell=row.rowIndex===_startPoint.rowPos&&cell.cellIndex===_startPoint.colPos;setVirtualTablePosition(row.rowIndex,cellIndex,row,cell,cellHasRowspan,cellHasColspan,!1);var rowspanNumber=cell.attributes.rowSpan?parseInt(cell.attributes.rowSpan.value,10):0;if(rowspanNumber>1){for(var rp=1;rp<rowspanNumber;rp++){var rowspanIndex=row.rowIndex+rp;adjustStartPoint(rowspanIndex,cellIndex,cell,isThisSelectedCell);setVirtualTablePosition(rowspanIndex,cellIndex,row,cell,!0,cellHasColspan,!0)}}
var colspanNumber=cell.attributes.colSpan?parseInt(cell.attributes.colSpan.value,10):0;if(colspanNumber>1){for(var cp=1;cp<colspanNumber;cp++){var cellspanIndex=recoverCellIndex(row.rowIndex,cellIndex+cp);adjustStartPoint(row.rowIndex,cellspanIndex,cell,isThisSelectedCell);setVirtualTablePosition(row.rowIndex,cellspanIndex,row,cell,cellHasRowspan,!0,!0)}}}
function adjustStartPoint(rowIndex,cellIndex,cell,isSelectedCell){if(rowIndex===_startPoint.rowPos&&_startPoint.colPos>=cell.cellIndex&&cell.cellIndex<=cellIndex&&!isSelectedCell){_startPoint.colPos++}}
function createVirtualTable(){var rows=domTable.rows;for(var rowIndex=0;rowIndex<rows.length;rowIndex++){var cells=rows[rowIndex].cells;for(var cellIndex=0;cellIndex<cells.length;cellIndex++){addCellInfoToVirtual(rows[rowIndex],cells[cellIndex])}}}
function getDeleteResultActionToCell(cell){switch(where){case TableResultAction.where.Column:if(cell.isColSpan){return TableResultAction.resultAction.SubtractSpanCount}
break;case TableResultAction.where.Row:if(!cell.isVirtual&&cell.isRowSpan){return TableResultAction.resultAction.AddCell}else if(cell.isRowSpan){return TableResultAction.resultAction.SubtractSpanCount}
break}
return TableResultAction.resultAction.RemoveCell}
function getAddResultActionToCell(cell){switch(where){case TableResultAction.where.Column:if(cell.isColSpan){return TableResultAction.resultAction.SumSpanCount}else if(cell.isRowSpan&&cell.isVirtual){return TableResultAction.resultAction.Ignore}
break;case TableResultAction.where.Row:if(cell.isRowSpan){return TableResultAction.resultAction.SumSpanCount}else if(cell.isColSpan&&cell.isVirtual){return TableResultAction.resultAction.Ignore}
break}
return TableResultAction.resultAction.AddCell}
function init(){setStartPoint();createVirtualTable()}
this.getActionList=function(){var fixedRow=where===TableResultAction.where.Row?_startPoint.rowPos:-1;var fixedCol=where===TableResultAction.where.Column?_startPoint.colPos:-1;var actualPosition=0;var canContinue=!0;while(canContinue){var rowPosition=fixedRow>=0?fixedRow:actualPosition;var colPosition=fixedCol>=0?fixedCol:actualPosition;var row=_virtualTable[rowPosition];if(!row){canContinue=!1;return _actionCellList}
var cell=row[colPosition];if(!cell){canContinue=!1;return _actionCellList}
var resultAction=TableResultAction.resultAction.Ignore;switch(action){case TableResultAction.requestAction.Add:resultAction=getAddResultActionToCell(cell);break;case TableResultAction.requestAction.Delete:resultAction=getDeleteResultActionToCell(cell);break}
_actionCellList.push(getActionCell(cell,resultAction,rowPosition,colPosition));actualPosition++}
return _actionCellList};init()};TableResultAction.where={'Row':0,'Column':1};TableResultAction.requestAction={'Add':0,'Delete':1};TableResultAction.resultAction={'Ignore':0,'SubtractSpanCount':1,'RemoveCell':2,'AddCell':3,'SumSpanCount':4};var Table_Table=function(){function Table(){Table_classCallCheck(this,Table)}
Table_createClass(Table,[{key:"tab",value:function tab(rng,isShift){var cell=dom.ancestor(rng.commonAncestor(),dom.isCell);var table=dom.ancestor(cell,dom.isTable);var cells=dom.listDescendant(table,dom.isCell);var nextCell=lists[isShift?'prev':'next'](cells,cell);if(nextCell){range.create(nextCell,0).select()}}},{key:"addRow",value:function addRow(rng,position){var cell=dom.ancestor(rng.commonAncestor(),dom.isCell);var currentTr=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(cell).closest('tr');var trAttributes=this.recoverAttributes(currentTr);var html=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<tr'+trAttributes+'></tr>');var vTable=new TableResultAction(cell,TableResultAction.where.Row,TableResultAction.requestAction.Add,external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(currentTr).closest('table')[0]);var actions=vTable.getActionList();for(var idCell=0;idCell<actions.length;idCell++){var currentCell=actions[idCell];var tdAttributes=this.recoverAttributes(currentCell.baseCell);switch(currentCell.action){case TableResultAction.resultAction.AddCell:html.append('<td'+tdAttributes+'>'+dom.blank+'</td>');break;case TableResultAction.resultAction.SumSpanCount:{if(position==='top'){var baseCellTr=currentCell.baseCell.parent;var isTopFromRowSpan=(!baseCellTr?0:currentCell.baseCell.closest('tr').rowIndex)<=currentTr[0].rowIndex;if(isTopFromRowSpan){var newTd=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<div></div>').append(external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<td'+tdAttributes+'>'+dom.blank+'</td>').removeAttr('rowspan')).html();html.append(newTd);break}}
var rowspanNumber=parseInt(currentCell.baseCell.rowSpan,10);rowspanNumber++;currentCell.baseCell.setAttribute('rowSpan',rowspanNumber)}
break}}
if(position==='top'){currentTr.before(html)}else{var cellHasRowspan=cell.rowSpan>1;if(cellHasRowspan){var lastTrIndex=currentTr[0].rowIndex+(cell.rowSpan-2);external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(currentTr).parent().find('tr')[lastTrIndex]).after(external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(html));return}
currentTr.after(html)}}},{key:"addCol",value:function addCol(rng,position){var cell=dom.ancestor(rng.commonAncestor(),dom.isCell);var row=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(cell).closest('tr');var rowsGroup=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(row).siblings();rowsGroup.push(row);var vTable=new TableResultAction(cell,TableResultAction.where.Column,TableResultAction.requestAction.Add,external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(row).closest('table')[0]);var actions=vTable.getActionList();for(var actionIndex=0;actionIndex<actions.length;actionIndex++){var currentCell=actions[actionIndex];var tdAttributes=this.recoverAttributes(currentCell.baseCell);switch(currentCell.action){case TableResultAction.resultAction.AddCell:if(position==='right'){external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(currentCell.baseCell).after('<td'+tdAttributes+'>'+dom.blank+'</td>')}else{external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(currentCell.baseCell).before('<td'+tdAttributes+'>'+dom.blank+'</td>')}
break;case TableResultAction.resultAction.SumSpanCount:if(position==='right'){var colspanNumber=parseInt(currentCell.baseCell.colSpan,10);colspanNumber++;currentCell.baseCell.setAttribute('colSpan',colspanNumber)}else{external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(currentCell.baseCell).before('<td'+tdAttributes+'>'+dom.blank+'</td>')}
break}}}},{key:"recoverAttributes",value:function recoverAttributes(el){var resultStr='';if(!el){return resultStr}
var attrList=el.attributes||[];for(var i=0;i<attrList.length;i++){if(attrList[i].name.toLowerCase()==='id'){continue}
if(attrList[i].specified){resultStr+=' '+attrList[i].name+'=\''+attrList[i].value+'\''}}
return resultStr}},{key:"deleteRow",value:function deleteRow(rng){var cell=dom.ancestor(rng.commonAncestor(),dom.isCell);var row=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(cell).closest('tr');var cellPos=row.children('td, th').index(external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(cell));var rowPos=row[0].rowIndex;var vTable=new TableResultAction(cell,TableResultAction.where.Row,TableResultAction.requestAction.Delete,external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(row).closest('table')[0]);var actions=vTable.getActionList();for(var actionIndex=0;actionIndex<actions.length;actionIndex++){if(!actions[actionIndex]){continue}
var baseCell=actions[actionIndex].baseCell;var virtualPosition=actions[actionIndex].virtualTable;var hasRowspan=baseCell.rowSpan&&baseCell.rowSpan>1;var rowspanNumber=hasRowspan?parseInt(baseCell.rowSpan,10):0;switch(actions[actionIndex].action){case TableResultAction.resultAction.Ignore:continue;case TableResultAction.resultAction.AddCell:{var nextRow=row.next('tr')[0];if(!nextRow){continue}
var cloneRow=row[0].cells[cellPos];if(hasRowspan){if(rowspanNumber>2){rowspanNumber--;nextRow.insertBefore(cloneRow,nextRow.cells[cellPos]);nextRow.cells[cellPos].setAttribute('rowSpan',rowspanNumber);nextRow.cells[cellPos].innerHTML=''}else if(rowspanNumber===2){nextRow.insertBefore(cloneRow,nextRow.cells[cellPos]);nextRow.cells[cellPos].removeAttribute('rowSpan');nextRow.cells[cellPos].innerHTML=''}}}
continue;case TableResultAction.resultAction.SubtractSpanCount:if(hasRowspan){if(rowspanNumber>2){rowspanNumber--;baseCell.setAttribute('rowSpan',rowspanNumber);if(virtualPosition.rowIndex!==rowPos&&baseCell.cellIndex===cellPos){baseCell.innerHTML=''}}else if(rowspanNumber===2){baseCell.removeAttribute('rowSpan');if(virtualPosition.rowIndex!==rowPos&&baseCell.cellIndex===cellPos){baseCell.innerHTML=''}}}
continue;case TableResultAction.resultAction.RemoveCell:continue}}
row.remove()}},{key:"deleteCol",value:function deleteCol(rng){var cell=dom.ancestor(rng.commonAncestor(),dom.isCell);var row=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(cell).closest('tr');var cellPos=row.children('td, th').index(external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(cell));var vTable=new TableResultAction(cell,TableResultAction.where.Column,TableResultAction.requestAction.Delete,external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(row).closest('table')[0]);var actions=vTable.getActionList();for(var actionIndex=0;actionIndex<actions.length;actionIndex++){if(!actions[actionIndex]){continue}
switch(actions[actionIndex].action){case TableResultAction.resultAction.Ignore:continue;case TableResultAction.resultAction.SubtractSpanCount:{var baseCell=actions[actionIndex].baseCell;var hasColspan=baseCell.colSpan&&baseCell.colSpan>1;if(hasColspan){var colspanNumber=baseCell.colSpan?parseInt(baseCell.colSpan,10):0;if(colspanNumber>2){colspanNumber--;baseCell.setAttribute('colSpan',colspanNumber);if(baseCell.cellIndex===cellPos){baseCell.innerHTML=''}}else if(colspanNumber===2){baseCell.removeAttribute('colSpan');if(baseCell.cellIndex===cellPos){baseCell.innerHTML=''}}}}
continue;case TableResultAction.resultAction.RemoveCell:dom.remove(actions[actionIndex].baseCell,!0);continue}}}},{key:"createTable",value:function createTable(colCount,rowCount,options){var tds=[];var tdHTML;for(var idxCol=0;idxCol<colCount;idxCol++){tds.push('<td>'+dom.blank+'</td>')}
tdHTML=tds.join('');var trs=[];var trHTML;for(var idxRow=0;idxRow<rowCount;idxRow++){trs.push('<tr>'+tdHTML+'</tr>')}
trHTML=trs.join('');var $table=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<table>'+trHTML+'</table>');if(options&&options.tableClassName){$table.addClass(options.tableClassName)}
return $table[0]}},{key:"deleteTable",value:function deleteTable(rng){var cell=dom.ancestor(rng.commonAncestor(),dom.isCell);external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(cell).closest('table').remove()}}]);return Table}();function Editor_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}
function Editor_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value" in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}
function Editor_createClass(Constructor,protoProps,staticProps){if(protoProps)Editor_defineProperties(Constructor.prototype,protoProps);if(staticProps)Editor_defineProperties(Constructor,staticProps);return Constructor}
var KEY_BOGUS='bogus';var Editor_Editor=function(){function Editor(context){var _this=this;Editor_classCallCheck(this,Editor);this.context=context;this.$note=context.layoutInfo.note;this.$editor=context.layoutInfo.editor;this.$editable=context.layoutInfo.editable;this.options=context.options;this.lang=this.options.langInfo;this.editable=this.$editable[0];this.lastRange=null;this.snapshot=null;this.style=new Style_Style();this.table=new Table_Table();this.typing=new Typing_Typing(context);this.bullet=new Bullet_Bullet();this.history=new History_History(context);this.context.memo('help.escape',this.lang.help.escape);this.context.memo('help.undo',this.lang.help.undo);this.context.memo('help.redo',this.lang.help.redo);this.context.memo('help.tab',this.lang.help.tab);this.context.memo('help.untab',this.lang.help.untab);this.context.memo('help.insertParagraph',this.lang.help.insertParagraph);this.context.memo('help.insertOrderedList',this.lang.help.insertOrderedList);this.context.memo('help.insertUnorderedList',this.lang.help.insertUnorderedList);this.context.memo('help.indent',this.lang.help.indent);this.context.memo('help.outdent',this.lang.help.outdent);this.context.memo('help.formatPara',this.lang.help.formatPara);this.context.memo('help.insertHorizontalRule',this.lang.help.insertHorizontalRule);this.context.memo('help.fontName',this.lang.help.fontName);var commands=['bold','italic','underline','strikethrough','superscript','subscript','justifyLeft','justifyCenter','justifyRight','justifyFull','formatBlock','removeFormat','backColor'];for(var idx=0,len=commands.length;idx<len;idx++){this[commands[idx]]=function(sCmd){return function(value){_this.beforeCommand();document.execCommand(sCmd,!1,value);_this.afterCommand(!0)}}(commands[idx]);this.context.memo('help.'+commands[idx],this.lang.help[commands[idx]])}
this.fontName=this.wrapCommand(function(value){return _this.fontStyling('font-family',env.validFontName(value))});this.fontSize=this.wrapCommand(function(value){var unit=_this.currentStyle()['font-size-unit'];return _this.fontStyling('font-size',value+unit)});this.fontSizeUnit=this.wrapCommand(function(value){var size=_this.currentStyle()['font-size'];return _this.fontStyling('font-size',size+value)});for(var _idx=1;_idx<=6;_idx++){this['formatH'+_idx]=function(idx){return function(){_this.formatBlock('H'+idx)}}(_idx);this.context.memo('help.formatH'+_idx,this.lang.help['formatH'+_idx])}
this.insertParagraph=this.wrapCommand(function(){_this.typing.insertParagraph(_this.editable)});this.insertOrderedList=this.wrapCommand(function(){_this.bullet.insertOrderedList(_this.editable)});this.insertUnorderedList=this.wrapCommand(function(){_this.bullet.insertUnorderedList(_this.editable)});this.indent=this.wrapCommand(function(){_this.bullet.indent(_this.editable)});this.outdent=this.wrapCommand(function(){_this.bullet.outdent(_this.editable)});this.insertNode=this.wrapCommand(function(node){if(_this.isLimited(external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(node).text().length)){return}
var rng=_this.getLastRange();rng.insertNode(node);_this.setLastRange(range.createFromNodeAfter(node).select())});this.insertText=this.wrapCommand(function(text){if(_this.isLimited(text.length)){return}
var rng=_this.getLastRange();var textNode=rng.insertNode(dom.createText(text));_this.setLastRange(range.create(textNode,dom.nodeLength(textNode)).select())});this.pasteHTML=this.wrapCommand(function(markup){if(_this.isLimited(markup.length)){return}
markup=_this.context.invoke('codeview.purify',markup);var contents=_this.getLastRange().pasteHTML(markup);_this.setLastRange(range.createFromNodeAfter(lists.last(contents)).select())});this.formatBlock=this.wrapCommand(function(tagName,$target){var onApplyCustomStyle=_this.options.callbacks.onApplyCustomStyle;if(onApplyCustomStyle){onApplyCustomStyle.call(_this,$target,_this.context,_this.onFormatBlock)}else{_this.onFormatBlock(tagName,$target)}});this.insertHorizontalRule=this.wrapCommand(function(){var hrNode=_this.getLastRange().insertNode(dom.create('HR'));if(hrNode.nextSibling){_this.setLastRange(range.create(hrNode.nextSibling,0).normalize().select())}});this.lineHeight=this.wrapCommand(function(value){_this.style.stylePara(_this.getLastRange(),{lineHeight:value})});this.createLink=this.wrapCommand(function(linkInfo){var linkUrl=linkInfo.url;var linkText=linkInfo.text;var isNewWindow=linkInfo.isNewWindow;var checkProtocol=linkInfo.checkProtocol;var rng=linkInfo.range||_this.getLastRange();var additionalTextLength=linkText.length-rng.toString().length;if(additionalTextLength>0&&_this.isLimited(additionalTextLength)){return}
var isTextChanged=rng.toString()!==linkText;if(typeof linkUrl==='string'){linkUrl=linkUrl.trim()}
if(_this.options.onCreateLink){linkUrl=_this.options.onCreateLink(linkUrl)}else if(checkProtocol){linkUrl=/^([A-Za-z][A-Za-z0-9+-.]*\:|#|\/)/.test(linkUrl)?linkUrl:_this.options.defaultProtocol+linkUrl}
var anchors=[];if(isTextChanged){rng=rng.deleteContents();var anchor=rng.insertNode(external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<A>'+linkText+'</A>')[0]);anchors.push(anchor)}else{anchors=_this.style.styleNodes(rng,{nodeName:'A',expandClosestSibling:!0,onlyPartialContains:!0})}
external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.each(anchors,function(idx,anchor){external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(anchor).attr('href',linkUrl);if(isNewWindow){external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(anchor).attr('target','_blank')}else{external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(anchor).removeAttr('target')}});_this.setLastRange(_this.createRangeFromList(anchors).select())});this.color=this.wrapCommand(function(colorInfo){var foreColor=colorInfo.foreColor;var backColor=colorInfo.backColor;if(foreColor){document.execCommand('foreColor',!1,foreColor)}
if(backColor){document.execCommand('backColor',!1,backColor)}});this.foreColor=this.wrapCommand(function(colorInfo){document.execCommand('foreColor',!1,colorInfo)});this.insertTable=this.wrapCommand(function(dim){var dimension=dim.split('x');var rng=_this.getLastRange().deleteContents();rng.insertNode(_this.table.createTable(dimension[0],dimension[1],_this.options))});this.removeMedia=this.wrapCommand(function(){var $target=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(_this.restoreTarget()).parent();if($target.closest('figure').length){$target.closest('figure').remove()}else{$target=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(_this.restoreTarget()).detach()}
_this.context.triggerEvent('media.delete',$target,_this.$editable)});this.floatMe=this.wrapCommand(function(value){var $target=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(_this.restoreTarget());$target.toggleClass('note-float-left',value==='left');$target.toggleClass('note-float-right',value==='right');$target.css('float',value==='none'?'':value)});this.resize=this.wrapCommand(function(value){var $target=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(_this.restoreTarget());value=parseFloat(value);if(value===0){$target.css('width','')}else{$target.css({width:value*100+'%',height:''})}})}
Editor_createClass(Editor,[{key:"initialize",value:function initialize(){var _this2=this;this.$editable.on('keydown',function(event){if(event.keyCode===core_key.code.ENTER){_this2.context.triggerEvent('enter',event)}
_this2.context.triggerEvent('keydown',event);_this2.snapshot=_this2.history.makeSnapshot();_this2.hasKeyShortCut=!1;if(!event.isDefaultPrevented()){if(_this2.options.shortcuts){_this2.hasKeyShortCut=_this2.handleKeyMap(event)}else{_this2.preventDefaultEditableShortCuts(event)}}
if(_this2.isLimited(1,event)){var lastRange=_this2.getLastRange();if(lastRange.eo-lastRange.so===0){return!1}}
_this2.setLastRange();if(_this2.options.recordEveryKeystroke){if(_this2.hasKeyShortCut===!1){_this2.history.recordUndo()}}}).on('keyup',function(event){_this2.setLastRange();_this2.context.triggerEvent('keyup',event)}).on('focus',function(event){_this2.setLastRange();_this2.context.triggerEvent('focus',event)}).on('blur',function(event){_this2.context.triggerEvent('blur',event)}).on('mousedown',function(event){_this2.context.triggerEvent('mousedown',event)}).on('mouseup',function(event){_this2.setLastRange();_this2.history.recordUndo();_this2.context.triggerEvent('mouseup',event)}).on('scroll',function(event){_this2.context.triggerEvent('scroll',event)}).on('paste',function(event){_this2.setLastRange();_this2.context.triggerEvent('paste',event)}).on('input',function(){if(_this2.isLimited(0)&&_this2.snapshot){_this2.history.applySnapshot(_this2.snapshot)}});this.$editable.attr('spellcheck',this.options.spellCheck);this.$editable.attr('autocorrect',this.options.spellCheck);if(this.options.disableGrammar){this.$editable.attr('data-gramm',!1)}
this.$editable.html(dom.html(this.$note)||dom.emptyPara);this.$editable.on(env.inputEventName,func.debounce(function(){_this2.context.triggerEvent('change',_this2.$editable.html(),_this2.$editable)},10));this.$editable.on('focusin',function(event){_this2.context.triggerEvent('focusin',event)}).on('focusout',function(event){_this2.context.triggerEvent('focusout',event)});if(this.options.airMode){if(this.options.overrideContextMenu){this.$editor.on('contextmenu',function(event){_this2.context.triggerEvent('contextmenu',event);return!1})}}else{if(this.options.width){this.$editor.outerWidth(this.options.width)}
if(this.options.height){this.$editable.outerHeight(this.options.height)}
if(this.options.maxHeight){this.$editable.css('max-height',this.options.maxHeight)}
if(this.options.minHeight){this.$editable.css('min-height',this.options.minHeight)}}
this.history.recordUndo();this.setLastRange()}},{key:"destroy",value:function destroy(){this.$editable.off()}},{key:"handleKeyMap",value:function handleKeyMap(event){var keyMap=this.options.keyMap[env.isMac?'mac':'pc'];var keys=[];if(event.metaKey){keys.push('CMD')}
if(event.ctrlKey&&!event.altKey){keys.push('CTRL')}
if(event.shiftKey){keys.push('SHIFT')}
var keyName=core_key.nameFromCode[event.keyCode];if(keyName){keys.push(keyName)}
var eventName=keyMap[keys.join('+')];if(keyName==='TAB'&&!this.options.tabDisable){this.afterCommand()}else if(eventName){if(this.context.invoke(eventName)!==!1){event.preventDefault();return!0}}else if(core_key.isEdit(event.keyCode)){this.afterCommand()}
return!1}},{key:"preventDefaultEditableShortCuts",value:function preventDefaultEditableShortCuts(event){if((event.ctrlKey||event.metaKey)&&lists.contains([66,73,85],event.keyCode)){event.preventDefault()}}},{key:"isLimited",value:function isLimited(pad,event){pad=pad||0;if(typeof event!=='undefined'){if(core_key.isMove(event.keyCode)||core_key.isNavigation(event.keyCode)||event.ctrlKey||event.metaKey||lists.contains([core_key.code.BACKSPACE,core_key.code.DELETE],event.keyCode)){return!1}}
if(this.options.maxTextLength>0){if(this.$editable.text().length+pad>this.options.maxTextLength){return!0}}
return!1}},{key:"createRange",value:function createRange(){this.focus();this.setLastRange();return this.getLastRange()}},{key:"createRangeFromList",value:function createRangeFromList(lst){var startRange=range.createFromNodeBefore(lists.head(lst));var startPoint=startRange.getStartPoint();var endRange=range.createFromNodeAfter(lists.last(lst));var endPoint=endRange.getEndPoint();return range.create(startPoint.node,startPoint.offset,endPoint.node,endPoint.offset)}},{key:"setLastRange",value:function setLastRange(rng){if(rng){this.lastRange=rng}else{this.lastRange=range.create(this.editable);if(external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(this.lastRange.sc).closest('.note-editable').length===0){this.lastRange=range.createFromBodyElement(this.editable)}}}},{key:"getLastRange",value:function getLastRange(){if(!this.lastRange){this.setLastRange()}
return this.lastRange}},{key:"saveRange",value:function saveRange(thenCollapse){if(thenCollapse){this.getLastRange().collapse().select()}}},{key:"restoreRange",value:function restoreRange(){if(this.lastRange){this.lastRange.select();this.focus()}}},{key:"saveTarget",value:function saveTarget(node){this.$editable.data('target',node)}},{key:"clearTarget",value:function clearTarget(){this.$editable.removeData('target')}},{key:"restoreTarget",value:function restoreTarget(){return this.$editable.data('target')}},{key:"currentStyle",value:function currentStyle(){var rng=range.create();if(rng){rng=rng.normalize()}
return rng?this.style.current(rng):this.style.fromNode(this.$editable)}},{key:"styleFromNode",value:function styleFromNode($node){return this.style.fromNode($node)}},{key:"undo",value:function undo(){this.context.triggerEvent('before.command',this.$editable.html());this.history.undo();this.context.triggerEvent('change',this.$editable.html(),this.$editable)}},{key:"commit",value:function commit(){this.context.triggerEvent('before.command',this.$editable.html());this.history.commit();this.context.triggerEvent('change',this.$editable.html(),this.$editable)}},{key:"redo",value:function redo(){this.context.triggerEvent('before.command',this.$editable.html());this.history.redo();this.context.triggerEvent('change',this.$editable.html(),this.$editable)}},{key:"beforeCommand",value:function beforeCommand(){this.context.triggerEvent('before.command',this.$editable.html());document.execCommand('styleWithCSS',!1,this.options.styleWithCSS);this.focus()}},{key:"afterCommand",value:function afterCommand(isPreventTrigger){this.normalizeContent();this.history.recordUndo();if(!isPreventTrigger){this.context.triggerEvent('change',this.$editable.html(),this.$editable)}}},{key:"tab",value:function tab(){var rng=this.getLastRange();if(rng.isCollapsed()&&rng.isOnCell()){this.table.tab(rng)}else{if(this.options.tabSize===0){return!1}
if(!this.isLimited(this.options.tabSize)){this.beforeCommand();this.typing.insertTab(rng,this.options.tabSize);this.afterCommand()}}}},{key:"untab",value:function untab(){var rng=this.getLastRange();if(rng.isCollapsed()&&rng.isOnCell()){this.table.tab(rng,!0)}else{if(this.options.tabSize===0){return!1}}}},{key:"wrapCommand",value:function wrapCommand(fn){return function(){this.beforeCommand();fn.apply(this,arguments);this.afterCommand()}}},{key:"insertImage",value:function insertImage(src,param){var _this3=this;return createImage(src,param).then(function($image){_this3.beforeCommand();if(typeof param==='function'){param($image)}else{if(typeof param==='string'){$image.attr('data-filename',param)}
$image.css('width',Math.min(_this3.$editable.width(),$image.width()))}
$image.show();_this3.getLastRange().insertNode($image[0]);_this3.setLastRange(range.createFromNodeAfter($image[0]).select());_this3.afterCommand()}).fail(function(e){_this3.context.triggerEvent('image.upload.error',e)})}},{key:"insertImagesAsDataURL",value:function insertImagesAsDataURL(files){var _this4=this;external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.each(files,function(idx,file){var filename=file.name;if(_this4.options.maximumImageFileSize&&_this4.options.maximumImageFileSize<file.size){_this4.context.triggerEvent('image.upload.error',_this4.lang.image.maximumFileSizeError)}else{readFileAsDataURL(file).then(function(dataURL){return _this4.insertImage(dataURL,filename)}).fail(function(){_this4.context.triggerEvent('image.upload.error')})}})}},{key:"insertImagesOrCallback",value:function insertImagesOrCallback(files){var callbacks=this.options.callbacks;if(callbacks.onImageUpload){this.context.triggerEvent('image.upload',files)}else{this.insertImagesAsDataURL(files)}}},{key:"getSelectedText",value:function getSelectedText(){var rng=this.getLastRange();if(rng.isOnAnchor()){rng=range.createFromNode(dom.ancestor(rng.sc,dom.isAnchor))}
return rng.toString()}},{key:"onFormatBlock",value:function onFormatBlock(tagName,$target){document.execCommand('FormatBlock',!1,env.isMSIE?'<'+tagName+'>':tagName);if($target&&$target.length){if($target[0].tagName.toUpperCase()!==tagName.toUpperCase()){$target=$target.find(tagName)}
if($target&&$target.length){var className=$target[0].className||'';if(className){var currentRange=this.createRange();var $parent=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()([currentRange.sc,currentRange.ec]).closest(tagName);$parent.addClass(className)}}}}},{key:"formatPara",value:function formatPara(){this.formatBlock('P')}},{key:"fontStyling",value:function fontStyling(target,value){var rng=this.getLastRange();if(rng!==''){var spans=this.style.styleNodes(rng);this.$editor.find('.note-status-output').html('');external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(spans).css(target,value);if(rng.isCollapsed()){var firstSpan=lists.head(spans);if(firstSpan&&!dom.nodeLength(firstSpan)){firstSpan.innerHTML=dom.ZERO_WIDTH_NBSP_CHAR;range.createFromNode(firstSpan.firstChild).select();this.setLastRange();this.$editable.data(KEY_BOGUS,firstSpan)}}else{this.setLastRange(this.createRangeFromList(spans).select())}}else{var noteStatusOutput=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.now();this.$editor.find('.note-status-output').html('<div id="note-status-output-'+noteStatusOutput+'" class="alert alert-info">'+this.lang.output.noSelection+'</div>');setTimeout(function(){external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('#note-status-output-'+noteStatusOutput).remove()},5000)}}},{key:"unlink",value:function unlink(){var rng=this.getLastRange();if(rng.isOnAnchor()){var anchor=dom.ancestor(rng.sc,dom.isAnchor);rng=range.createFromNode(anchor);rng.select();this.setLastRange();this.beforeCommand();document.execCommand('unlink');this.afterCommand()}}},{key:"getLinkInfo",value:function getLinkInfo(){var rng=this.getLastRange().expand(dom.isAnchor);var $anchor=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(lists.head(rng.nodes(dom.isAnchor)));var linkInfo={range:rng,text:rng.toString(),url:$anchor.length?$anchor.attr('href'):''};if($anchor.length){linkInfo.isNewWindow=$anchor.attr('target')==='_blank'}
return linkInfo}},{key:"addRow",value:function addRow(position){var rng=this.getLastRange(this.$editable);if(rng.isCollapsed()&&rng.isOnCell()){this.beforeCommand();this.table.addRow(rng,position);this.afterCommand()}}},{key:"addCol",value:function addCol(position){var rng=this.getLastRange(this.$editable);if(rng.isCollapsed()&&rng.isOnCell()){this.beforeCommand();this.table.addCol(rng,position);this.afterCommand()}}},{key:"deleteRow",value:function deleteRow(){var rng=this.getLastRange(this.$editable);if(rng.isCollapsed()&&rng.isOnCell()){this.beforeCommand();this.table.deleteRow(rng);this.afterCommand()}}},{key:"deleteCol",value:function deleteCol(){var rng=this.getLastRange(this.$editable);if(rng.isCollapsed()&&rng.isOnCell()){this.beforeCommand();this.table.deleteCol(rng);this.afterCommand()}}},{key:"deleteTable",value:function deleteTable(){var rng=this.getLastRange(this.$editable);if(rng.isCollapsed()&&rng.isOnCell()){this.beforeCommand();this.table.deleteTable(rng);this.afterCommand()}}},{key:"resizeTo",value:function resizeTo(pos,$target,bKeepRatio){var imageSize;if(bKeepRatio){var newRatio=pos.y/pos.x;var ratio=$target.data('ratio');imageSize={width:ratio>newRatio?pos.x:pos.y/ratio,height:ratio>newRatio?pos.x*ratio:pos.y}}else{imageSize={width:pos.x,height:pos.y}}
$target.css(imageSize)}},{key:"hasFocus",value:function hasFocus(){return this.$editable.is(':focus')}},{key:"focus",value:function focus(){if(!this.hasFocus()){this.$editable.focus()}}},{key:"isEmpty",value:function isEmpty(){return dom.isEmpty(this.$editable[0])||dom.emptyPara===this.$editable.html()}},{key:"empty",value:function empty(){this.context.invoke('code',dom.emptyPara)}},{key:"normalizeContent",value:function normalizeContent(){this.$editable[0].normalize()}}]);return Editor}();function Clipboard_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}
function Clipboard_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value" in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}
function Clipboard_createClass(Constructor,protoProps,staticProps){if(protoProps)Clipboard_defineProperties(Constructor.prototype,protoProps);if(staticProps)Clipboard_defineProperties(Constructor,staticProps);return Constructor}
var Clipboard_Clipboard=function(){function Clipboard(context){Clipboard_classCallCheck(this,Clipboard);this.context=context;this.$editable=context.layoutInfo.editable}
Clipboard_createClass(Clipboard,[{key:"initialize",value:function initialize(){this.$editable.on('paste',this.pasteByEvent.bind(this))}},{key:"pasteByEvent",value:function pasteByEvent(event){var _this=this;var clipboardData=event.originalEvent.clipboardData;if(clipboardData&&clipboardData.items&&clipboardData.items.length){var item=clipboardData.items.length>1?clipboardData.items[1]:lists.head(clipboardData.items);if(item.kind==='file'&&item.type.indexOf('image/')!==-1){this.context.invoke('editor.insertImagesOrCallback',[item.getAsFile()]);event.preventDefault()}else if(item.kind==='string'){if(this.context.invoke('editor.isLimited',clipboardData.getData('Text').length)){event.preventDefault()}}}else if(window.clipboardData){var text=window.clipboardData.getData('text');if(this.context.invoke('editor.isLimited',text.length)){event.preventDefault()}}
setTimeout(function(){_this.context.invoke('editor.afterCommand')},10)}}]);return Clipboard}();function Dropzone_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}
function Dropzone_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value" in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}
function Dropzone_createClass(Constructor,protoProps,staticProps){if(protoProps)Dropzone_defineProperties(Constructor.prototype,protoProps);if(staticProps)Dropzone_defineProperties(Constructor,staticProps);return Constructor}
var Dropzone_Dropzone=function(){function Dropzone(context){Dropzone_classCallCheck(this,Dropzone);this.context=context;this.$eventListener=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(document);this.$editor=context.layoutInfo.editor;this.$editable=context.layoutInfo.editable;this.options=context.options;this.lang=this.options.langInfo;this.documentEventHandlers={};this.$dropzone=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(['<div class="note-dropzone">','<div class="note-dropzone-message"></div>','</div>'].join('')).prependTo(this.$editor)}
Dropzone_createClass(Dropzone,[{key:"initialize",value:function initialize(){if(this.options.disableDragAndDrop){this.documentEventHandlers.onDrop=function(e){e.preventDefault()};this.$eventListener=this.$dropzone;this.$eventListener.on('drop',this.documentEventHandlers.onDrop)}else{this.attachDragAndDropEvent()}}},{key:"attachDragAndDropEvent",value:function attachDragAndDropEvent(){var _this=this;var collection=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()();var $dropzoneMessage=this.$dropzone.find('.note-dropzone-message');this.documentEventHandlers.onDragenter=function(e){var isCodeview=_this.context.invoke('codeview.isActivated');var hasEditorSize=_this.$editor.width()>0&&_this.$editor.height()>0;if(!isCodeview&&!collection.length&&hasEditorSize){_this.$editor.addClass('dragover');_this.$dropzone.width(_this.$editor.width());_this.$dropzone.height(_this.$editor.height());$dropzoneMessage.text(_this.lang.image.dragImageHere)}
collection=collection.add(e.target)};this.documentEventHandlers.onDragleave=function(e){collection=collection.not(e.target);if(!collection.length||e.target.nodeName==='BODY'){collection=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()();_this.$editor.removeClass('dragover')}};this.documentEventHandlers.onDrop=function(){collection=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()();_this.$editor.removeClass('dragover')};this.$eventListener.on('dragenter',this.documentEventHandlers.onDragenter).on('dragleave',this.documentEventHandlers.onDragleave).on('drop',this.documentEventHandlers.onDrop);this.$dropzone.on('dragenter',function(){_this.$dropzone.addClass('hover');$dropzoneMessage.text(_this.lang.image.dropImage)}).on('dragleave',function(){_this.$dropzone.removeClass('hover');$dropzoneMessage.text(_this.lang.image.dragImageHere)});this.$dropzone.on('drop',function(event){var dataTransfer=event.originalEvent.dataTransfer;event.preventDefault();if(dataTransfer&&dataTransfer.files&&dataTransfer.files.length){_this.$editable.focus();_this.context.invoke('editor.insertImagesOrCallback',dataTransfer.files)}else{external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.each(dataTransfer.types,function(idx,type){if(type.toLowerCase().indexOf('_moz_')>-1){return}
var content=dataTransfer.getData(type);if(type.toLowerCase().indexOf('text')>-1){_this.context.invoke('editor.pasteHTML',content)}else{external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(content).each(function(idx,item){_this.context.invoke('editor.insertNode',item)})}})}}).on('dragover',!1)}},{key:"destroy",value:function destroy(){var _this2=this;Object.keys(this.documentEventHandlers).forEach(function(key){_this2.$eventListener.off(key.substr(2).toLowerCase(),_this2.documentEventHandlers[key])});this.documentEventHandlers={}}}]);return Dropzone}();function _createForOfIteratorHelper(o){if(typeof Symbol==="undefined"||o[Symbol.iterator]==null){if(Array.isArray(o)||(o=_unsupportedIterableToArray(o))){var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:!0};return{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var it,normalCompletion=!0,didErr=!1,err;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();normalCompletion=step.done;return step},e:function e(_e2){didErr=!0;err=_e2},f:function f(){try{if(!normalCompletion&&it["return"]!=null)it["return"]();}finally{if(didErr)throw err}}}}
function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(n);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}
function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i]}return arr2}
function Codeview_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}
function Codeview_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value" in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}
function Codeview_createClass(Constructor,protoProps,staticProps){if(protoProps)Codeview_defineProperties(Constructor.prototype,protoProps);if(staticProps)Codeview_defineProperties(Constructor,staticProps);return Constructor}
var Codeview_CodeView=function(){function CodeView(context){Codeview_classCallCheck(this,CodeView);this.context=context;this.$editor=context.layoutInfo.editor;this.$editable=context.layoutInfo.editable;this.$codable=context.layoutInfo.codable;this.options=context.options;this.CodeMirrorConstructor=window.CodeMirror;if(this.options.codemirror.CodeMirrorConstructor){this.CodeMirrorConstructor=this.options.codemirror.CodeMirrorConstructor}}
Codeview_createClass(CodeView,[{key:"sync",value:function sync(html){var isCodeview=this.isActivated();var CodeMirror=this.CodeMirrorConstructor;if(isCodeview){if(html){if(CodeMirror){this.$codable.data('cmEditor').getDoc().setValue(html)}else{this.$codable.val(html)}}else{if(CodeMirror){this.$codable.data('cmEditor').save()}}}}},{key:"initialize",value:function initialize(){var _this=this;this.$codable.on('keyup',function(event){if(event.keyCode===core_key.code.ESCAPE){_this.deactivate()}})}},{key:"isActivated",value:function isActivated(){return this.$editor.hasClass('codeview')}},{key:"toggle",value:function toggle(){if(this.isActivated()){this.deactivate()}else{this.activate()}
this.context.triggerEvent('codeview.toggled')}},{key:"purify",value:function purify(value){if(this.options.codeviewFilter){value=value.replace(this.options.codeviewFilterRegex,'');if(this.options.codeviewIframeFilter){var whitelist=this.options.codeviewIframeWhitelistSrc.concat(this.options.codeviewIframeWhitelistSrcBase);value=value.replace(/(<iframe.*?>.*?(?:<\/iframe>)?)/gi,function(tag){if(/<.+src(?==?('|"|\s)?)[\s\S]+src(?=('|"|\s)?)[^>]*?>/i.test(tag)){return''}
var _iterator=_createForOfIteratorHelper(whitelist),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var src=_step.value;if(new RegExp('src="(https?:)?\/\/'+src.replace(/[-\/\\^$*+?.()|[\]{}]/g,'\\$&')+'\/(.+)"').test(tag)){return tag}}}catch(err){_iterator.e(err)}finally{_iterator.f()}
return''})}}
return value}},{key:"activate",value:function activate(){var _this2=this;var CodeMirror=this.CodeMirrorConstructor;this.$codable.val(dom.html(this.$editable,this.options.prettifyHtml));this.$codable.height(this.$editable.height());this.context.invoke('toolbar.updateCodeview',!0);this.context.invoke('airPopover.updateCodeview',!0);this.$editor.addClass('codeview');this.$codable.focus();if(CodeMirror){var cmEditor=CodeMirror.fromTextArea(this.$codable[0],this.options.codemirror);if(this.options.codemirror.tern){var server=new CodeMirror.TernServer(this.options.codemirror.tern);cmEditor.ternServer=server;cmEditor.on('cursorActivity',function(cm){server.updateArgHints(cm)})}
cmEditor.on('blur',function(event){_this2.context.triggerEvent('blur.codeview',cmEditor.getValue(),event)});cmEditor.on('change',function(){_this2.context.triggerEvent('change.codeview',cmEditor.getValue(),cmEditor)});cmEditor.setSize(null,this.$editable.outerHeight());this.$codable.data('cmEditor',cmEditor)}else{this.$codable.on('blur',function(event){_this2.context.triggerEvent('blur.codeview',_this2.$codable.val(),event)});this.$codable.on('input',function(){_this2.context.triggerEvent('change.codeview',_this2.$codable.val(),_this2.$codable)})}}},{key:"deactivate",value:function deactivate(){var CodeMirror=this.CodeMirrorConstructor;if(CodeMirror){var cmEditor=this.$codable.data('cmEditor');this.$codable.val(cmEditor.getValue());cmEditor.toTextArea()}
var value=this.purify(dom.value(this.$codable,this.options.prettifyHtml)||dom.emptyPara);var isChange=this.$editable.html()!==value;this.$editable.html(value);this.$editable.height(this.options.height?this.$codable.height():'auto');this.$editor.removeClass('codeview');if(isChange){this.context.triggerEvent('change',this.$editable.html(),this.$editable)}
this.$editable.focus();this.context.invoke('toolbar.updateCodeview',!1);this.context.invoke('airPopover.updateCodeview',!1)}},{key:"destroy",value:function destroy(){if(this.isActivated()){this.deactivate()}}}]);return CodeView}();function Statusbar_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}
function Statusbar_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value" in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}
function Statusbar_createClass(Constructor,protoProps,staticProps){if(protoProps)Statusbar_defineProperties(Constructor.prototype,protoProps);if(staticProps)Statusbar_defineProperties(Constructor,staticProps);return Constructor}
var EDITABLE_PADDING=24;var Statusbar_Statusbar=function(){function Statusbar(context){Statusbar_classCallCheck(this,Statusbar);this.$document=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(document);this.$statusbar=context.layoutInfo.statusbar;this.$editable=context.layoutInfo.editable;this.options=context.options}
Statusbar_createClass(Statusbar,[{key:"initialize",value:function initialize(){var _this=this;if(this.options.airMode||this.options.disableResizeEditor){this.destroy();return}
this.$statusbar.on('mousedown',function(event){event.preventDefault();event.stopPropagation();var editableTop=_this.$editable.offset().top-_this.$document.scrollTop();var onMouseMove=function onMouseMove(event){var height=event.clientY-(editableTop+EDITABLE_PADDING);height=_this.options.minheight>0?Math.max(height,_this.options.minheight):height;height=_this.options.maxHeight>0?Math.min(height,_this.options.maxHeight):height;_this.$editable.height(height)};_this.$document.on('mousemove',onMouseMove).one('mouseup',function(){_this.$document.off('mousemove',onMouseMove)})})}},{key:"destroy",value:function destroy(){this.$statusbar.off();this.$statusbar.addClass('locked')}}]);return Statusbar}();function Fullscreen_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}
function Fullscreen_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value" in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}
function Fullscreen_createClass(Constructor,protoProps,staticProps){if(protoProps)Fullscreen_defineProperties(Constructor.prototype,protoProps);if(staticProps)Fullscreen_defineProperties(Constructor,staticProps);return Constructor}
var Fullscreen_Fullscreen=function(){function Fullscreen(context){var _this=this;Fullscreen_classCallCheck(this,Fullscreen);this.context=context;this.$editor=context.layoutInfo.editor;this.$toolbar=context.layoutInfo.toolbar;this.$editable=context.layoutInfo.editable;this.$codable=context.layoutInfo.codable;this.$window=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(window);this.$scrollbar=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('html, body');this.onResize=function(){_this.resizeTo({h:_this.$window.height()-_this.$toolbar.outerHeight()})}}
Fullscreen_createClass(Fullscreen,[{key:"resizeTo",value:function resizeTo(size){this.$editable.css('height',size.h);this.$codable.css('height',size.h);if(this.$codable.data('cmeditor')){this.$codable.data('cmeditor').setsize(null,size.h)}}},{key:"toggle",value:function toggle(){this.$editor.toggleClass('fullscreen');if(this.isFullscreen()){this.$editable.data('orgHeight',this.$editable.css('height'));this.$editable.data('orgMaxHeight',this.$editable.css('maxHeight'));this.$editable.css('maxHeight','');this.$window.on('resize',this.onResize).trigger('resize');this.$scrollbar.css('overflow','hidden')}else{this.$window.off('resize',this.onResize);this.resizeTo({h:this.$editable.data('orgHeight')});this.$editable.css('maxHeight',this.$editable.css('orgMaxHeight'));this.$scrollbar.css('overflow','visible')}
this.context.invoke('toolbar.updateFullscreen',this.isFullscreen())}},{key:"isFullscreen",value:function isFullscreen(){return this.$editor.hasClass('fullscreen')}}]);return Fullscreen}();function Handle_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}
function Handle_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value" in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}
function Handle_createClass(Constructor,protoProps,staticProps){if(protoProps)Handle_defineProperties(Constructor.prototype,protoProps);if(staticProps)Handle_defineProperties(Constructor,staticProps);return Constructor}
var Handle_Handle=function(){function Handle(context){var _this=this;Handle_classCallCheck(this,Handle);this.context=context;this.$document=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(document);this.$editingArea=context.layoutInfo.editingArea;this.options=context.options;this.lang=this.options.langInfo;this.events={'summernote.mousedown':function summernoteMousedown(we,e){if(_this.update(e.target,e)){e.preventDefault()}},'summernote.keyup summernote.scroll summernote.change summernote.dialog.shown':function summernoteKeyupSummernoteScrollSummernoteChangeSummernoteDialogShown(){_this.update()},'summernote.disable summernote.blur':function summernoteDisableSummernoteBlur(){_this.hide()},'summernote.codeview.toggled':function summernoteCodeviewToggled(){_this.update()}}}
Handle_createClass(Handle,[{key:"initialize",value:function initialize(){var _this2=this;this.$handle=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(['<div class="note-handle">','<div class="note-control-selection">','<div class="note-control-selection-bg"></div>','<div class="note-control-holder note-control-nw"></div>','<div class="note-control-holder note-control-ne"></div>','<div class="note-control-holder note-control-sw"></div>','<div class="',this.options.disableResizeImage?'note-control-holder':'note-control-sizing',' note-control-se"></div>',this.options.disableResizeImage?'':'<div class="note-control-selection-info"></div>','</div>','</div>'].join('')).prependTo(this.$editingArea);this.$handle.on('mousedown',function(event){if(dom.isControlSizing(event.target)){event.preventDefault();event.stopPropagation();var $target=_this2.$handle.find('.note-control-selection').data('target');var posStart=$target.offset();var scrollTop=_this2.$document.scrollTop();var onMouseMove=function onMouseMove(event){_this2.context.invoke('editor.resizeTo',{x:event.clientX-posStart.left,y:event.clientY-(posStart.top-scrollTop)},$target,!event.shiftKey);_this2.update($target[0],event)};_this2.$document.on('mousemove',onMouseMove).one('mouseup',function(e){e.preventDefault();_this2.$document.off('mousemove',onMouseMove);_this2.context.invoke('editor.afterCommand')});if(!$target.data('ratio')){$target.data('ratio',$target.height()/$target.width())}}});this.$handle.on('wheel',function(e){e.preventDefault();_this2.update()})}},{key:"destroy",value:function destroy(){this.$handle.remove()}},{key:"update",value:function update(target,event){if(this.context.isDisabled()){return!1}
var isImage=dom.isImg(target);var $selection=this.$handle.find('.note-control-selection');this.context.invoke('imagePopover.update',target,event);if(isImage){var $image=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(target);var position=$image.position();var pos={left:position.left+parseInt($image.css('marginLeft'),10),top:position.top+parseInt($image.css('marginTop'),10)};var imageSize={w:$image.outerWidth(!1),h:$image.outerHeight(!1)};$selection.css({display:'block',left:pos.left,top:pos.top,width:imageSize.w,height:imageSize.h}).data('target',$image);var origImageObj=new Image();origImageObj.src=$image.attr('src');var sizingText=imageSize.w+'x'+imageSize.h+' ('+this.lang.image.original+': '+origImageObj.width+'x'+origImageObj.height+')';$selection.find('.note-control-selection-info').text(sizingText);this.context.invoke('editor.saveTarget',target)}else{this.hide()}
return isImage}},{key:"hide",value:function hide(){this.context.invoke('editor.clearTarget');this.$handle.children().hide()}}]);return Handle}();function AutoLink_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}
function AutoLink_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value" in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}
function AutoLink_createClass(Constructor,protoProps,staticProps){if(protoProps)AutoLink_defineProperties(Constructor.prototype,protoProps);if(staticProps)AutoLink_defineProperties(Constructor,staticProps);return Constructor}
var defaultScheme='http://';var linkPattern=/^([A-Za-z][A-Za-z0-9+-.]*\:[\/]{2}|tel:|mailto:[A-Z0-9._%+-]+@)?(www\.)?(.+)$/i;var AutoLink_AutoLink=function(){function AutoLink(context){var _this=this;AutoLink_classCallCheck(this,AutoLink);this.context=context;this.options=context.options;this.events={'summernote.keyup':function summernoteKeyup(we,e){if(!e.isDefaultPrevented()){_this.handleKeyup(e)}},'summernote.keydown':function summernoteKeydown(we,e){_this.handleKeydown(e)}}}
AutoLink_createClass(AutoLink,[{key:"initialize",value:function initialize(){this.lastWordRange=null}},{key:"destroy",value:function destroy(){this.lastWordRange=null}},{key:"replace",value:function replace(){if(!this.lastWordRange){return}
var keyword=this.lastWordRange.toString();var match=keyword.match(linkPattern);if(match&&(match[1]||match[2])){var link=match[1]?keyword:defaultScheme+keyword;var urlText=this.options.showDomainOnlyForAutolink?keyword.replace(/^(?:https?:\/\/)?(?:tel?:?)?(?:mailto?:?)?(?:www\.)?/i,'').split('/')[0]:keyword;var node=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<a />').html(urlText).attr('href',link)[0];if(this.context.options.linkTargetBlank){external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(node).attr('target','_blank')}
this.lastWordRange.insertNode(node);this.lastWordRange=null;this.context.invoke('editor.focus')}}},{key:"handleKeydown",value:function handleKeydown(e){if(lists.contains([core_key.code.ENTER,core_key.code.SPACE],e.keyCode)){var wordRange=this.context.invoke('editor.createRange').getWordRange();this.lastWordRange=wordRange}}},{key:"handleKeyup",value:function handleKeyup(e){if(lists.contains([core_key.code.ENTER,core_key.code.SPACE],e.keyCode)){this.replace()}}}]);return AutoLink}();function AutoSync_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}
function AutoSync_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value" in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}
function AutoSync_createClass(Constructor,protoProps,staticProps){if(protoProps)AutoSync_defineProperties(Constructor.prototype,protoProps);if(staticProps)AutoSync_defineProperties(Constructor,staticProps);return Constructor}
var AutoSync_AutoSync=function(){function AutoSync(context){var _this=this;AutoSync_classCallCheck(this,AutoSync);this.$note=context.layoutInfo.note;this.events={'summernote.change':function summernoteChange(){_this.$note.val(context.invoke('code'))}}}
AutoSync_createClass(AutoSync,[{key:"shouldInitialize",value:function shouldInitialize(){return dom.isTextarea(this.$note[0])}}]);return AutoSync}();function AutoReplace_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}
function AutoReplace_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value" in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}
function AutoReplace_createClass(Constructor,protoProps,staticProps){if(protoProps)AutoReplace_defineProperties(Constructor.prototype,protoProps);if(staticProps)AutoReplace_defineProperties(Constructor,staticProps);return Constructor}
var AutoReplace_AutoReplace=function(){function AutoReplace(context){var _this=this;AutoReplace_classCallCheck(this,AutoReplace);this.context=context;this.options=context.options.replace||{};this.keys=[core_key.code.ENTER,core_key.code.SPACE,core_key.code.PERIOD,core_key.code.COMMA,core_key.code.SEMICOLON,core_key.code.SLASH];this.previousKeydownCode=null;this.events={'summernote.keyup':function summernoteKeyup(we,e){if(!e.isDefaultPrevented()){_this.handleKeyup(e)}},'summernote.keydown':function summernoteKeydown(we,e){_this.handleKeydown(e)}}}
AutoReplace_createClass(AutoReplace,[{key:"shouldInitialize",value:function shouldInitialize(){return!!this.options.match}},{key:"initialize",value:function initialize(){this.lastWord=null}},{key:"destroy",value:function destroy(){this.lastWord=null}},{key:"replace",value:function replace(){if(!this.lastWord){return}
var self=this;var keyword=this.lastWord.toString();this.options.match(keyword,function(match){if(match){var node='';if(typeof match==='string'){node=dom.createText(match)}else if(match instanceof jQuery){node=match[0]}else if(match instanceof Node){node=match}
if(!node)return;self.lastWord.insertNode(node);self.lastWord=null;self.context.invoke('editor.focus')}})}},{key:"handleKeydown",value:function handleKeydown(e){if(this.previousKeydownCode&&lists.contains(this.keys,this.previousKeydownCode)){this.previousKeydownCode=e.keyCode;return}
if(lists.contains(this.keys,e.keyCode)){var wordRange=this.context.invoke('editor.createRange').getWordRange();this.lastWord=wordRange}
this.previousKeydownCode=e.keyCode}},{key:"handleKeyup",value:function handleKeyup(e){if(lists.contains(this.keys,e.keyCode)){this.replace()}}}]);return AutoReplace}();function Placeholder_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}
function Placeholder_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value" in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}
function Placeholder_createClass(Constructor,protoProps,staticProps){if(protoProps)Placeholder_defineProperties(Constructor.prototype,protoProps);if(staticProps)Placeholder_defineProperties(Constructor,staticProps);return Constructor}
var Placeholder_Placeholder=function(){function Placeholder(context){var _this=this;Placeholder_classCallCheck(this,Placeholder);this.context=context;this.$editingArea=context.layoutInfo.editingArea;this.options=context.options;if(this.options.inheritPlaceholder===!0){this.options.placeholder=this.context.$note.attr('placeholder')||this.options.placeholder}
this.events={'summernote.init summernote.change':function summernoteInitSummernoteChange(){_this.update()},'summernote.codeview.toggled':function summernoteCodeviewToggled(){_this.update()}}}
Placeholder_createClass(Placeholder,[{key:"shouldInitialize",value:function shouldInitialize(){return!!this.options.placeholder}},{key:"initialize",value:function initialize(){var _this2=this;this.$placeholder=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<div class="note-placeholder">');this.$placeholder.on('click',function(){_this2.context.invoke('focus')}).html(this.options.placeholder).prependTo(this.$editingArea);this.update()}},{key:"destroy",value:function destroy(){this.$placeholder.remove()}},{key:"update",value:function update(){var isShow=!this.context.invoke('codeview.isActivated')&&this.context.invoke('editor.isEmpty');this.$placeholder.toggle(isShow)}}]);return Placeholder}();function Buttons_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}
function Buttons_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value" in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}
function Buttons_createClass(Constructor,protoProps,staticProps){if(protoProps)Buttons_defineProperties(Constructor.prototype,protoProps);if(staticProps)Buttons_defineProperties(Constructor,staticProps);return Constructor}
var Buttons_Buttons=function(){function Buttons(context){Buttons_classCallCheck(this,Buttons);this.ui=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote.ui;this.context=context;this.$toolbar=context.layoutInfo.toolbar;this.options=context.options;this.lang=this.options.langInfo;this.invertedKeyMap=func.invertObject(this.options.keyMap[env.isMac?'mac':'pc'])}
Buttons_createClass(Buttons,[{key:"representShortcut",value:function representShortcut(editorMethod){var shortcut=this.invertedKeyMap[editorMethod];if(!this.options.shortcuts||!shortcut){return''}
if(env.isMac){shortcut=shortcut.replace('CMD','⌘').replace('SHIFT','⇧')}
shortcut=shortcut.replace('BACKSLASH','\\').replace('SLASH','/').replace('LEFTBRACKET','[').replace('RIGHTBRACKET',']');return' ('+shortcut+')'}},{key:"button",value:function button(o){if(!this.options.tooltip&&o.tooltip){delete o.tooltip}
o.container=this.options.container;return this.ui.button(o)}},{key:"initialize",value:function initialize(){this.addToolbarButtons();this.addImagePopoverButtons();this.addLinkPopoverButtons();this.addTablePopoverButtons();this.fontInstalledMap={}}},{key:"destroy",value:function destroy(){delete this.fontInstalledMap}},{key:"isFontInstalled",value:function isFontInstalled(name){if(!Object.prototype.hasOwnProperty.call(this.fontInstalledMap,name)){this.fontInstalledMap[name]=env.isFontInstalled(name)||lists.contains(this.options.fontNamesIgnoreCheck,name)}
return this.fontInstalledMap[name]}},{key:"isFontDeservedToAdd",value:function isFontDeservedToAdd(name){name=name.toLowerCase();return name!==''&&this.isFontInstalled(name)&&env.genericFontFamilies.indexOf(name)===-1}},{key:"colorPalette",value:function colorPalette(className,tooltip,backColor,foreColor){var _this=this;return this.ui.buttonGroup({className:'note-color '+className,children:[this.button({className:'note-current-color-button',contents:this.ui.icon(this.options.icons.font+' note-recent-color'),tooltip:tooltip,click:function click(e){var $button=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(e.currentTarget);if(backColor&&foreColor){_this.context.invoke('editor.color',{backColor:$button.attr('data-backColor'),foreColor:$button.attr('data-foreColor')})}else if(backColor){_this.context.invoke('editor.color',{backColor:$button.attr('data-backColor')})}else if(foreColor){_this.context.invoke('editor.color',{foreColor:$button.attr('data-foreColor')})}},callback:function callback($button){var $recentColor=$button.find('.note-recent-color');if(backColor){$recentColor.css('background-color',_this.options.colorButton.backColor);$button.attr('data-backColor',_this.options.colorButton.backColor)}
if(foreColor){$recentColor.css('color',_this.options.colorButton.foreColor);$button.attr('data-foreColor',_this.options.colorButton.foreColor)}else{$recentColor.css('color','transparent')}}}),this.button({className:'dropdown-toggle',contents:this.ui.dropdownButtonContents('',this.options),tooltip:this.lang.color.more,data:{toggle:'dropdown'}}),this.ui.dropdown({items:(backColor?['<div class="note-palette">','<div class="note-palette-title">'+this.lang.color.background+'</div>','<div>','<button type="button" class="note-color-reset btn btn-light btn-default" data-event="backColor" data-value="transparent">',this.lang.color.transparent,'</button>','</div>','<div class="note-holder" data-event="backColor"><!-- back colors --></div>','<div>','<button type="button" class="note-color-select btn btn-light btn-default" data-event="openPalette" data-value="backColorPicker">',this.lang.color.cpSelect,'</button>','<input type="color" id="backColorPicker" class="note-btn note-color-select-btn" value="'+this.options.colorButton.backColor+'" data-event="backColorPalette">','</div>','<div class="note-holder-custom" id="backColorPalette" data-event="backColor"></div>','</div>'].join(''):'')+(foreColor?['<div class="note-palette">','<div class="note-palette-title">'+this.lang.color.foreground+'</div>','<div>','<button type="button" class="note-color-reset btn btn-light btn-default" data-event="removeFormat" data-value="foreColor">',this.lang.color.resetToDefault,'</button>','</div>','<div class="note-holder" data-event="foreColor"><!-- fore colors --></div>','<div>','<button type="button" class="note-color-select btn btn-light btn-default" data-event="openPalette" data-value="foreColorPicker">',this.lang.color.cpSelect,'</button>','<input type="color" id="foreColorPicker" class="note-btn note-color-select-btn" value="'+this.options.colorButton.foreColor+'" data-event="foreColorPalette">','</div>','<div class="note-holder-custom" id="foreColorPalette" data-event="foreColor"></div>','</div>'].join(''):''),callback:function callback($dropdown){standardError('dop load');$dropdown.find('.note-holder').each(function(idx,item){var $holder=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(item);$holder.append(_this.ui.palette({colors:_this.options.colors,colorsName:_this.options.colorsName,eventName:$holder.data('event'),container:_this.options.container,tooltip:_this.options.tooltip}).render())});var customColors=[['#FFFFFF','#FFFFFF','#FFFFFF','#FFFFFF','#FFFFFF','#FFFFFF','#FFFFFF','#FFFFFF']];$dropdown.find('.note-holder-custom').each(function(idx,item){var $holder=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(item);$holder.append(_this.ui.palette({colors:customColors,colorsName:customColors,eventName:$holder.data('event'),container:_this.options.container,tooltip:_this.options.tooltip}).render())});$dropdown.find('input[type=color]').each(function(idx,item){external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(item).change(function(){var $chip=$dropdown.find('#'+external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(this).data('event')).find('.note-color-btn').first();var color=this.value.toUpperCase();$chip.css('background-color',color).attr('aria-label',color).attr('data-value',color).attr('data-original-title',color);$chip.click()})})},click:function click(event){event.stopPropagation();var $parent=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('.'+className).find('.note-dropdown-menu');var $button=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(event.target);var eventName=$button.data('event');var value=$button.attr('data-value');if(eventName==='openPalette'){var $picker=$parent.find('#'+value);var $palette=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()($parent.find('#'+$picker.data('event')).find('.note-color-row')[0]);var $chip=$palette.find('.note-color-btn').last().detach();var color=$picker.val();$chip.css('background-color',color).attr('aria-label',color).attr('data-value',color).attr('data-original-title',color);$palette.prepend($chip);$picker.click()}else{if(lists.contains(['backColor','foreColor'],eventName)){var key=eventName==='backColor'?'background-color':'color';var $color=$button.closest('.note-color').find('.note-recent-color');var $currentButton=$button.closest('.note-color').find('.note-current-color-button');$color.css(key,value);$currentButton.attr('data-'+eventName,value)}
_this.context.invoke('editor.'+eventName,value)}}})]}).render()}},{key:"addToolbarButtons",value:function addToolbarButtons(){var _this2=this;this.context.memo('button.style',function(){return _this2.ui.buttonGroup([_this2.button({className:'dropdown-toggle',contents:_this2.ui.dropdownButtonContents(_this2.ui.icon(_this2.options.icons.magic),_this2.options),tooltip:_this2.lang.style.style,data:{toggle:'dropdown'}}),_this2.ui.dropdown({className:'dropdown-style',items:_this2.options.styleTags,title:_this2.lang.style.style,template:function template(item){if(typeof item==='string'){item={tag:item,title:Object.prototype.hasOwnProperty.call(_this2.lang.style,item)?_this2.lang.style[item]:item}}
var tag=item.tag;var title=item.title;var style=item.style?' style="'+item.style+'" ':'';var className=item.className?' class="'+item.className+'"':'';return'<'+tag+style+className+'>'+title+'</'+tag+'>'},click:_this2.context.createInvokeHandler('editor.formatBlock')})]).render()});var _loop=function _loop(styleIdx,styleLen){var item=_this2.options.styleTags[styleIdx];_this2.context.memo('button.style.'+item,function(){return _this2.button({className:'note-btn-style-'+item,contents:'<div data-value="'+item+'">'+item.toUpperCase()+'</div>',tooltip:_this2.lang.style[item],click:_this2.context.createInvokeHandler('editor.formatBlock')}).render()})};for(var styleIdx=0,styleLen=this.options.styleTags.length;styleIdx<styleLen;styleIdx++){_loop(styleIdx,styleLen)}
this.context.memo('button.bold',function(){return _this2.button({className:'note-btn-bold',contents:_this2.ui.icon(_this2.options.icons.bold),tooltip:_this2.lang.font.bold+_this2.representShortcut('bold'),click:_this2.context.createInvokeHandlerAndUpdateState('editor.bold')}).render()});this.context.memo('button.italic',function(){return _this2.button({className:'note-btn-italic',contents:_this2.ui.icon(_this2.options.icons.italic),tooltip:_this2.lang.font.italic+_this2.representShortcut('italic'),click:_this2.context.createInvokeHandlerAndUpdateState('editor.italic')}).render()});this.context.memo('button.underline',function(){return _this2.button({className:'note-btn-underline',contents:_this2.ui.icon(_this2.options.icons.underline),tooltip:_this2.lang.font.underline+_this2.representShortcut('underline'),click:_this2.context.createInvokeHandlerAndUpdateState('editor.underline')}).render()});this.context.memo('button.clear',function(){return _this2.button({contents:_this2.ui.icon(_this2.options.icons.eraser),tooltip:_this2.lang.font.clear+_this2.representShortcut('removeFormat'),click:_this2.context.createInvokeHandler('editor.removeFormat')}).render()});this.context.memo('button.strikethrough',function(){return _this2.button({className:'note-btn-strikethrough',contents:_this2.ui.icon(_this2.options.icons.strikethrough),tooltip:_this2.lang.font.strikethrough+_this2.representShortcut('strikethrough'),click:_this2.context.createInvokeHandlerAndUpdateState('editor.strikethrough')}).render()});this.context.memo('button.superscript',function(){return _this2.button({className:'note-btn-superscript',contents:_this2.ui.icon(_this2.options.icons.superscript),tooltip:_this2.lang.font.superscript,click:_this2.context.createInvokeHandlerAndUpdateState('editor.superscript')}).render()});this.context.memo('button.subscript',function(){return _this2.button({className:'note-btn-subscript',contents:_this2.ui.icon(_this2.options.icons.subscript),tooltip:_this2.lang.font.subscript,click:_this2.context.createInvokeHandlerAndUpdateState('editor.subscript')}).render()});this.context.memo('button.fontname',function(){var styleInfo=_this2.context.invoke('editor.currentStyle');if(_this2.options.addDefaultFonts){external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.each(styleInfo['font-family'].split(','),function(idx,fontname){fontname=fontname.trim().replace(/['"]+/g,'');if(_this2.isFontDeservedToAdd(fontname)){if(_this2.options.fontNames.indexOf(fontname)===-1){_this2.options.fontNames.push(fontname)}}})}
return _this2.ui.buttonGroup([_this2.button({className:'dropdown-toggle',contents:_this2.ui.dropdownButtonContents('<span class="note-current-fontname"></span>',_this2.options),tooltip:_this2.lang.font.name,data:{toggle:'dropdown'}}),_this2.ui.dropdownCheck({className:'dropdown-fontname',checkClassName:_this2.options.icons.menuCheck,items:_this2.options.fontNames.filter(_this2.isFontInstalled.bind(_this2)),title:_this2.lang.font.name,template:function template(item){return'<span style="font-family: '+env.validFontName(item)+'">'+item+'</span>'},click:_this2.context.createInvokeHandlerAndUpdateState('editor.fontName')})]).render()});this.context.memo('button.fontsize',function(){return _this2.ui.buttonGroup([_this2.button({className:'dropdown-toggle',contents:_this2.ui.dropdownButtonContents('<span class="note-current-fontsize"></span>',_this2.options),tooltip:_this2.lang.font.size,data:{toggle:'dropdown'}}),_this2.ui.dropdownCheck({className:'dropdown-fontsize',checkClassName:_this2.options.icons.menuCheck,items:_this2.options.fontSizes,title:_this2.lang.font.size,click:_this2.context.createInvokeHandlerAndUpdateState('editor.fontSize')})]).render()});this.context.memo('button.fontsizeunit',function(){return _this2.ui.buttonGroup([_this2.button({className:'dropdown-toggle',contents:_this2.ui.dropdownButtonContents('<span class="note-current-fontsizeunit"></span>',_this2.options),tooltip:_this2.lang.font.sizeunit,data:{toggle:'dropdown'}}),_this2.ui.dropdownCheck({className:'dropdown-fontsizeunit',checkClassName:_this2.options.icons.menuCheck,items:_this2.options.fontSizeUnits,title:_this2.lang.font.sizeunit,click:_this2.context.createInvokeHandlerAndUpdateState('editor.fontSizeUnit')})]).render()});this.context.memo('button.color',function(){return _this2.colorPalette('note-color-all',_this2.lang.color.recent,!0,!0)});this.context.memo('button.forecolor',function(){return _this2.colorPalette('note-color-fore',_this2.lang.color.foreground,!1,!0)});this.context.memo('button.backcolor',function(){return _this2.colorPalette('note-color-back',_this2.lang.color.background,!0,!1)});this.context.memo('button.ul',function(){return _this2.button({contents:_this2.ui.icon(_this2.options.icons.unorderedlist),tooltip:_this2.lang.lists.unordered+_this2.representShortcut('insertUnorderedList'),click:_this2.context.createInvokeHandler('editor.insertUnorderedList')}).render()});this.context.memo('button.ol',function(){return _this2.button({contents:_this2.ui.icon(_this2.options.icons.orderedlist),tooltip:_this2.lang.lists.ordered+_this2.representShortcut('insertOrderedList'),click:_this2.context.createInvokeHandler('editor.insertOrderedList')}).render()});var justifyLeft=this.button({contents:this.ui.icon(this.options.icons.alignLeft),tooltip:this.lang.paragraph.left+this.representShortcut('justifyLeft'),click:this.context.createInvokeHandler('editor.justifyLeft')});var justifyCenter=this.button({contents:this.ui.icon(this.options.icons.alignCenter),tooltip:this.lang.paragraph.center+this.representShortcut('justifyCenter'),click:this.context.createInvokeHandler('editor.justifyCenter')});var justifyRight=this.button({contents:this.ui.icon(this.options.icons.alignRight),tooltip:this.lang.paragraph.right+this.representShortcut('justifyRight'),click:this.context.createInvokeHandler('editor.justifyRight')});var justifyFull=this.button({contents:this.ui.icon(this.options.icons.alignJustify),tooltip:this.lang.paragraph.justify+this.representShortcut('justifyFull'),click:this.context.createInvokeHandler('editor.justifyFull')});var outdent=this.button({contents:this.ui.icon(this.options.icons.outdent),tooltip:this.lang.paragraph.outdent+this.representShortcut('outdent'),click:this.context.createInvokeHandler('editor.outdent')});var indent=this.button({contents:this.ui.icon(this.options.icons.indent),tooltip:this.lang.paragraph.indent+this.representShortcut('indent'),click:this.context.createInvokeHandler('editor.indent')});this.context.memo('button.justifyLeft',func.invoke(justifyLeft,'render'));this.context.memo('button.justifyCenter',func.invoke(justifyCenter,'render'));this.context.memo('button.justifyRight',func.invoke(justifyRight,'render'));this.context.memo('button.justifyFull',func.invoke(justifyFull,'render'));this.context.memo('button.outdent',func.invoke(outdent,'render'));this.context.memo('button.indent',func.invoke(indent,'render'));this.context.memo('button.paragraph',function(){return _this2.ui.buttonGroup([_this2.button({className:'dropdown-toggle',contents:_this2.ui.dropdownButtonContents(_this2.ui.icon(_this2.options.icons.alignLeft),_this2.options),tooltip:_this2.lang.paragraph.paragraph,data:{toggle:'dropdown'}}),_this2.ui.dropdown([_this2.ui.buttonGroup({className:'note-align',children:[justifyLeft,justifyCenter,justifyRight,justifyFull]}),_this2.ui.buttonGroup({className:'note-list',children:[outdent,indent]})])]).render()});this.context.memo('button.height',function(){return _this2.ui.buttonGroup([_this2.button({className:'dropdown-toggle',contents:_this2.ui.dropdownButtonContents(_this2.ui.icon(_this2.options.icons.textHeight),_this2.options),tooltip:_this2.lang.font.height,data:{toggle:'dropdown'}}),_this2.ui.dropdownCheck({items:_this2.options.lineHeights,checkClassName:_this2.options.icons.menuCheck,className:'dropdown-line-height',title:_this2.lang.font.height,click:_this2.context.createInvokeHandler('editor.lineHeight')})]).render()});this.context.memo('button.table',function(){return _this2.ui.buttonGroup([_this2.button({className:'dropdown-toggle',contents:_this2.ui.dropdownButtonContents(_this2.ui.icon(_this2.options.icons.table),_this2.options),tooltip:_this2.lang.table.table,data:{toggle:'dropdown'}}),_this2.ui.dropdown({title:_this2.lang.table.table,className:'note-table',items:['<div class="note-dimension-picker">','<div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"></div>','<div class="note-dimension-picker-highlighted"></div>','<div class="note-dimension-picker-unhighlighted"></div>','</div>','<div class="note-dimension-display">1 x 1</div>'].join('')})],{callback:function callback($node){var $catcher=$node.find('.note-dimension-picker-mousecatcher');$catcher.css({width:_this2.options.insertTableMaxSize.col+'em',height:_this2.options.insertTableMaxSize.row+'em'}).mousedown(_this2.context.createInvokeHandler('editor.insertTable')).on('mousemove',_this2.tableMoveHandler.bind(_this2))}}).render()});this.context.memo('button.link',function(){return _this2.button({contents:_this2.ui.icon(_this2.options.icons.link),tooltip:_this2.lang.link.link+_this2.representShortcut('linkDialog.show'),className:"link-dialog",click:_this2.context.createInvokeHandler('linkDialog.show')}).render()});this.context.memo('button.picture',function(){return _this2.button({contents:_this2.ui.icon(_this2.options.icons.picture),tooltip:_this2.lang.image.image,className:"image-dialog",click:_this2.context.createInvokeHandler('imageDialog.show')}).render()});this.context.memo('button.video',function(){return _this2.button({contents:_this2.ui.icon(_this2.options.icons.video),tooltip:_this2.lang.video.video,click:_this2.context.createInvokeHandler('videoDialog.show')}).render()});this.context.memo('button.hr',function(){return _this2.button({contents:_this2.ui.icon(_this2.options.icons.minus),tooltip:_this2.lang.hr.insert+_this2.representShortcut('insertHorizontalRule'),className:"tool-video-button",click:_this2.context.createInvokeHandler('editor.insertHorizontalRule')}).render()});this.context.memo('button.fullscreen',function(){return _this2.button({className:'btn-fullscreen note-codeview-keep',contents:_this2.ui.icon(_this2.options.icons.arrowsAlt),tooltip:_this2.lang.options.fullscreen,click:_this2.context.createInvokeHandler('fullscreen.toggle')}).render()});this.context.memo('button.codeview',function(){return _this2.button({className:'btn-codeview note-codeview-keep',contents:_this2.ui.icon(_this2.options.icons.code),tooltip:_this2.lang.options.codeview,click:_this2.context.createInvokeHandler('codeview.toggle')}).render()});this.context.memo('button.redo',function(){return _this2.button({contents:_this2.ui.icon(_this2.options.icons.redo),tooltip:_this2.lang.history.redo+_this2.representShortcut('redo'),click:_this2.context.createInvokeHandler('editor.redo')}).render()});this.context.memo('button.undo',function(){return _this2.button({contents:_this2.ui.icon(_this2.options.icons.undo),tooltip:_this2.lang.history.undo+_this2.representShortcut('undo'),click:_this2.context.createInvokeHandler('editor.undo')}).render()});this.context.memo('button.help',function(){return _this2.button({contents:_this2.ui.icon(_this2.options.icons.question),tooltip:_this2.lang.options.help,click:_this2.context.createInvokeHandler('helpDialog.show')}).render()})}},{key:"addImagePopoverButtons",value:function addImagePopoverButtons(){var _this3=this;this.context.memo('button.resizeFull',function(){return _this3.button({contents:'<span class="note-fontsize-10">100%</span>',tooltip:_this3.lang.image.resizeFull,click:_this3.context.createInvokeHandler('editor.resize','1')}).render()});this.context.memo('button.resizeHalf',function(){return _this3.button({contents:'<span class="note-fontsize-10">50%</span>',tooltip:_this3.lang.image.resizeHalf,click:_this3.context.createInvokeHandler('editor.resize','0.5')}).render()});this.context.memo('button.resizeQuarter',function(){return _this3.button({contents:'<span class="note-fontsize-10">25%</span>',tooltip:_this3.lang.image.resizeQuarter,click:_this3.context.createInvokeHandler('editor.resize','0.25')}).render()});this.context.memo('button.resizeNone',function(){return _this3.button({contents:_this3.ui.icon(_this3.options.icons.rollback),tooltip:_this3.lang.image.resizeNone,click:_this3.context.createInvokeHandler('editor.resize','0')}).render()});this.context.memo('button.floatLeft',function(){return _this3.button({contents:_this3.ui.icon(_this3.options.icons.floatLeft),tooltip:_this3.lang.image.floatLeft,click:_this3.context.createInvokeHandler('editor.floatMe','left')}).render()});this.context.memo('button.floatRight',function(){return _this3.button({contents:_this3.ui.icon(_this3.options.icons.floatRight),tooltip:_this3.lang.image.floatRight,click:_this3.context.createInvokeHandler('editor.floatMe','right')}).render()});this.context.memo('button.floatNone',function(){return _this3.button({contents:_this3.ui.icon(_this3.options.icons.rollback),tooltip:_this3.lang.image.floatNone,click:_this3.context.createInvokeHandler('editor.floatMe','none')}).render()});this.context.memo('button.removeMedia',function(){return _this3.button({contents:_this3.ui.icon(_this3.options.icons.trash),tooltip:_this3.lang.image.remove,click:_this3.context.createInvokeHandler('editor.removeMedia')}).render()})}},{key:"addLinkPopoverButtons",value:function addLinkPopoverButtons(){var _this4=this;this.context.memo('button.linkDialogShow',function(){return _this4.button({contents:_this4.ui.icon(_this4.options.icons.link),tooltip:_this4.lang.link.edit,click:_this4.context.createInvokeHandler('linkDialog.show')}).render()});this.context.memo('button.unlink',function(){return _this4.button({contents:_this4.ui.icon(_this4.options.icons.unlink),tooltip:_this4.lang.link.unlink,click:_this4.context.createInvokeHandler('editor.unlink')}).render()})}},{key:"addTablePopoverButtons",value:function addTablePopoverButtons(){var _this5=this;this.context.memo('button.addRowUp',function(){return _this5.button({className:'btn-md',contents:_this5.ui.icon(_this5.options.icons.rowAbove),tooltip:_this5.lang.table.addRowAbove,click:_this5.context.createInvokeHandler('editor.addRow','top')}).render()});this.context.memo('button.addRowDown',function(){return _this5.button({className:'btn-md',contents:_this5.ui.icon(_this5.options.icons.rowBelow),tooltip:_this5.lang.table.addRowBelow,click:_this5.context.createInvokeHandler('editor.addRow','bottom')}).render()});this.context.memo('button.addColLeft',function(){return _this5.button({className:'btn-md',contents:_this5.ui.icon(_this5.options.icons.colBefore),tooltip:_this5.lang.table.addColLeft,click:_this5.context.createInvokeHandler('editor.addCol','left')}).render()});this.context.memo('button.addColRight',function(){return _this5.button({className:'btn-md',contents:_this5.ui.icon(_this5.options.icons.colAfter),tooltip:_this5.lang.table.addColRight,click:_this5.context.createInvokeHandler('editor.addCol','right')}).render()});this.context.memo('button.deleteRow',function(){return _this5.button({className:'btn-md',contents:_this5.ui.icon(_this5.options.icons.rowRemove),tooltip:_this5.lang.table.delRow,click:_this5.context.createInvokeHandler('editor.deleteRow')}).render()});this.context.memo('button.deleteCol',function(){return _this5.button({className:'btn-md',contents:_this5.ui.icon(_this5.options.icons.colRemove),tooltip:_this5.lang.table.delCol,click:_this5.context.createInvokeHandler('editor.deleteCol')}).render()});this.context.memo('button.deleteTable',function(){return _this5.button({className:'btn-md',contents:_this5.ui.icon(_this5.options.icons.trash),tooltip:_this5.lang.table.delTable,click:_this5.context.createInvokeHandler('editor.deleteTable')}).render()})}},{key:"build",value:function build($container,groups){for(var groupIdx=0,groupLen=groups.length;groupIdx<groupLen;groupIdx++){var group=groups[groupIdx];var groupName=Array.isArray(group)?group[0]:group;var buttons=Array.isArray(group)?group.length===1?[group[0]]:group[1]:[group];var $group=this.ui.buttonGroup({className:'note-'+groupName}).render();for(var idx=0,len=buttons.length;idx<len;idx++){var btn=this.context.memo('button.'+buttons[idx]);if(btn){$group.append(typeof btn==='function'?btn(this.context):btn)}}
$group.appendTo($container)}}},{key:"updateCurrentStyle",value:function updateCurrentStyle($container){var _this6=this;var $cont=$container||this.$toolbar;var styleInfo=this.context.invoke('editor.currentStyle');this.updateBtnStates($cont,{'.note-btn-bold':function noteBtnBold(){return styleInfo['font-bold']==='bold'},'.note-btn-italic':function noteBtnItalic(){return styleInfo['font-italic']==='italic'},'.note-btn-underline':function noteBtnUnderline(){return styleInfo['font-underline']==='underline'},'.note-btn-subscript':function noteBtnSubscript(){return styleInfo['font-subscript']==='subscript'},'.note-btn-superscript':function noteBtnSuperscript(){return styleInfo['font-superscript']==='superscript'},'.note-btn-strikethrough':function noteBtnStrikethrough(){return styleInfo['font-strikethrough']==='strikethrough'}});if(styleInfo['font-family']){var fontNames=styleInfo['font-family'].split(',').map(function(name){return name.replace(/[\'\"]/g,'').replace(/\s+$/,'').replace(/^\s+/,'')});var fontName=lists.find(fontNames,this.isFontInstalled.bind(this));$cont.find('.dropdown-fontname a').each(function(idx,item){var $item=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(item);var isChecked=$item.data('value')+''===fontName+'';$item.toggleClass('checked',isChecked)});$cont.find('.note-current-fontname').text(fontName).css('font-family',fontName)}
if(styleInfo['font-size']){var fontSize=styleInfo['font-size'];$cont.find('.dropdown-fontsize a').each(function(idx,item){var $item=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(item);var isChecked=$item.data('value')+''===fontSize+'';$item.toggleClass('checked',isChecked)});$cont.find('.note-current-fontsize').text(fontSize);var fontSizeUnit=styleInfo['font-size-unit'];$cont.find('.dropdown-fontsizeunit a').each(function(idx,item){var $item=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(item);var isChecked=$item.data('value')+''===fontSizeUnit+'';$item.toggleClass('checked',isChecked)});$cont.find('.note-current-fontsizeunit').text(fontSizeUnit)}
if(styleInfo['line-height']){var lineHeight=styleInfo['line-height'];$cont.find('.dropdown-line-height li a').each(function(idx,item){var isChecked=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(item).data('value')+''===lineHeight+'';_this6.className=isChecked?'checked':''})}}},{key:"updateBtnStates",value:function updateBtnStates($container,infos){var _this7=this;external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.each(infos,function(selector,pred){_this7.ui.toggleBtnActive($container.find(selector),pred())})}},{key:"tableMoveHandler",value:function tableMoveHandler(event){var PX_PER_EM=18;var $picker=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(event.target.parentNode);var $dimensionDisplay=$picker.next();var $catcher=$picker.find('.note-dimension-picker-mousecatcher');var $highlighted=$picker.find('.note-dimension-picker-highlighted');var $unhighlighted=$picker.find('.note-dimension-picker-unhighlighted');var posOffset;if(event.offsetX===undefined){var posCatcher=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(event.target).offset();posOffset={x:event.pageX-posCatcher.left,y:event.pageY-posCatcher.top}}else{posOffset={x:event.offsetX,y:event.offsetY}}
var dim={c:Math.ceil(posOffset.x/PX_PER_EM)||1,r:Math.ceil(posOffset.y/PX_PER_EM)||1};$highlighted.css({width:dim.c+'em',height:dim.r+'em'});$catcher.data('value',dim.c+'x'+dim.r);if(dim.c>3&&dim.c<this.options.insertTableMaxSize.col){$unhighlighted.css({width:dim.c+1+'em'})}
if(dim.r>3&&dim.r<this.options.insertTableMaxSize.row){$unhighlighted.css({height:dim.r+1+'em'})}
$dimensionDisplay.html(dim.c+' x '+dim.r)}}]);return Buttons}();function Toolbar_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}
function Toolbar_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value" in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}
function Toolbar_createClass(Constructor,protoProps,staticProps){if(protoProps)Toolbar_defineProperties(Constructor.prototype,protoProps);if(staticProps)Toolbar_defineProperties(Constructor,staticProps);return Constructor}
var Toolbar_Toolbar=function(){function Toolbar(context){Toolbar_classCallCheck(this,Toolbar);this.context=context;this.$window=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(window);this.$document=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(document);this.ui=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote.ui;this.$note=context.layoutInfo.note;this.$editor=context.layoutInfo.editor;this.$toolbar=context.layoutInfo.toolbar;this.$editable=context.layoutInfo.editable;this.$statusbar=context.layoutInfo.statusbar;this.options=context.options;this.isFollowing=!1;this.followScroll=this.followScroll.bind(this)}
Toolbar_createClass(Toolbar,[{key:"shouldInitialize",value:function shouldInitialize(){return!this.options.airMode}},{key:"initialize",value:function initialize(){var _this=this;this.options.toolbar=this.options.toolbar||[];if(!this.options.toolbar.length){this.$toolbar.hide()}else{this.context.invoke('buttons.build',this.$toolbar,this.options.toolbar)}
if(this.options.toolbarContainer){this.$toolbar.appendTo(this.options.toolbarContainer)}
this.changeContainer(!1);this.$note.on('summernote.keyup summernote.mouseup summernote.change',function(){_this.context.invoke('buttons.updateCurrentStyle')});this.context.invoke('buttons.updateCurrentStyle');if(this.options.followingToolbar){this.$window.on('scroll resize',this.followScroll)}}},{key:"destroy",value:function destroy(){this.$toolbar.children().remove();if(this.options.followingToolbar){this.$window.off('scroll resize',this.followScroll)}}},{key:"followScroll",value:function followScroll(){if(this.$editor.hasClass('fullscreen')){return!1}
var editorHeight=this.$editor.outerHeight();var editorWidth=this.$editor.width();var toolbarHeight=this.$toolbar.height();var statusbarHeight=this.$statusbar.height();var otherBarHeight=0;if(this.options.otherStaticBar){otherBarHeight=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(this.options.otherStaticBar).outerHeight()}
var currentOffset=this.$document.scrollTop();var editorOffsetTop=this.$editor.offset().top;var editorOffsetBottom=editorOffsetTop+editorHeight;var activateOffset=editorOffsetTop-otherBarHeight;var deactivateOffsetBottom=editorOffsetBottom-otherBarHeight-toolbarHeight-statusbarHeight;if(!this.isFollowing&&currentOffset>activateOffset&&currentOffset<deactivateOffsetBottom-toolbarHeight){this.isFollowing=!0;this.$editable.css({marginTop:this.$toolbar.outerHeight()});this.$toolbar.css({position:'fixed',top:otherBarHeight,width:editorWidth,zIndex:1000})}else if(this.isFollowing&&(currentOffset<activateOffset||currentOffset>deactivateOffsetBottom)){this.isFollowing=!1;this.$toolbar.css({position:'relative',top:0,width:'100%',zIndex:'auto'});this.$editable.css({marginTop:''})}}},{key:"changeContainer",value:function changeContainer(isFullscreen){if(isFullscreen){this.$toolbar.prependTo(this.$editor)}else{if(this.options.toolbarContainer){this.$toolbar.appendTo(this.options.toolbarContainer)}}
if(this.options.followingToolbar){this.followScroll()}}},{key:"updateFullscreen",value:function updateFullscreen(isFullscreen){this.ui.toggleBtnActive(this.$toolbar.find('.btn-fullscreen'),isFullscreen);this.changeContainer(isFullscreen)}},{key:"updateCodeview",value:function updateCodeview(isCodeview){this.ui.toggleBtnActive(this.$toolbar.find('.btn-codeview'),isCodeview);if(isCodeview){this.deactivate()}else{this.activate()}}},{key:"activate",value:function activate(isIncludeCodeview){var $btn=this.$toolbar.find('button');if(!isIncludeCodeview){$btn=$btn.not('.note-codeview-keep')}
this.ui.toggleBtn($btn,!0)}},{key:"deactivate",value:function deactivate(isIncludeCodeview){var $btn=this.$toolbar.find('button');if(!isIncludeCodeview){$btn=$btn.not('.note-codeview-keep')}
this.ui.toggleBtn($btn,!1)}}]);return Toolbar}();function LinkDialog_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}
function LinkDialog_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value" in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}
function LinkDialog_createClass(Constructor,protoProps,staticProps){if(protoProps)LinkDialog_defineProperties(Constructor.prototype,protoProps);if(staticProps)LinkDialog_defineProperties(Constructor,staticProps);return Constructor}
var LinkDialog_LinkDialog=function(){function LinkDialog(context){LinkDialog_classCallCheck(this,LinkDialog);this.context=context;this.ui=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote.ui;this.$body=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(document.body);this.$editor=context.layoutInfo.editor;this.options=context.options;this.lang=this.options.langInfo;context.memo('help.linkDialog.show',this.options.langInfo.help['linkDialog.show'])}
LinkDialog_createClass(LinkDialog,[{key:"initialize",value:function initialize(){var $container=this.options.dialogsInBody?this.$body:this.options.container;var body=['<fieldset data-control="text">','<div class="control">',"<input id=\"note-dialog-link-txt-".concat(this.options.id,"\" class=\"note-link-text form-control note-form-control note-input\" type=\"text\"/>"),"<label for=\"note-dialog-link-txt-".concat(this.options.id,"\" class=\"note-form-label\">").concat(this.lang.link.textToDisplay,"</label>"),'</div>','</fieldset><fieldset data-control="text">','<div class="control">',"<input id=\"note-dialog-link-url-".concat(this.options.id,"\" class=\"note-link-url form-control note-form-control note-input\" type=\"text\" value=\"http://\"/>"),"<label for=\"note-dialog-link-url-".concat(this.options.id,"\" class=\"note-form-label\">").concat(this.lang.link.url,"</label>"),'</div></fieldset>',!this.options.disableLinkTarget?external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<div/>').append(this.ui.checkbox({className:'sn-checkbox-open-in-new-window',text:this.lang.link.openInNewWindow,checked:!0}).render()).html():'',external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<div/>').append(this.ui.checkbox({className:'sn-checkbox-use-protocol',text:this.lang.link.useProtocol,checked:!0}).render()).html()].join('');var buttonClass='btn btn-sm btn-primary note-btn note-btn-primary note-link-btn';var footer="<input type=\"button\" href=\"#\" class=\"".concat(buttonClass,"\" value=\"").concat(this.lang.link.insert,"\" disabled>");this.$dialog=this.ui.dialog({className:'link-dialog',title:this.lang.link.insert,fade:this.options.dialogsFade,body:body,footer:footer}).render().appendTo($container)}},{key:"destroy",value:function destroy(){this.ui.hideDialog(this.$dialog);this.$dialog.remove()}},{key:"bindEnterKey",value:function bindEnterKey($input,$btn){$input.on('keypress',function(event){if(event.keyCode===core_key.code.ENTER){event.preventDefault();$btn.trigger('click')}})}},{key:"toggleLinkBtn",value:function toggleLinkBtn($linkBtn,$linkText,$linkUrl){this.ui.toggleBtn($linkBtn,$linkText.val()&&$linkUrl.val())}},{key:"showLinkDialog",value:function showLinkDialog(linkInfo){var _this=this;return external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.Deferred(function(deferred){var $linkText=_this.$dialog.find('.note-link-text');var $linkUrl=_this.$dialog.find('.note-link-url');var $linkBtn=_this.$dialog.find('.note-link-btn');var $openInNewWindow=_this.$dialog.find('.sn-checkbox-open-in-new-window input[type=checkbox]');var $useProtocol=_this.$dialog.find('.sn-checkbox-use-protocol input[type=checkbox]');_this.ui.onDialogShown(_this.$dialog,function(){_this.context.triggerEvent('dialog.shown');if(!linkInfo.url&&func.isValidUrl(linkInfo.text)){linkInfo.url=linkInfo.text}
$linkText.on('input paste propertychange',function(){linkInfo.text=$linkText.val();_this.toggleLinkBtn($linkBtn,$linkText,$linkUrl)}).val(linkInfo.text);$linkUrl.on('input paste propertychange',function(){if(!linkInfo.text){$linkText.val($linkUrl.val())}
_this.toggleLinkBtn($linkBtn,$linkText,$linkUrl)}).val(linkInfo.url);if(!env.isSupportTouch){$linkUrl.trigger('focus')}
_this.toggleLinkBtn($linkBtn,$linkText,$linkUrl);_this.bindEnterKey($linkUrl,$linkBtn);_this.bindEnterKey($linkText,$linkBtn);var isNewWindowChecked=linkInfo.isNewWindow!==undefined?linkInfo.isNewWindow:_this.context.options.linkTargetBlank;$openInNewWindow.prop('checked',isNewWindowChecked);var useProtocolChecked=linkInfo.url?!1:_this.context.options.useProtocol;$useProtocol.prop('checked',useProtocolChecked);$linkBtn.one('click',function(event){event.preventDefault();deferred.resolve({range:linkInfo.range,url:$linkUrl.val(),text:$linkText.val(),isNewWindow:$openInNewWindow.is(':checked'),checkProtocol:$useProtocol.is(':checked')});_this.ui.hideDialog(_this.$dialog)})});_this.ui.onDialogHidden(_this.$dialog,function(){$linkText.off();$linkUrl.off();$linkBtn.off();if(deferred.state()==='pending'){deferred.reject()}});_this.ui.showDialog(_this.$dialog)}).promise()}},{key:"show",value:function show(){var _this2=this;var linkInfo=this.context.invoke('editor.getLinkInfo');this.context.invoke('editor.saveRange');this.showLinkDialog(linkInfo).then(function(linkInfo){_this2.context.invoke('editor.restoreRange');_this2.context.invoke('editor.createLink',linkInfo)}).fail(function(){_this2.context.invoke('editor.restoreRange')})}}]);return LinkDialog}();function LinkPopover_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}
function LinkPopover_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value" in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}
function LinkPopover_createClass(Constructor,protoProps,staticProps){if(protoProps)LinkPopover_defineProperties(Constructor.prototype,protoProps);if(staticProps)LinkPopover_defineProperties(Constructor,staticProps);return Constructor}
var LinkPopover_LinkPopover=function(){function LinkPopover(context){var _this=this;LinkPopover_classCallCheck(this,LinkPopover);this.context=context;this.ui=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote.ui;this.options=context.options;this.events={'summernote.keyup summernote.mouseup summernote.change summernote.scroll':function summernoteKeyupSummernoteMouseupSummernoteChangeSummernoteScroll(){_this.update()},'summernote.disable summernote.dialog.shown summernote.blur':function summernoteDisableSummernoteDialogShownSummernoteBlur(){_this.hide()}}}
LinkPopover_createClass(LinkPopover,[{key:"shouldInitialize",value:function shouldInitialize(){return!lists.isEmpty(this.options.popover.link)}},{key:"initialize",value:function initialize(){this.$popover=this.ui.popover({className:'note-link-popover',callback:function callback($node){var $content=$node.find('.popover-content,.note-popover-content');$content.prepend('<span><a target="_blank"></a>&nbsp;</span>')}}).render().appendTo(this.options.container);var $content=this.$popover.find('.popover-content,.note-popover-content');this.context.invoke('buttons.build',$content,this.options.popover.link);this.$popover.on('mousedown',function(e){e.preventDefault()})}},{key:"destroy",value:function destroy(){this.$popover.remove()}},{key:"update",value:function update(){if(!this.context.invoke('editor.hasFocus')){this.hide();return}
var rng=this.context.invoke('editor.getLastRange');if(rng.isCollapsed()&&rng.isOnAnchor()){var anchor=dom.ancestor(rng.sc,dom.isAnchor);var href=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(anchor).attr('href');this.$popover.find('a').attr('href',href).text(href);var pos=dom.posFromPlaceholder(anchor);var containerOffset=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(this.options.container).offset();pos.top-=containerOffset.top;pos.left-=containerOffset.left;this.$popover.css({display:'block',left:pos.left,top:pos.top})}else{this.hide()}}},{key:"hide",value:function hide(){this.$popover.hide()}}]);return LinkPopover}();function ImageDialog_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}
function ImageDialog_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value" in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}
function ImageDialog_createClass(Constructor,protoProps,staticProps){if(protoProps)ImageDialog_defineProperties(Constructor.prototype,protoProps);if(staticProps)ImageDialog_defineProperties(Constructor,staticProps);return Constructor}
var ImageDialog_ImageDialog=function(){function ImageDialog(context){ImageDialog_classCallCheck(this,ImageDialog);this.context=context;this.ui=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote.ui;this.$body=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(document.body);this.$editor=context.layoutInfo.editor;this.options=context.options;this.lang=this.options.langInfo}
ImageDialog_createClass(ImageDialog,[{key:"initialize",value:function initialize(){var imageLimitation='';if(this.options.maximumImageFileSize){var unit=Math.floor(Math.log(this.options.maximumImageFileSize)/Math.log(1024));var readableSize=(this.options.maximumImageFileSize/Math.pow(1024,unit)).toFixed(2)*1+' '+' KMGTP'[unit]+'B';imageLimitation="<small>".concat(this.lang.image.maximumFileSize+' : '+readableSize,"</small>")}
var $container=this.options.dialogsInBody?this.$body:this.options.container;var body=['<div class="form-group note-form-group note-group-select-from-files">','<label for="note-dialog-image-file-'+this.options.id+'" class="mb-3 note-form-label">'+this.lang.image.selectFromFiles+'</label>','<input id="note-dialog-image-file-'+this.options.id+'" class="note-image-input form-control-file note-form-control note-input" ',' type="file" name="files" accept="image/*" multiple="multiple"/>',imageLimitation,'</div>','<div class="form-group note-group-image-url mb-3">','<label for="note-dialog-image-url-'+this.options.id+'" class="note-form-label">'+this.lang.image.url+'</label>','<input id="note-dialog-image-url-'+this.options.id+'" class="note-image-url form-control note-form-control note-input" type="text"/>','</div>'].join('');var buttonClass='btn btn-primary note-image-btn';var footer="<input type=\"button\" href=\"#\" class=\"".concat(buttonClass,"\" value=\"").concat(this.lang.image.insert,"\" disabled>");this.$dialog=this.ui.dialog({title:this.lang.image.insert,className:'image-dialog',fade:this.options.dialogsFade,body:body,footer:footer}).render().appendTo($container)}},{key:"destroy",value:function destroy(){this.ui.hideDialog(this.$dialog);this.$dialog.remove()}},{key:"bindEnterKey",value:function bindEnterKey($input,$btn){$input.on('keypress',function(event){if(event.keyCode===core_key.code.ENTER){event.preventDefault();$btn.trigger('click')}})}},{key:"show",value:function show(e){var _this=this;this.context.invoke('editor.saveRange');this.showImageDialog().then(function(data){_this.ui.hideDialog(_this.$dialog);_this.context.invoke('editor.restoreRange');if(typeof data==='string'){if(_this.options.callbacks.onImageLinkInsert){_this.context.triggerEvent('image.link.insert',data)}else{_this.context.invoke('editor.insertImage',data)}}else{_this.context.invoke('editor.insertImagesOrCallback',data)}}).fail(function(){_this.context.invoke('editor.restoreRange')})}},{key:"showImageDialog",value:function showImageDialog(){var _this2=this;return external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.Deferred(function(deferred){var $imageInput=_this2.$dialog.find('.note-image-input');var $imageUrl=_this2.$dialog.find('.note-image-url');var $imageBtn=_this2.$dialog.find('.note-image-btn');_this2.ui.onDialogShown(_this2.$dialog,function(){_this2.context.triggerEvent('dialog.shown');$imageInput.replaceWith($imageInput.clone().on('change',function(event){deferred.resolve(event.target.files||event.target.value)}).val(''));$imageUrl.on('input paste propertychange',function(){_this2.ui.toggleBtn($imageBtn,$imageUrl.val())}).val('');if(!env.isSupportTouch){$imageUrl.trigger('focus')}
$imageBtn.click(function(event){event.preventDefault();deferred.resolve($imageUrl.val())});_this2.bindEnterKey($imageUrl,$imageBtn)});_this2.ui.onDialogHidden(_this2.$dialog,function(){$imageInput.off();$imageUrl.off();$imageBtn.off();if(deferred.state()==='pending'){deferred.reject()}});_this2.ui.showDialog(_this2.$dialog)})}}]);return ImageDialog}();function ImagePopover_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}
function ImagePopover_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value" in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}
function ImagePopover_createClass(Constructor,protoProps,staticProps){if(protoProps)ImagePopover_defineProperties(Constructor.prototype,protoProps);if(staticProps)ImagePopover_defineProperties(Constructor,staticProps);return Constructor}
var ImagePopover_ImagePopover=function(){function ImagePopover(context){var _this=this;ImagePopover_classCallCheck(this,ImagePopover);this.context=context;this.ui=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote.ui;this.editable=context.layoutInfo.editable[0];this.options=context.options;this.events={'summernote.disable summernote.blur':function summernoteDisableSummernoteBlur(){_this.hide()}}}
ImagePopover_createClass(ImagePopover,[{key:"shouldInitialize",value:function shouldInitialize(){return!lists.isEmpty(this.options.popover.image)}},{key:"initialize",value:function initialize(){this.$popover=this.ui.popover({className:'note-image-popover'}).render().appendTo(this.options.container);var $content=this.$popover.find('.popover-content,.note-popover-content');this.context.invoke('buttons.build',$content,this.options.popover.image);this.$popover.on('mousedown',function(e){e.preventDefault()})}},{key:"destroy",value:function destroy(){this.$popover.remove()}},{key:"update",value:function update(target,event){if(dom.isImg(target)){var position=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(target).offset();var containerOffset=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(this.options.container).offset();var pos={};if(this.options.popatmouse){pos.left=event.pageX-20;pos.top=event.pageY}else{pos=position}
pos.top-=containerOffset.top;pos.left-=containerOffset.left;this.$popover.css({display:'block',left:pos.left,top:pos.top})}else{this.hide()}}},{key:"hide",value:function hide(){this.$popover.hide()}}]);return ImagePopover}();function TablePopover_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}
function TablePopover_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value" in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}
function TablePopover_createClass(Constructor,protoProps,staticProps){if(protoProps)TablePopover_defineProperties(Constructor.prototype,protoProps);if(staticProps)TablePopover_defineProperties(Constructor,staticProps);return Constructor}
var TablePopover_TablePopover=function(){function TablePopover(context){var _this=this;TablePopover_classCallCheck(this,TablePopover);this.context=context;this.ui=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote.ui;this.options=context.options;this.events={'summernote.mousedown':function summernoteMousedown(we,e){_this.update(e.target)},'summernote.keyup summernote.scroll summernote.change':function summernoteKeyupSummernoteScrollSummernoteChange(){_this.update()},'summernote.disable summernote.blur':function summernoteDisableSummernoteBlur(){_this.hide()}}}
TablePopover_createClass(TablePopover,[{key:"shouldInitialize",value:function shouldInitialize(){return!lists.isEmpty(this.options.popover.table)}},{key:"initialize",value:function initialize(){this.$popover=this.ui.popover({className:'note-table-popover'}).render().appendTo(this.options.container);var $content=this.$popover.find('.popover-content,.note-popover-content');this.context.invoke('buttons.build',$content,this.options.popover.table);if(env.isFF){document.execCommand('enableInlineTableEditing',!1,!1)}
this.$popover.on('mousedown',function(e){e.preventDefault()})}},{key:"destroy",value:function destroy(){this.$popover.remove()}},{key:"update",value:function update(target){if(this.context.isDisabled()){return!1}
var isCell=dom.isCell(target);if(isCell){var pos=dom.posFromPlaceholder(target);var containerOffset=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(this.options.container).offset();pos.top-=containerOffset.top;pos.left-=containerOffset.left;this.$popover.css({display:'block',left:pos.left,top:pos.top})}else{this.hide()}
return isCell}},{key:"hide",value:function hide(){this.$popover.hide()}}]);return TablePopover}();function VideoDialog_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}
function VideoDialog_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value" in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}
function VideoDialog_createClass(Constructor,protoProps,staticProps){if(protoProps)VideoDialog_defineProperties(Constructor.prototype,protoProps);if(staticProps)VideoDialog_defineProperties(Constructor,staticProps);return Constructor}
var VideoDialog_VideoDialog=function(){function VideoDialog(context){VideoDialog_classCallCheck(this,VideoDialog);this.context=context;this.ui=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote.ui;this.$body=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(document.body);this.$editor=context.layoutInfo.editor;this.options=context.options;this.lang=this.options.langInfo}
VideoDialog_createClass(VideoDialog,[{key:"initialize",value:function initialize(){var $container=this.options.dialogsInBody?this.$body:this.options.container;var body=['<div class="form-group note-form-group row-fluid">',"<label for=\"note-dialog-video-url-".concat(this.options.id,"\" class=\"note-form-label\">").concat(this.lang.video.url," <small class=\"text-muted\">").concat(this.lang.video.providers,"</small></label>"),"<input id=\"note-dialog-video-url-".concat(this.options.id,"\" class=\"note-video-url form-control note-form-control note-input\" type=\"text\"/>"),'</div>'].join('');var buttonClass='btn btn-primary note-btn note-btn-primary note-video-btn';var footer="<input type=\"button\" href=\"#\" class=\"".concat(buttonClass,"\" value=\"").concat(this.lang.video.insert,"\" disabled>");this.$dialog=this.ui.dialog({title:this.lang.video.insert,fade:this.options.dialogsFade,body:body,footer:footer}).render().appendTo($container)}},{key:"destroy",value:function destroy(){this.ui.hideDialog(this.$dialog);this.$dialog.remove()}},{key:"bindEnterKey",value:function bindEnterKey($input,$btn){$input.on('keypress',function(event){if(event.keyCode===core_key.code.ENTER){event.preventDefault();$btn.trigger('click')}})}},{key:"createVideoNode",value:function createVideoNode(url){var ytRegExp=/\/\/(?:(?:www|m)\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))([\w|-]{11})(?:(?:[\?&]t=)(\S+))?$/;var ytRegExpForStart=/^(?:(\d+)h)?(?:(\d+)m)?(?:(\d+)s)?$/;var ytMatch=url.match(ytRegExp);var igRegExp=/(?:www\.|\/\/)instagram\.com\/p\/(.[a-zA-Z0-9_-]*)/;var igMatch=url.match(igRegExp);var vRegExp=/\/\/vine\.co\/v\/([a-zA-Z0-9]+)/;var vMatch=url.match(vRegExp);var vimRegExp=/\/\/(player\.)?vimeo\.com\/([a-z]*\/)*(\d+)[?]?.*/;var vimMatch=url.match(vimRegExp);var dmRegExp=/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/;var dmMatch=url.match(dmRegExp);var youkuRegExp=/\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/;var youkuMatch=url.match(youkuRegExp);var qqRegExp=/\/\/v\.qq\.com.*?vid=(.+)/;var qqMatch=url.match(qqRegExp);var qqRegExp2=/\/\/v\.qq\.com\/x?\/?(page|cover).*?\/([^\/]+)\.html\??.*/;var qqMatch2=url.match(qqRegExp2);var mp4RegExp=/^.+.(mp4|m4v)$/;var mp4Match=url.match(mp4RegExp);var oggRegExp=/^.+.(ogg|ogv)$/;var oggMatch=url.match(oggRegExp);var webmRegExp=/^.+.(webm)$/;var webmMatch=url.match(webmRegExp);var fbRegExp=/(?:www\.|\/\/)facebook\.com\/([^\/]+)\/videos\/([0-9]+)/;var fbMatch=url.match(fbRegExp);var $video;if(ytMatch&&ytMatch[1].length===11){var youtubeId=ytMatch[1];var start=0;if(typeof ytMatch[2]!=='undefined'){var ytMatchForStart=ytMatch[2].match(ytRegExpForStart);if(ytMatchForStart){for(var n=[3600,60,1],i=0,r=n.length;i<r;i++){start+=typeof ytMatchForStart[i+1]!=='undefined'?n[i]*parseInt(ytMatchForStart[i+1],10):0}}}
$video=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<iframe>').attr('frameborder',0).attr('src','//www.youtube.com/embed/'+youtubeId+(start>0?'?start='+start:'')).attr('width','640').attr('height','360')}else if(igMatch&&igMatch[0].length){$video=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<iframe>').attr('frameborder',0).attr('src','https://instagram.com/p/'+igMatch[1]+'/embed/').attr('width','612').attr('height','710').attr('scrolling','no').attr('allowtransparency','true')}else if(vMatch&&vMatch[0].length){$video=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<iframe>').attr('frameborder',0).attr('src',vMatch[0]+'/embed/simple').attr('width','600').attr('height','600').attr('class','vine-embed')}else if(vimMatch&&vimMatch[3].length){$video=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>').attr('frameborder',0).attr('src','//player.vimeo.com/video/'+vimMatch[3]).attr('width','640').attr('height','360')}else if(dmMatch&&dmMatch[2].length){$video=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<iframe>').attr('frameborder',0).attr('src','//www.dailymotion.com/embed/video/'+dmMatch[2]).attr('width','640').attr('height','360')}else if(youkuMatch&&youkuMatch[1].length){$video=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>').attr('frameborder',0).attr('height','498').attr('width','510').attr('src','//player.youku.com/embed/'+youkuMatch[1])}else if(qqMatch&&qqMatch[1].length||qqMatch2&&qqMatch2[2].length){var vid=qqMatch&&qqMatch[1].length?qqMatch[1]:qqMatch2[2];$video=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>').attr('frameborder',0).attr('height','310').attr('width','500').attr('src','https://v.qq.com/txp/iframe/player.html?vid='+vid+'&amp;auto=0')}else if(mp4Match||oggMatch||webmMatch){$video=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<video controls>').attr('src',url).attr('width','640').attr('height','360')}else if(fbMatch&&fbMatch[0].length){$video=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<iframe>').attr('frameborder',0).attr('src','https://www.facebook.com/plugins/video.php?href='+encodeURIComponent(fbMatch[0])+'&show_text=0&width=560').attr('width','560').attr('height','301').attr('scrolling','no').attr('allowtransparency','true')}else{return!1}
$video.addClass('note-video-clip');return $video[0]}},{key:"show",value:function show(){var _this=this;var text=this.context.invoke('editor.getSelectedText');this.context.invoke('editor.saveRange');this.showVideoDialog(text).then(function(url){_this.ui.hideDialog(_this.$dialog);_this.context.invoke('editor.restoreRange');var $node=_this.createVideoNode(url);if($node){_this.context.invoke('editor.insertNode',$node)}}).fail(function(){_this.context.invoke('editor.restoreRange')})}},{key:"showVideoDialog",value:function showVideoDialog(){var _this2=this;return external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.Deferred(function(deferred){var $videoUrl=_this2.$dialog.find('.note-video-url');var $videoBtn=_this2.$dialog.find('.note-video-btn');_this2.ui.onDialogShown(_this2.$dialog,function(){_this2.context.triggerEvent('dialog.shown');$videoUrl.on('input paste propertychange',function(){_this2.ui.toggleBtn($videoBtn,$videoUrl.val())});if(!env.isSupportTouch){$videoUrl.trigger('focus')}
$videoBtn.click(function(event){event.preventDefault();deferred.resolve($videoUrl.val())});_this2.bindEnterKey($videoUrl,$videoBtn)});_this2.ui.onDialogHidden(_this2.$dialog,function(){$videoUrl.off();$videoBtn.off();if(deferred.state()==='pending'){deferred.reject()}});_this2.ui.showDialog(_this2.$dialog)})}}]);return VideoDialog}();function HelpDialog_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}
function HelpDialog_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value" in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}
function HelpDialog_createClass(Constructor,protoProps,staticProps){if(protoProps)HelpDialog_defineProperties(Constructor.prototype,protoProps);if(staticProps)HelpDialog_defineProperties(Constructor,staticProps);return Constructor}
var HelpDialog_HelpDialog=function(){function HelpDialog(context){HelpDialog_classCallCheck(this,HelpDialog);this.context=context;this.ui=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote.ui;this.$body=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(document.body);this.$editor=context.layoutInfo.editor;this.options=context.options;this.lang=this.options.langInfo}
HelpDialog_createClass(HelpDialog,[{key:"initialize",value:function initialize(){var $container=this.options.dialogsInBody?this.$body:this.options.container;var body=['<p class="text-center">','<a href="http://summernote.org/" target="_blank">Summernote 0.8.18</a> · ','<a href="https://github.com/summernote/summernote" target="_blank">Project</a> · ','<a href="https://github.com/summernote/summernote/issues" target="_blank">Issues</a>','</p>'].join('');this.$dialog=this.ui.dialog({title:this.lang.options.help,fade:this.options.dialogsFade,body:this.createShortcutList(),footer:body,callback:function callback($node){$node.find('.modal-body,.note-modal-body').css({'max-height':300,'overflow':'scroll'})}}).render().appendTo($container)}},{key:"destroy",value:function destroy(){this.ui.hideDialog(this.$dialog);this.$dialog.remove()}},{key:"createShortcutList",value:function createShortcutList(){var _this=this;var keyMap=this.options.keyMap[env.isMac?'mac':'pc'];return Object.keys(keyMap).map(function(key){var command=keyMap[key];var $row=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<div><div class="help-list-item"></div></div>');$row.append(external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<label><kbd>'+key+'</kdb></label>').css({'width':180,'margin-right':10})).append(external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<span/>').html(_this.context.memo('help.'+command)||command));return $row.html()}).join('')}},{key:"showHelpDialog",value:function showHelpDialog(){var _this2=this;return external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.Deferred(function(deferred){_this2.ui.onDialogShown(_this2.$dialog,function(){_this2.context.triggerEvent('dialog.shown');deferred.resolve()});_this2.ui.showDialog(_this2.$dialog)}).promise()}},{key:"show",value:function show(){var _this3=this;this.context.invoke('editor.saveRange');this.showHelpDialog().then(function(){_this3.context.invoke('editor.restoreRange')})}}]);return HelpDialog}();function AirPopover_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}
function AirPopover_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value" in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}
function AirPopover_createClass(Constructor,protoProps,staticProps){if(protoProps)AirPopover_defineProperties(Constructor.prototype,protoProps);if(staticProps)AirPopover_defineProperties(Constructor,staticProps);return Constructor}
var AIRMODE_POPOVER_X_OFFSET=-5;var AIRMODE_POPOVER_Y_OFFSET=5;var AirPopover_AirPopover=function(){function AirPopover(context){var _this=this;AirPopover_classCallCheck(this,AirPopover);this.context=context;this.ui=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote.ui;this.options=context.options;this.hidable=!0;this.onContextmenu=!1;this.pageX=null;this.pageY=null;this.events={'summernote.contextmenu':function summernoteContextmenu(e){if(_this.options.editing){e.preventDefault();e.stopPropagation();_this.onContextmenu=!0;_this.update(!0)}},'summernote.mousedown':function summernoteMousedown(we,e){_this.pageX=e.pageX;_this.pageY=e.pageY},'summernote.keyup summernote.mouseup summernote.scroll':function summernoteKeyupSummernoteMouseupSummernoteScroll(we,e){if(_this.options.editing&&!_this.onContextmenu){_this.pageX=e.pageX;_this.pageY=e.pageY;_this.update()}
_this.onContextmenu=!1},'summernote.disable summernote.change summernote.dialog.shown summernote.blur':function summernoteDisableSummernoteChangeSummernoteDialogShownSummernoteBlur(){_this.hide()},'summernote.focusout':function summernoteFocusout(){if(!_this.$popover.is(':active,:focus')){_this.hide()}}}}
AirPopover_createClass(AirPopover,[{key:"shouldInitialize",value:function shouldInitialize(){return this.options.airMode&&!lists.isEmpty(this.options.popover.air)}},{key:"initialize",value:function initialize(){var _this2=this;this.$popover=this.ui.popover({className:'note-air-popover'}).render().appendTo(this.options.container);var $content=this.$popover.find('.popover-content');this.context.invoke('buttons.build',$content,this.options.popover.air);this.$popover.on('mousedown',function(){_this2.hidable=!1});this.$popover.on('mouseup',function(){_this2.hidable=!0})}},{key:"destroy",value:function destroy(){this.$popover.remove()}},{key:"update",value:function update(forcelyOpen){var styleInfo=this.context.invoke('editor.currentStyle');if(styleInfo.range&&(!styleInfo.range.isCollapsed()||forcelyOpen)){var rect={left:this.pageX,top:this.pageY};var containerOffset=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(this.options.container).offset();rect.top-=containerOffset.top;rect.left-=containerOffset.left;this.$popover.css({display:'block',left:Math.max(rect.left,0)+AIRMODE_POPOVER_X_OFFSET,top:rect.top+AIRMODE_POPOVER_Y_OFFSET});this.context.invoke('buttons.updateCurrentStyle',this.$popover)}else{this.hide()}}},{key:"updateCodeview",value:function updateCodeview(isCodeview){this.ui.toggleBtnActive(this.$popover.find('.btn-codeview'),isCodeview);if(isCodeview){this.hide()}}},{key:"hide",value:function hide(){if(this.hidable){this.$popover.hide()}}}]);return AirPopover}();function HintPopover_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}
function HintPopover_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value" in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}
function HintPopover_createClass(Constructor,protoProps,staticProps){if(protoProps)HintPopover_defineProperties(Constructor.prototype,protoProps);if(staticProps)HintPopover_defineProperties(Constructor,staticProps);return Constructor}
var POPOVER_DIST=5;var HintPopover_HintPopover=function(){function HintPopover(context){var _this=this;HintPopover_classCallCheck(this,HintPopover);this.context=context;this.ui=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote.ui;this.$editable=context.layoutInfo.editable;this.options=context.options;this.hint=this.options.hint||[];this.direction=this.options.hintDirection||'bottom';this.hints=Array.isArray(this.hint)?this.hint:[this.hint];this.events={'summernote.keyup':function summernoteKeyup(we,e){if(!e.isDefaultPrevented()){_this.handleKeyup(e)}},'summernote.keydown':function summernoteKeydown(we,e){_this.handleKeydown(e)},'summernote.disable summernote.dialog.shown summernote.blur':function summernoteDisableSummernoteDialogShownSummernoteBlur(){_this.hide()}}}
HintPopover_createClass(HintPopover,[{key:"shouldInitialize",value:function shouldInitialize(){return this.hints.length>0}},{key:"initialize",value:function initialize(){var _this2=this;this.lastWordRange=null;this.matchingWord=null;this.$popover=this.ui.popover({className:'note-hint-popover',hideArrow:!0,direction:''}).render().appendTo(this.options.container);this.$popover.hide();this.$content=this.$popover.find('.popover-content,.note-popover-content');this.$content.on('click','.note-hint-item',function(e){_this2.$content.find('.active').removeClass('active');external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(e.currentTarget).addClass('active');_this2.replace()});this.$popover.on('mousedown',function(e){e.preventDefault()})}},{key:"destroy",value:function destroy(){this.$popover.remove()}},{key:"selectItem",value:function selectItem($item){this.$content.find('.active').removeClass('active');$item.addClass('active');this.$content[0].scrollTop=$item[0].offsetTop-this.$content.innerHeight()/2}},{key:"moveDown",value:function moveDown(){var $current=this.$content.find('.note-hint-item.active');var $next=$current.next();if($next.length){this.selectItem($next)}else{var $nextGroup=$current.parent().next();if(!$nextGroup.length){$nextGroup=this.$content.find('.note-hint-group').first()}
this.selectItem($nextGroup.find('.note-hint-item').first())}}},{key:"moveUp",value:function moveUp(){var $current=this.$content.find('.note-hint-item.active');var $prev=$current.prev();if($prev.length){this.selectItem($prev)}else{var $prevGroup=$current.parent().prev();if(!$prevGroup.length){$prevGroup=this.$content.find('.note-hint-group').last()}
this.selectItem($prevGroup.find('.note-hint-item').last())}}},{key:"replace",value:function replace(){var $item=this.$content.find('.note-hint-item.active');if($item.length){var node=this.nodeFromItem($item);if(this.matchingWord!==null&&this.matchingWord.length===0){this.lastWordRange.so=this.lastWordRange.eo}else if(this.matchingWord!==null&&this.matchingWord.length>0&&!this.lastWordRange.isCollapsed()){var rangeCompute=this.lastWordRange.eo-this.lastWordRange.so-this.matchingWord.length;if(rangeCompute>0){this.lastWordRange.so+=rangeCompute}}
this.lastWordRange.insertNode(node);if(this.options.hintSelect==='next'){var blank=document.createTextNode('');external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(node).after(blank);range.createFromNodeBefore(blank).select()}else{range.createFromNodeAfter(node).select()}
this.lastWordRange=null;this.hide();this.context.invoke('editor.focus')}}},{key:"nodeFromItem",value:function nodeFromItem($item){var hint=this.hints[$item.data('index')];var item=$item.data('item');var node=hint.content?hint.content(item):item;if(typeof node==='string'){node=dom.createText(node)}
return node}},{key:"createItemTemplates",value:function createItemTemplates(hintIdx,items){var hint=this.hints[hintIdx];return items.map(function(item){var $item=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<div class="note-hint-item"/>');$item.append(hint.template?hint.template(item):item+'');$item.data({'index':hintIdx,'item':item});return $item})}},{key:"handleKeydown",value:function handleKeydown(e){if(!this.$popover.is(':visible')){return}
if(e.keyCode===core_key.code.ENTER){e.preventDefault();this.replace()}else if(e.keyCode===core_key.code.UP){e.preventDefault();this.moveUp()}else if(e.keyCode===core_key.code.DOWN){e.preventDefault();this.moveDown()}}},{key:"searchKeyword",value:function searchKeyword(index,keyword,callback){var hint=this.hints[index];if(hint&&hint.match.test(keyword)&&hint.search){var matches=hint.match.exec(keyword);this.matchingWord=matches[0];hint.search(matches[1],callback)}else{callback()}}},{key:"createGroup",value:function createGroup(idx,keyword){var _this3=this;var $group=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()('<div class="note-hint-group note-hint-group-'+idx+'"></div>');this.searchKeyword(idx,keyword,function(items){items=items||[];if(items.length){$group.html(_this3.createItemTemplates(idx,items));_this3.show()}});return $group}},{key:"handleKeyup",value:function handleKeyup(e){var _this4=this;if(!lists.contains([core_key.code.ENTER,core_key.code.UP,core_key.code.DOWN],e.keyCode)){var _range=this.context.invoke('editor.getLastRange');var wordRange,keyword;if(this.options.hintMode==='words'){wordRange=_range.getWordsRange(_range);keyword=wordRange.toString();this.hints.forEach(function(hint){if(hint.match.test(keyword)){wordRange=_range.getWordsMatchRange(hint.match);return!1}});if(!wordRange){this.hide();return}
keyword=wordRange.toString()}else{wordRange=_range.getWordRange();keyword=wordRange.toString()}
if(this.hints.length&&keyword){this.$content.empty();var bnd=func.rect2bnd(lists.last(wordRange.getClientRects()));var containerOffset=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(this.options.container).offset();if(bnd){bnd.top-=containerOffset.top;bnd.left-=containerOffset.left;this.$popover.hide();this.lastWordRange=wordRange;this.hints.forEach(function(hint,idx){if(hint.match.test(keyword)){_this4.createGroup(idx,keyword).appendTo(_this4.$content)}});this.$content.find('.note-hint-item:first').addClass('active');if(this.direction==='top'){this.$popover.css({left:bnd.left,top:bnd.top-this.$popover.outerHeight()-POPOVER_DIST})}else{this.$popover.css({left:bnd.left,top:bnd.top+bnd.height+POPOVER_DIST})}}}else{this.hide()}}}},{key:"show",value:function show(){this.$popover.show()}},{key:"hide",value:function hide(){this.$popover.hide()}}]);return HintPopover}();external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.extend(external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote,{version:'0.8.18',plugins:{},dom:dom,range:range,lists:lists,options:{langInfo:external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote.lang['en-US'],editing:!0,modules:{'editor':Editor_Editor,'clipboard':Clipboard_Clipboard,'dropzone':Dropzone_Dropzone,'codeview':Codeview_CodeView,'statusbar':Statusbar_Statusbar,'fullscreen':Fullscreen_Fullscreen,'handle':Handle_Handle,'hintPopover':HintPopover_HintPopover,'autoLink':AutoLink_AutoLink,'autoSync':AutoSync_AutoSync,'autoReplace':AutoReplace_AutoReplace,'placeholder':Placeholder_Placeholder,'buttons':Buttons_Buttons,'toolbar':Toolbar_Toolbar,'linkDialog':LinkDialog_LinkDialog,'linkPopover':LinkPopover_LinkPopover,'imageDialog':ImageDialog_ImageDialog,'imagePopover':ImagePopover_ImagePopover,'tablePopover':TablePopover_TablePopover,'videoDialog':VideoDialog_VideoDialog,'helpDialog':HelpDialog_HelpDialog,'airPopover':AirPopover_AirPopover},buttons:{},lang:'en-US',followingToolbar:!1,toolbarPosition:'top',otherStaticBar:'',codeviewKeepButton:!1,toolbar:[['style',['style']],['font',['bold','underline','clear']],['fontname',['fontname']],['color',['color']],['para',['ul','ol','paragraph']],['table',['table']],['insert',['link','picture','video']],['view',['fullscreen','codeview','help']]],popatmouse:!0,popover:{image:[['resize',['resizeFull','resizeHalf','resizeQuarter','resizeNone']],['float',['floatLeft','floatRight','floatNone']],['remove',['removeMedia']]],link:[['link',['linkDialogShow','unlink']]],table:[['add',['addRowDown','addRowUp','addColLeft','addColRight']],['delete',['deleteRow','deleteCol','deleteTable']]],air:[['color',['color']],['font',['bold','underline','clear']],['para',['ul','paragraph']],['table',['table']],['insert',['link','picture']],['view',['fullscreen','codeview']]]},airMode:!1,overrideContextMenu:!1,width:null,height:null,linkTargetBlank:!0,useProtocol:!0,defaultProtocol:'http://',focus:!1,tabDisabled:!1,tabSize:4,styleWithCSS:!1,shortcuts:!0,textareaAutoSync:!0,tooltip:'auto',container:null,maxTextLength:0,blockquoteBreakingLevel:2,spellCheck:!0,disableGrammar:!1,placeholder:null,inheritPlaceholder:!1,recordEveryKeystroke:!1,historyLimit:200,showDomainOnlyForAutolink:!1,hintMode:'word',hintSelect:'after',hintDirection:'bottom',styleTags:['p','blockquote','pre','h1','h2','h3','h4','h5','h6'],fontNames:['Arial','Arial Black','Comic Sans MS','Courier New','Helvetica Neue','Helvetica','Impact','Lucida Grande','Tahoma','Times New Roman','Verdana'],fontNamesIgnoreCheck:[],addDefaultFonts:!0,fontSizes:['8','9','10','11','12','14','18','24','36'],fontSizeUnits:['px','pt'],colors:[['#000000','#424242','#636363','#9C9C94','#CEC6CE','#EFEFEF','#F7F7F7','#FFFFFF'],['#FF0000','#FF9C00','#FFFF00','#00FF00','#00FFFF','#0000FF','#9C00FF','#FF00FF'],['#F7C6CE','#FFE7CE','#FFEFC6','#D6EFD6','#CEDEE7','#CEE7F7','#D6D6E7','#E7D6DE'],['#E79C9C','#FFC69C','#FFE79C','#B5D6A5','#A5C6CE','#9CC6EF','#B5A5D6','#D6A5BD'],['#E76363','#F7AD6B','#FFD663','#94BD7B','#73A5AD','#6BADDE','#8C7BC6','#C67BA5'],['#CE0000','#E79439','#EFC631','#6BA54A','#4A7B8C','#3984C6','#634AA5','#A54A7B'],['#9C0000','#B56308','#BD9400','#397B21','#104A5A','#085294','#311873','#731842'],['#630000','#7B3900','#846300','#295218','#083139','#003163','#21104A','#4A1031']],colorsName:[['Black','Tundora','Dove Gray','Star Dust','Pale Slate','Gallery','Alabaster','White'],['Red','Orange Peel','Yellow','Green','Cyan','Blue','Electric Violet','Magenta'],['Azalea','Karry','Egg White','Zanah','Botticelli','Tropical Blue','Mischka','Twilight'],['Tonys Pink','Peach Orange','Cream Brulee','Sprout','Casper','Perano','Cold Purple','Careys Pink'],['Mandy','Rajah','Dandelion','Olivine','Gulf Stream','Viking','Blue Marguerite','Puce'],['Guardsman Red','Fire Bush','Golden Dream','Chelsea Cucumber','Smalt Blue','Boston Blue','Butterfly Bush','Cadillac'],['Sangria','Mai Tai','Buddha Gold','Forest Green','Eden','Venice Blue','Meteorite','Claret'],['Rosewood','Cinnamon','Olive','Parsley','Tiber','Midnight Blue','Valentino','Loulou']],colorButton:{foreColor:'#000000',backColor:'#FFFF00'},lineHeights:['1.0','1.2','1.4','1.5','1.6','1.8','2.0','3.0'],tableClassName:'table table-bordered',insertTableMaxSize:{col:10,row:10},dialogsInBody:!0,dialogsFade:!1,maximumImageFileSize:null,callbacks:{onBeforeCommand:null,onBlur:null,onBlurCodeview:null,onChange:null,onChangeCodeview:null,onDialogShown:null,onEnter:null,onFocus:null,onImageLinkInsert:null,onImageUpload:null,onImageUploadError:null,onInit:null,onKeydown:null,onKeyup:null,onMousedown:null,onMouseup:null,onPaste:null,onScroll:null},codemirror:{mode:'text/html',htmlMode:!0,lineNumbers:!0},codeviewFilter:!1,codeviewFilterRegex:/<\/*(?:applet|b(?:ase|gsound|link)|embed|frame(?:set)?|ilayer|l(?:ayer|ink)|meta|object|s(?:cript|tyle)|t(?:itle|extarea)|xml)[^>]*?>/gi,codeviewIframeFilter:!0,codeviewIframeWhitelistSrc:[],codeviewIframeWhitelistSrcBase:['www.youtube.com','www.youtube-nocookie.com','www.facebook.com','vine.co','instagram.com','player.vimeo.com','www.dailymotion.com','player.youku.com','v.qq.com'],keyMap:{pc:{'ESC':'escape','ENTER':'insertParagraph','CTRL+Z':'undo','CTRL+Y':'redo','TAB':'tab','SHIFT+TAB':'untab','CTRL+B':'bold','CTRL+I':'italic','CTRL+U':'underline','CTRL+SHIFT+S':'strikethrough','CTRL+BACKSLASH':'removeFormat','CTRL+SHIFT+L':'justifyLeft','CTRL+SHIFT+E':'justifyCenter','CTRL+SHIFT+R':'justifyRight','CTRL+SHIFT+J':'justifyFull','CTRL+SHIFT+NUM7':'insertUnorderedList','CTRL+SHIFT+NUM8':'insertOrderedList','CTRL+LEFTBRACKET':'outdent','CTRL+RIGHTBRACKET':'indent','CTRL+NUM0':'formatPara','CTRL+NUM1':'formatH1','CTRL+NUM2':'formatH2','CTRL+NUM3':'formatH3','CTRL+NUM4':'formatH4','CTRL+NUM5':'formatH5','CTRL+NUM6':'formatH6','CTRL+ENTER':'insertHorizontalRule','CTRL+K':'linkDialog.show'},mac:{'ESC':'escape','ENTER':'insertParagraph','CMD+Z':'undo','CMD+SHIFT+Z':'redo','TAB':'tab','SHIFT+TAB':'untab','CMD+B':'bold','CMD+I':'italic','CMD+U':'underline','CMD+SHIFT+S':'strikethrough','CMD+BACKSLASH':'removeFormat','CMD+SHIFT+L':'justifyLeft','CMD+SHIFT+E':'justifyCenter','CMD+SHIFT+R':'justifyRight','CMD+SHIFT+J':'justifyFull','CMD+SHIFT+NUM7':'insertUnorderedList','CMD+SHIFT+NUM8':'insertOrderedList','CMD+LEFTBRACKET':'outdent','CMD+RIGHTBRACKET':'indent','CMD+NUM0':'formatPara','CMD+NUM1':'formatH1','CMD+NUM2':'formatH2','CMD+NUM3':'formatH3','CMD+NUM4':'formatH4','CMD+NUM5':'formatH5','CMD+NUM6':'formatH6','CMD+ENTER':'insertHorizontalRule','CMD+K':'linkDialog.show'}},icons:{'align':'note-icon-align','alignCenter':'note-icon-align-center','alignJustify':'note-icon-align-justify','alignLeft':'note-icon-align-left','alignRight':'note-icon-align-right','rowBelow':'note-icon-row-below','colBefore':'note-icon-col-before','colAfter':'note-icon-col-after','rowAbove':'note-icon-row-above','rowRemove':'note-icon-row-remove','colRemove':'note-icon-col-remove','indent':'note-icon-align-indent','outdent':'note-icon-align-outdent','arrowsAlt':'note-icon-arrows-alt','bold':'note-icon-bold','caret':'note-icon-caret','circle':'note-icon-circle','close':'note-icon-close','code':'note-icon-code','eraser':'note-icon-eraser','floatLeft':'note-icon-float-left','floatRight':'note-icon-float-right','font':'note-icon-font','frame':'note-icon-frame','italic':'note-icon-italic','link':'note-icon-link','unlink':'note-icon-chain-broken','magic':'note-icon-magic','menuCheck':'note-icon-menu-check','minus':'note-icon-minus','orderedlist':'note-icon-orderedlist','pencil':'note-icon-pencil','picture':'note-icon-picture','question':'note-icon-question','redo':'note-icon-redo','rollback':'note-icon-rollback','square':'note-icon-square','strikethrough':'note-icon-strikethrough','subscript':'note-icon-subscript','superscript':'note-icon-superscript','table':'note-icon-table','textHeight':'note-icon-text-height','trash':'note-icon-trash','underline':'note-icon-underline','undo':'note-icon-undo','unorderedlist':'note-icon-unorderedlist','video':'note-icon-video'}}})}),5:(function(module,exports,__webpack_require__){}),53:(function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_=__webpack_require__(0);var external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default=__webpack_require__.n(external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_);var renderer=__webpack_require__(1);function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}
var editor=renderer.a.create('<div class="note-editor note-frame card"/>');var toolbar=renderer.a.create('<div class="note-toolbar card-header" role="toolbar"/>');var editingArea=renderer.a.create('<div class="note-editing-area"/>');var codable=renderer.a.create('<textarea class="note-codable" aria-multiline="true"/>');var editable=renderer.a.create('<div class="note-editable card-block" contentEditable="true" role="textbox" aria-multiline="true"/>');var statusbar=renderer.a.create(['<output class="note-status-output" role="status" aria-live="polite"></output>','<div class="note-statusbar" role="status">','<div class="note-resizebar" aria-label="Resize">','<div class="note-icon-bar"></div>','<div class="note-icon-bar"></div>','<div class="note-icon-bar"></div>','</div>','</div>'].join(''));var airEditor=renderer.a.create('<div class="note-editor note-airframe"/>');var airEditable=renderer.a.create(['<div class="note-editable" contentEditable="true" role="textbox" aria-multiline="true"></div>','<output class="note-status-output" role="status" aria-live="polite"></output>'].join(''));var buttonGroup=renderer.a.create('<div class="note-btn-group btn-group">');var dropdown=renderer.a.create('<div class="note-dropdown-menu dropdown-menu" role="list">',function($node,options){var markup=Array.isArray(options.items)?options.items.map(function(item){var value=typeof item==='string'?item:item.value||'';var content=options.template?options.template(item):item;var option=_typeof(item)==='object'?item.option:undefined;var dataValue='data-value="'+value+'"';var dataOption=option!==undefined?' data-option="'+option+'"':'';return'<a class="dropdown-item" href="#" '+(dataValue+dataOption)+' role="listitem" aria-label="'+value+'">'+content+'</a>'}).join(''):options.items;$node.html(markup).attr({'aria-label':options.title});if(options&&options.codeviewKeepButton){$node.addClass('note-codeview-keep')}});var dropdownButtonContents=function dropdownButtonContents(contents){return contents};var dropdownCheck=renderer.a.create('<div class="note-dropdown-menu dropdown-menu note-check" role="list">',function($node,options){var markup=Array.isArray(options.items)?options.items.map(function(item){var value=typeof item==='string'?item:item.value||'';var content=options.template?options.template(item):item;return'<a class="dropdown-item" href="#" data-value="'+value+'" role="listitem" aria-label="'+item+'">'+icon(options.checkClassName)+' '+content+'</a>'}).join(''):options.items;$node.html(markup).attr({'aria-label':options.title});if(options&&options.codeviewKeepButton){$node.addClass('note-codeview-keep')}});var dialog=renderer.a.create('<div class="modal summernoteModal" />',function($node,options){if(options.fade){$node.addClass('fade')}
$node.attr({'aria-label':options.title});$node.html(['<div class="modal-dialog">','<div class="modal-content">',options.footer?'<div class="footer d-flex justify-content-end">'+options.footer+'</div>':'','<div class="body d-flex flex-column">'+options.body+'</div>','</div>','</div>'].join(''))});var popover=renderer.a.create(['<div class="note-popover popover in">','<div class="arrow"></div>','<div class="popover-content note-children-container"></div>','</div>'].join(''),function($node,options){var direction=typeof options.direction!=='undefined'?options.direction:'bottom';$node.addClass(direction);if(options.hideArrow){$node.find('.arrow').hide()}});var ui_checkbox=renderer.a.create('<fieldset data-control="checkbox" data-type="button"></fieldset>',function($node,options){$node.html(['<label class="form-switch form-switch-primary d-flex align-items-center" '+(options.id?' for="note-'+options.id+'"':'')+'>','<input type="checkbox" class="form-check-input"'+(options.id?' id="note-'+options.id+'"':''),options.checked?' checked':'',' aria-label="'+(options.text?options.text:'')+'"',' aria-checked="'+(options.checked?'true':'false')+'"/>','<i data-on="&#10004;" data-off="&#10005;"></i> <span class="fs--14">'+(options.text?options.text:'')+'</span></label>'].join(''))});var icon=function icon(iconClassName,tagName){tagName=tagName||'i';return'<'+tagName+' class="'+iconClassName+'"></'+tagName+'>'};var ui_ui=function ui(editorOptions){return{editor:editor,toolbar:toolbar,editingArea:editingArea,codable:codable,editable:editable,statusbar:statusbar,airEditor:airEditor,airEditable:airEditable,buttonGroup:buttonGroup,dropdown:dropdown,dropdownButtonContents:dropdownButtonContents,dropdownCheck:dropdownCheck,dialog:dialog,popover:popover,icon:icon,checkbox:ui_checkbox,options:editorOptions,palette:function palette($node,options){return renderer.a.create('<div class="note-color-palette"/>',function($node,options){var contents=[];for(var row=0,rowSize=options.colors.length;row<rowSize;row++){var eventName=options.eventName;var colors=options.colors[row];var colorsName=options.colorsName[row];var buttons=[];for(var col=0,colSize=colors.length;col<colSize;col++){var color=colors[col];var colorName=colorsName[col];buttons.push(['<button type="button" class="note-color-btn"','style="background-color:',color,'" ','data-event="',eventName,'" ','data-value="',color,'" ','title="',colorName,'" ','aria-label="',colorName,'" ','data-bs-toggle="button" tabindex="-1"></button>'].join(''))}
contents.push('<div class="note-color-row">'+buttons.join('')+'</div>')}
$node.html(contents.join(''));if(options.tooltip){$node.find('.note-color-btn').tooltip({container:options.container||editorOptions.container,trigger:'hover',placement:'bottom'})}})($node,options)},button:function button($node,options){return renderer.a.create('<button type="button" class="note-btn btn btn-light btn-sm" tabindex="-1">',function($node,options){if(options&&options.tooltip){$node.attr({title:options.tooltip,'aria-label':options.tooltip}).tooltip({container:options.container||editorOptions.container,trigger:'hover',placement:'bottom'}).on('click',function(e){external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default()(e.currentTarget).tooltip('hide')})}
if(options&&options.codeviewButton){$node.addClass('note-codeview-keep')}})($node,options)},toggleBtn:function toggleBtn($btn,isEnable){$btn.toggleClass('disabled',!isEnable);$btn.attr('disabled',!isEnable)},toggleBtnActive:function toggleBtnActive($btn,isActive){$btn.toggleClass('active',isActive)},onDialogShown:function onDialogShown($dialog,handler){if(!$dialog.find('.note-group-select-from-files').hasClass('done')){$dialog.find('.note-group-select-from-files > label').addClass('btn btn-primary');$dialog.find('.note-group-image-url').addClass("control");$dialog.find('.note-group-image-url.control').wrap('<fieldset data-control="text" id="img-url" style="width:100%;"></fieldset>');$dialog.find('.note-group-select-from-files').addClass('done')}
$dialog.one('shown.bs.modal',handler)},onDialogHidden:function onDialogHidden($dialog,handler){$dialog.one('hidden.bs.modal',handler)},showDialog:function showDialog($dialog){let $div,$otherdiv;if($dialog.hasClass('image-dialog')){$div=$('.note-btn.image-dialog');$otherdiv=$('.note-btn.link-dialog')}else if($dialog.hasClass('link-dialog')){$div=$('.note-btn.link-dialog');$otherdiv=$('.note-btn.image-dialog')}
$('.dropdown-toggle.show, .dropdown-menu.show').removeClass('show');$('.modal.summernoteModal.show').modal('hide');if($div&&$otherdiv){$div.addClass('active');$otherdiv.removeClass('active');let divOffset=$div.offset(),h=$div.outerHeight();$dialog.css({'top':parseInt(divOffset.top+h+2)+'px','left':divOffset.left+'px'})}
$(document).on('mousedown',function(event){if(!$(event.target).is($dialog)&&!$.contains($dialog[0],event.target)){$('.note-btn.link-dialog.active, .note-btn.image-dialog.active').removeClass('active');$dialog.modal('hide')}});$dialog.modal('show')},hideDialog:function hideDialog($dialog){$dialog.modal('hide')},createLayout:function createLayout($note){var $editor=(editorOptions.airMode?airEditor([editingArea([codable(),airEditable()])]):editorOptions.toolbarPosition==='bottom'?editor([editingArea([codable(),editable()]),toolbar(),statusbar()]):editor([toolbar(),editingArea([codable(),editable()]),statusbar()])).render();$editor.insertAfter($note);return{note:$note,editor:$editor,toolbar:$editor.find('.note-toolbar'),editingArea:$editor.find('.note-editing-area'),editable:$editor.find('.note-editable'),codable:$editor.find('.note-codable'),statusbar:$editor.find('.note-statusbar')}},removeLayout:function removeLayout($note,layoutInfo){$note.html(layoutInfo.editable.html());layoutInfo.editor.remove();$note.show()}}};var bs4_ui=(ui_ui);var settings=__webpack_require__(3);var summernote_bs4=__webpack_require__(5);external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote=external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.extend(external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote,{ui_template:bs4_ui,"interface":'bs4'});external_root_jQuery_commonjs2_jquery_commonjs_jquery_amd_jquery_default.a.summernote.options.styleTags=['p',{title:'Blockquote',tag:'blockquote',className:'blockquote',value:'blockquote'},'pre','h1','h2','h3','h4','h5','h6']})})});(function(factory){if(typeof define==='function'&&define.amd){define(['jquery'],factory)}else if(typeof module==='object'&&module.exports){module.exports=factory(require('jquery'))}else{factory(window.jQuery)}}(function($){$.extend($.summernote.plugins,{'addtags':function(context){var self=this;var ui=$.summernote.ui;var options=context.options;self.generateBtn=function(tag,tooltip){var char=tag.slice(0,1).toUpperCase();return ui.button({contents:'<'+tag+'>'+tag+'</'+tag+'>',tooltip:tooltip+' <'+tag+'>',className:'note-addtags-btn',click:function(e){self.wrapInTag(tag)}})};var del=self.generateBtn('del','Deleted text');var ins=self.generateBtn('ins','Inserted text');var small=self.generateBtn('small','Fine print');var mark=self.generateBtn('mark','Highlighted text');var variable=self.generateBtn('var','Variable');var keyboard=self.generateBtn('kbd','User input');var code=self.generateBtn('code','Inline code');var samp=self.generateBtn('samp','Sample output');context.memo('button.addtags',function(){return ui.buttonGroup([ui.button({className:'dropdown-toggle',contents:'<b>Special </b> ',tooltip:'Additional text styles',data:{toggle:'dropdown'}}),ui.dropdown([ui.buttonGroup({className:'note-addtags-code',children:[code,samp,keyboard,variable,mark,small,ins,del]}),])]).render()});self.areDifferentBlockElements=function(startEl,endEl){var startElDisplay=getComputedStyle(startEl,null).display;var endElDisplay=getComputedStyle(endEl,null).display;if(startElDisplay!=='inline'&&endElDisplay!=='inline'){console.log("Can't insert across two block elements.")
return!0}else{return!1}};self.isSelectionParsable=function(startEl,endEl){if(startEl.isSameNode(endEl)){return!0}
if(self.areDifferentBlockElements(startEl,endEl)){return!1}
var startElParent=startEl.parentElement;var endElParent=endEl.parentElement;if(startEl.isSameNode(endElParent)||endEl.isSameNode(startElParent)||startElParent.isSameNode(endElParent)){return!0}else console.log("Unable to parse across so many nodes. Sorry!")
return!1};self.wrapInTag=function(tag){if(window.getSelection){var selection=window.getSelection(),selected=(selection.rangeCount>0)&&selection.getRangeAt(0);if(selected.startOffset!==selected.endOffset){var range=selected.cloneRange();var startParentElement=range.startContainer.parentElement;var endParentElement=range.endContainer.parentElement;if(!startParentElement.isSameNode(endParentElement)){if(!self.isSelectionParsable(startParentElement,endParentElement)){return}}
var newNode=document.createElement(tag);newNode.appendChild(range.extractContents());range.insertNode(newNode)
range.selectNodeContents(newNode);selection.removeAllRanges();selection.addRange(range)}}}}})}));(function(factory){if(typeof define==='function'&&define.amd){define(['jquery'],factory)}else if(typeof module==='object'&&module.exports){module.exports=factory(require('jquery'))}else{factory(window.jQuery)}}(function($){$.extend($.summernote.plugins,{'addclass':function(context){var self=this;if(typeof context.options.addclass==='undefined'){context.options.addclass={}}
if(typeof context.options.addclass.classTags==='undefined'){context.options.addclass.classTags=["jumbotron","lead","img-rounded","img-circle","img-responsive","btn","btn btn-success","btn btn-danger","text-muted","text-primary","text-warning","text-danger","text-success","table-bordered","table-responsive","alert","alert alert-success","alert alert-info","alert alert-warning","alert alert-danger","visible-sm","hidden-xs","hidden-md","hidden-lg","hidden-print"]}
var ui=$.summernote.ui;addStyleString(".scrollable-menu {height: auto; max-height: 200px; max-width:300px; overflow-x: hidden;}");context.memo('button.addclass',function(){return ui.buttonGroup([ui.button({className:'dropdown-toggle',contents:'<i class="mr-2 fa fa-css3"\/> <b>&nbsp;</b> '+ui.icon(context.options.icons.caret,'span'),tooltip:'toggle CSS class',data:{toggle:'dropdown'}}),ui.dropdown({className:'dropdown-style scrollable-menu',items:context.options.addclass.classTags,template:function(item){if(typeof item==='string'){item={tag:"div",title:item,value:item}}
var tag=item.tag;var title=item.title;var style=item.style?' style="'+item.style+'" ':'';var cssclass=item.value?' class="'+item.value+'" ':'';return'<'+tag+' '+style+cssclass+'>'+title+'</'+tag+'>'},click:function(event,namespace,value){event.preventDefault();value=value||$(event.target).closest('[data-value]').data('value');var $node=$(context.invoke("restoreTarget"))
if($node.length==0){$node=$(document.getSelection().focusNode.parentElement,".note-editable")}
if(typeof context.options.addclass!=='undefined'&&typeof context.options.addclass.debug!=='undefined'&&context.options.addclass.debug){console.debug(context.invoke("restoreTarget"),$node,"toggling class: "+value,window.getSelection())}
$node.toggleClass(value)}})]).render();return $optionList});function addStyleString(str){var node=document.createElement('style');node.innerHTML=str;document.body.appendChild(node)}
this.events={'summernote.init':function(we,e){},'summernote.keyup':function(we,e){}};this.initialize=function(){};this.destroy=function(){}}})}));(function($){'use strict';var scriptInfo='WOLFI SVG';$.WOLF.vendor.svg={config:{},collection:$(),init:function(selector,config){var __selector=$.WOLF.helper.__selector(selector);var __config=$.WOLF.helper.check_var(config);this.selector=__selector[0];this.collection=__selector[1];this.selector_orig=__selector[2];this.config=(__config!==null)?$.extend({},this.config,__config):this.config;debug('Init : '+scriptInfo);return this.collection.each(function(){$.WOLF.vendor.svg.process($(this))})},process:function(_this){(function(old){$.fn.attr=function(){if(arguments.length===0){if(this.length===0){return null}
var obj={};$.each(_this[0].attributes,function(){if(this.specified){obj[this.name]=this.value}});return obj}
return old.apply(this,arguments)}})($.fn.attr);standardError('SVG:');if(_this.hasClass('done'))return;_this.addClass('done');if(!$(_this).attr('src')){$(_this).attr('src',iconDir+$(_this).attr('name')+'.svg')}
var $img=$(_this),oldAttr=$img.attr(),imgURL=$img.attr('src');jQuery.get(imgURL,function(data){var $svg=jQuery(data).find('svg');$.each(oldAttr,function(key,value){if(key!=='src')$svg=$svg.attr(key,value);});$svg.find('g').each(function(){var $this=$(this);if($this.html().replace(/\s|&nbsp;/g,'').length==0)$this.remove();});$svg=$svg.removeAttr('xmlns:a');if(!$svg.attr('viewBox')&&$svg.attr('height')&&$svg.attr('width')){$svg.attr('viewBox','0 0 '+$svg.attr('height')+' '+$svg.attr('width'))}
$img.replaceWith($svg)},'xml')},}})(jQuery);$(document).ready(function(){Timer.store('ready',systemStart)});window.onload=function(){Timer.store('load',systemStart);Timer.allInfo()};var Timer={markup:{},markdiff:{},reset:function(){return Timer.markup={}},check:function(txt,markup){if(!txt)txt='';else txt=txt+': ';current=Date.now()-systemStart;var message=txt+' '+(current/1000)+' sec';timer(message)},store:function(mark,time){if(!time)time=Date.now();Timer.markup[mark]=time;current=Date.now()-systemStart;var message=mark+' / store '+(current/1000)+' sec';timer(message)},checkstore:function(mark){if(Timer.markup[mark])current=Date.now()-Timer.markup[mark];var message=mark+' / difference '+(current/1000)+' sec';timer(message)},allInfo:function(mark){if(mark)timer(Timer.markup[mark]);timer(Timer.markup);$.each(Timer.markup,function(key,value){Timer.markdiff[key]=(Date.now()-value)/1000});timer(Timer.markdiff)}};(function($){'use strict';var scriptInfo='WOLFI Administration';$.WOLF.admin={dummyLoad:function(id){if($('#dummyForm').length>0)$('#dummyForm').remove();$('body').append('<form id="dummyForm" name="dummyForm" method="POST" action="/" style="display:none;"><input type="text" name="admin_id" id="admin_id" value="'+id+'"></form>');return document.dummyForm.submit()},modClose:function(id='#myModal'){return $(id).modal('hide')},startOthers:function(){return;$('[data-toggle]').each(function(){var toggleValue=$(this).attr('data-toggle');$(this).attr('data-bs-toggle',toggleValue).removeAttr('data-toggle')});var dropdownElements=[].slice.call(document.querySelectorAll('[data-bs-toggle="dropdown"]'));dropdownElements.map(function(dropdownToggleEl){return new bootstrap.Dropdown(dropdownToggleEl)});var tooltipElements=[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));tooltipElements.map(function(tooltipEl){return new bootstrap.Tooltip(tooltipEl)});var tabElements=[].slice.call(document.querySelectorAll('[data-bs-toggle="tab"]'));tabElements.forEach(function(tab){new bootstrap.Tab(tab)});return;$('[data-bs-toggle="tooltip"]').tooltip();var dropdownElementList=[].slice.call(document.querySelectorAll('[data-bs-toggle="dropdown"]'));var dropdownList=dropdownElementList.map(function(dropdownToggleEl){return new bootstrap.Dropdown(dropdownToggleEl)})},start:function(obj='body'){try{$.WOLF.reinit();this.startOthers();this.trans();Navigation.directUpdater();Navigation.animateChildren();$.WOLF.jump.initSite(obj);Waiting(!1,3000);return}catch(e){console.log('error AX.site successhandle',e)}},data:function(){var lang=$('html').hasAttr('lang')?$('html').attr('lang'):'en';var data={randy:getRandom(),lang:lang};$.each($('body').data(),function(key){if(key.substr(0,6)=='admin_')data[key]=$('body').data(key);});$.each($('#adminFields').find('input[id^=admin_]'),function(){data[$(this).attr('id')]=$(this).val()});return data},update:function(obj,showMessage=!1){function mySuccess(txt,value){$.WOLF.core.toast.show('success','',txt,'top-center',2500,!0);$('#lastButton').prop('disabled',!1).removeAttr('disabled');if($(obj).closest('[data-table]').attr('data-table').indexOf('_')<0){if($('[data-clone="'+$(obj).attr('name')+'"]').length>0){$('[data-clone="'+$(obj).attr('name')+'"]').text(value)}}
return!1}
function myError(txt){$.WOLF.core.toast.show('danger','',txt,'top-center',2500,!0);$('#lastButton').prop('disabled',!1).removeAttr('disabled');return!1}
var value=Value.get(obj),field=$(obj).attr('name'),table=$(obj).closest('[data-table]').attr('data-table'),id=$(obj).closest('[data-table]').attr('data-id'),fieldname=$(obj).attr('data-field');if(!fieldname){fieldname='Data updated'}else{fieldname=fieldname+' updated'}
if(!value)value='';if(!id||!table||!field){alert('xvalues are missing: '+table+'#'+value+'#'+field+'#'+id);return}
var data=$.extend(AX.data(),{req:'form_update',table:table,field:field,val:value,id:id});var successhandle=function(response){if(response==1){if(showMessage==!0)mySuccess(fieldname,value);return}else if(response==-1){myError('Something went wrong when updating this entry',value);return}else if(response==0){myError('cannot execute this update',value);return}else standardError(response)}
jQuery.ajax({type:'POST',url:BACKBONE,data:data,success:successhandle,error:standardError})},updateDirect:function(table,field,id,value,info=null){if(!value||!id||!table||!field){alert('values are missing: '+table+'#'+value+'#'+field+'#'+id);return}
var data=$.extend(AX.data(),{req:'form_update',table:table,field:field,val:value,id:id});console.log(data)
var successhandle=function(response){if(info)mySuccess(info);return}
jQuery.ajax({type:'POST',url:BACKBONE,data:data,success:successhandle,error:standardError})},uploadDBDocument:function(obj){var master=$(obj).closest('[data-type]');$(master).addClass('animate-pulse');var fd=new FormData();var files=$(obj)[0].files[0];fd.append('file',files);var prefix=$(obj).hasData('prefix')?$(obj).data('prefix'):null;var dir=$(obj).hasData('dir')?$(obj).data('dir'):null;var id=$(obj).hasData('id')?$(obj).data('id'):-99;$.ajax({url:BACKBONE+'?req=media_DBdocument&id='+id+'&dir='+dir+'&prefix='+prefix+'&randy='+getRandom(),type:'POST',data:fd,xhr:function(){var xhr=new window.XMLHttpRequest();xhr.upload.addEventListener("progress",function(evt){if(evt.lengthComputable){var percentComplete=evt.loaded/evt.total}},!1);return xhr},success:function(response){response=response.trim();if(response!=-1){var icon='my_pdf',type='pdf',parts=response.split('.');if(parts.length>0)icon='file_'+parts[parts.length-1];$(obj).closest('div.w-row').find('.downloader').empty().html('<img style="width:24px;height:24px;" class="icon cursor-hand" name="'+icon+'" onclick="javascript:AX.download(\''+response+'\');" />')
AX.start()}else{standardOK('file not uploaded')}
$(master).removeClass('loading')},error:function(response){standardError(response);$(master).removeClass('loading')},cache:!1,contentType:!1,processData:!1});return!1},trans:function(obj='body',show=!0){Waiting(!1);if(show==!1){$('body').addClass('calculatingMode');setTimeout(function(){$('body').removeClass('calculatingMode')},10000)}else{$('body').removeClass('calculatingMode')}
if(show==!0)$(obj).addClass('empty');else $(obj).removeClass('empty');if($('#helpButton').hasClass('active'))jQuery('#menu_help').click();return},confirm_site:function(site='',successhandle='show',data={},txt='Please Confirm!'){var txt;var r=confirm(txt);if(r==!0){AX.site(site,successhandle,data);return}
return},site:function(site='',successhandle='show',data={}){$('.tooltip').remove();$.WOLF.core.toast.destroy();if(!site){standardError('no listtype!');return}
if(typeof successhandle==="function"){successhandle=successhandle}else if(successhandle=='show'||successhandle=='#middle'){AX.trans('#middle',!1);successhandle=function(response){$('#middle').html(response);AX.start();AX.trans('#middle');return}}else if(successhandle=='modal'){successhandle=function(response){return myModal(response,data)}}else if(successhandle=='note'){successhandle=function(response){return standardSuccess(response,data)}}else if(successhandle=='alert'){successhandle=function(response){return myAlert(response,data)}}else if(successhandle=='off'){successhandle=function(response){return myOffcanvas(response,data)}}else if(successhandle=='plain'){successhandle=function(response){return myPlain(response,data)}}else if(successhandle=='prompt'){successhandle=function(response){return myPrompt(response,data)}}else if($(successhandle).length>0){var obj=successhandle;AX.trans(obj,!1);successhandle=function(response){$(obj).html(response);AX.start();AX.trans(obj);return}}else{var myWidth='';if(data&&data.width)myWidth=' style="max-width:'+data.width+';" ';successhandle=function(response){return myModal(response,data);if($('#myModal').length>0)$('#myModal').remove();$('body').append('<div class="modal fade" id="myModal"><div class="modal-dialog modal-dialog-centered" '+myWidth+'><div class="modal-content">'+response+'</div></div></div>');if($('#myModal').find('header').find('button[data-dismiss]').length==0){$('#myModal').find('header').append('<button data-bs-dismiss="modal"></button>')}
$('#myModal').on('shown.bs.modal',function(event){AX.start()});$('#myModal').on('hide.bs.modal',function(){});$('#myModal').on('hidden.bs.modal',function(){$('#myModal').remove()});const mysModal=new bootstrap.Modal('#myModal',{backdrop:'static',keyboard:!0,focus:!0,show:!0});mysModal.show();return}}
Waiting(!0);$.extend(data,AX.data(),{req:'site',site:site});return jQuery.ajax({type:'POST',url:BACKBONE,data:data,success:successhandle,error:standardError})},email:function(obj,data={}){function collectFields(form){var missing=0,i=0;$(form).find('[data-variable]').each(function(){if($(this).is(':file')){standardInfo($(this).val());var ID=$(this).attr('id'),ins=document.getElementById(ID).files.length;for(var x=0;x<ins;x++){formData.append(ID+'_'+x,document.getElementById(ID).files[x])}
standardSuccess(ins+' images')}else{var value=Value.get(this);formData.append($(this).attr('name'),value);if(!value)missing++}});return missing}
var form=$(obj).closest('.email-wrapper').get(0);var formData=new FormData();var missed=collectFields(form);return;if(missed>0){return standardError(missed)}
formData.append('req','emailSend');$.each(AX.data(),function(key,value){formData.append(key,value)});$.ajax({url:BACKBONE,type:'POST',data:formData,processData:!1,contentType:!1,success:function(response){standardInfo(response);return},error:function(response){standardError(response);return}});return},execute:function(req,output='#middle',data={}){if(!req){standardError('no request!');return}
var successhandle;if(typeof output==="function"){successhandle=output}else if(output=='note'){successhandle=function(response){return standardSuccess(response)}}else if($(output).length>0){successhandle=function(response){$(output).empty().html(response);return AX.start()}}else successhandle=function(response){alert(response)}
Waiting(!0);data=$.extend(data,AX.data(),{req:req});console.log(data);jQuery.ajax({type:'POST',url:BACKBONE,data:data,success:successhandle,error:standardError});return},download:function(file,zip=!1){if(!file){standardError('no file!');return}
if(zip==!0)window.location.href=BACKBONE+'?req=fileDownloadZip&dir='+file;else window.location.href=BACKBONE+'?req=fileDownload&filename='+file;return},export:function(obj){function isEmpty(el){return!$.trim(el.html())}
data=$.extend(AX.data(),$(obj).data());var cleanedHTML=$('#'+data.content).clone();$(cleanedHTML).html($(cleanedHTML).html().replace(/>\s+</g,'> <'));$(cleanedHTML).find('.print-hidden').remove();$(cleanedHTML).find('script').remove();$(cleanedHTML).find('span').contents().unwrap();$(cleanedHTML).find('*').each(function(){if(isEmpty($(this))){$(this).remove()}});data.content=$.trim($(cleanedHTML).html());data.content=data.content.replace(/ +(?= )/g,'');data.randy=getRandom();if(data.output=='download'){if($('#dummyForm').length>0)$('#dummyForm').remove();$('body').append('<form id="dummyForm" name="dummyForm" method="POST" action="'+EXPORTER+'" style="display:none !important;position:fixed;top:20px;left:20px;width:300px;"></form>');$.each(data,function(key,value){$('#dummyForm').append('<input type="text" name="'+key+'" id="'+key+'" value="'+value+'">')});document.dummyForm.submit()}else{data.content='<html><head><style type="text/css">p {color:red;} p.citation {color:green;}</style></head><body>'+data.content+'</body></html>';var successhandle=function(response){standardOK('PDF '+response)}
jQuery.ajax({type:'POST',url:EXPORTER,data:data,success:successhandle,error:standardError})}
return},}})(jQuery);(function($){'use strict';var scriptInfo='WOLFI Naviagtion';$.WOLF.navy=Navigation={statusCheck:function(site,go='show',data){var successhandle=function(progress){progress=parseInt($.trim(progress));$('body').attr('data-allow',progress);if(progress==-99)
return standardError('Es ist ein Fehler bei der Abfrage eingetreten - Bitte versuche es nochmals!');else if(progress==-1){return myAlert('<p>Die Simulation ist noch nicht gestartet worden oder ist kurzfristig deaktiviert worden!<br><br><b>Bitte um etwas Geduld!</b></p>')}else if(progress<data.next){return myAlert('<p>Die Simulation ist noch nicht für eine weitere Bearbeitung freigegeben worden!<br><br><b>Bitte warte bis der Seminarleiter die Eingabe freigibt!</b></p>')}else{return AX.site(site,'show',data)}}
return AX.execute('project_status',successhandle,{seminar:data.seminar})},animateChildren:function(){let children=$(".tableBody > .flexRow, .tableFooter > .flexRow"),ease="easeInExpo",delay=180,totalDuration=(children.length*delay)+800;children.each(function(index,element){$(element).velocity({opacity:0,blur:2,marginTop:"50px"},{duration:0}).delay(index*delay).velocity({opacity:1,blur:0,marginTop:"0px"},{duration:800,easing:ease})});$("#xmiddle section > header").velocity({opacity:0},{duration:0}).delay(totalDuration+10).velocity({opacity:1},{duration:800,easing:ease})},stateInfo:function(){var mode=$('body').attr('data-mode'),seminar=$('#admin_seminar').val(),project=$('#admin_project').val(),period=$('#admin_period').val();if(seminar>0)$('[data-name=seminar]').text($('#admin_seminarname').val()).fadeIn();else $('[data-name=seminar]').text('').hide();if(project>0)$('[data-name=project]').text('Simulation '+project).fadeIn();else $('[data-name=project]').text('').hide();if(period>0)$('[data-name=period]').text('( '+$('#admin_periodname').val()+')').fadeIn();else $('[data-name=period]').text('').hide();try{Brand.checkBranding(mode)}catch(e){console.log('error while checking brandstatus')}
return},switchMode:function(semID=0,proID=0,periodID=0){if(semID>0){$('body').attr('data-mode','seminar')}else $('body').attr('data-mode','admin');if(Value.get('admin_seminar')!==semID){$('#admin_seminar').val(semID)}
$('#admin_project').val(proID);$('#admin_period').val(periodID);return this.stateInfo()},switchSeminar:function(semID=0,semName='',semBrand=''){$('#admin_seminar').val(semID);$('#admin_seminarname').val(semName);$('#admin_seminarbrand').val(semBrand);return this.switchMode(semID,0)},switchPeriod:function(periodID=0,periodName=''){alert('Navigation _my switchPeriod');$('#admin_period').val(periodID);$('#admin_periodname').val(periodName);return this.stateInfo()},unset:function(){},logout:function(){$('#logoutTop > i').click(function(){return window.location.href="/"})},helpButton:function(){if($('#helpButton').hasClass('done'))return;let _but=$('#helpButton');_but.PieMenu(_but.data()).addClass('done')},init:function(){this.directUpdater();this.logout();this.helpButton();$('#middle').click(function(e){if($(e.target).closest('.sidebar-thin').length>0){setTimeout(function(){$('aside').find('.active').removeClass('active')},300)}});return this.cleanUp()},directUpdater:function(){$('[data-variable]').not('.registrated').each(function(){if($(this).closest('[data-table][data-id]').length>0&&!$(this).hasClass('noupdater'))
$(this).addClass('registrated').change(function(){AX.update(this)})});$('.rangepicker').not('.registrated').each(function(){if($(this).closest('[data-table][data-id]').length>0&&!$(this).hasClass('noupdater')){$(this).on('apply.daterangepicker',function(ev,picker){$('#'+$(this).attr('data-output-start')).val(picker.startDate.format($(this).attr('data-output-format')));$('#'+$(this).attr('data-output-end')).val(picker.endDate.format($(this).attr('data-output-format')));AX.update($('#'+$(this).attr('data-output-start')));AX.update($('#'+$(this).attr('data-output-end')))})}});return},cleanUp:function(){return $('.removeMe').empty().remove()},leftbar_mode:function(newType){$('body').removeClass('sidebar-regular sidebar-thin sidebar-mobile').addClass('sidebar-'+newType);$('aside').find('.active').removeClass('active')},mobile_view:function(show=!0){if(show==!1){jQuery('body').removeClass('leftbar-open');jQuery('#mobileLeftButton').removeClass('open')}else if($('body').hasClass('leftbar-open')){jQuery('body').removeClass('leftbar-open');jQuery('#mobileLeftButton').removeClass('open')}else{jQuery('body').addClass('leftbar-open');jQuery('#mobileLeftButton').addClass('open');Navigation.unset()}}}})(jQuery);const sow_util_timeago_lang={seconds:"gerade eben",minute:"vor ca. einer Minute",minutes:"vor %d Minuten",hour:"vor ca. 1 Stunde",hours:"vor ca. %d Stunden",day:"gestern",days:"vor %d Tagen",month:"vor ca. einem Monat",months:"vor %d Monaten",year:"im letzten Jahr",years:"vor %d Jahren"}
var showingBody=function(obj){$(obj).toggleClass('showBody')}
const switchProject=function(projectID=0,projectName=null,projectCat=null,projectPlan=0,projectImage=null,projectIcon=null){alert('trivia - switchProject line 175');try{function breadcumpInfo(projectID,projectName,projectCat,projectPlan){var projectID=$('#admin_project').val(),projectName=$('#admin_projectname').val(),projectCat=$('#admin_projectcat').val(),projectPlan=$('#admin_projectplan').val();if(projectPlan==1)projectPlanTxt='<span class="text-highlight">Premium</span>';else projectPlanTxt='<span class="text-muted">Free</span>';if(projectID>0){$('#topMemberName').hide();$('#topProjectName').html('#'+projectID+' | '+projectName+' | '+projectCat+' '+projectPlanTxt).fadeIn();$('#cathead').text(projectName)}else{$('#topProjectName').text('').hide();$('#topMemberName').fadeIn();$('#cathead').text('')}
return}
function afterSwitch(projectID=0,projectCat=0){$('#aside-left .active').removeClass('active');if(projectID>0){var chapter=$('#aside-left').find('li.nav-item[data-cat='+projectCat+']:first'),link=$(chapter).find('a');$(chapter).addClass('active');$(link).click();return!1}}
if(projectID==0){$('body').removeAttr('data-mode');$('#leftbar-avatar').show();$('#projectimage').attr('src',null).hide();$('#projecticon').attr('src',null).hide();$('#admin_project').val(0);$('#admin_projectname').val('');$('#admin_projectcat').val('');$('#admin_projectplan').val(0);$('body').attr('data-plan',projectPlan);afterSwitch(projectID)}else{$('body').attr('data-mode',projectCat);$('#leftbar-avatar').hide();$('#projectimage').attr('src',projectImage).show();$('#projecticon').attr('src',projectIcon).show();$('#admin_project').val(projectID);$('#admin_projectname').val(projectName);$('#admin_projectcat').val(projectCat);$('#admin_projectplan').val(projectPlan);$('body').attr('data-plan',projectPlan);afterSwitch(projectID,projectCat)}
breadcumpInfo();return!1}catch(e){return catcher('trivia/switchProject',e)}}
function is(obj){alert('trivia - is');return(obj&&(obj===!0||obj==="true"))?!0:!1}
function hideFieldset(variable=null,hide=!0){alert('trivia - hideFieldset');const objs=$('fieldset[data-variable='+variable+'], [for="'+variable+'"]');return hide===!0?$(objs).addClass('hidden'):$(objs).removeClass('hidden')}
$.fn.scrollEnd=function(callback,timeout){$(this).on('scroll',function(){var $this=$(this);if($this.data('scrollTimeout')){clearTimeout($this.data('scrollTimeout'))}
$this.data('scrollTimeout',setTimeout(callback,timeout))})};jQuery.fn.sameRow=function(obj){var myTop=$(this).offset().top;var myBottom=myTop+$(this).outerHeight();var objTop=$(obj).offset().top;var objBottom=objTop+$(obj).outerHeight();return myTop-objTop};var stripContent=function(htmlcode,wrapP=!1){function wrapTextWithPTags(html){var $buffer=$('<div>').html(html);var wrapBuffer='';$buffer.contents().each(function(){if(this.nodeType===Node.TEXT_NODE&&$.trim(this.nodeValue)){wrapBuffer+='<p>'+$.trim(this.nodeValue)+'</p>'}else if(this.nodeType===Node.ELEMENT_NODE){var tagName=this.tagName.toLowerCase();if(['h1','h2','h3','h4','h5','h6','ul','li','img'].includes(tagName)){if(wrapBuffer){$(this).before(wrapBuffer);wrapBuffer=''}}}});if(wrapBuffer){$buffer.append(wrapBuffer)}
return $buffer.html()}
var removeComments=function(element){element.contents().each(function(){if(this.nodeType===8){$(this).remove()}else if(this.nodeType===1){removeComments($(this))}})};function removeEmptyElements(element){element.contents().each(function(){if(this.nodeType===Node.ELEMENT_NODE){removeEmptyElements($(this))}});if(!$.trim(element.text())&&element.is(':empty')){element.remove()}}
var buffer=$('<div></div>');buffer.html(htmlcode.replace(/&nbsp;|&#160;|&#xa0;/gi,' '));removeEmptyElements(buffer);removeComments(buffer);var htmlContent=buffer.html().replace(/&nbsp;/gi,' ');htmlContent=htmlContent.replace(/\s+/g,' ');if(!htmlContent.trim().startsWith('<')){htmlContent='<p>'+htmlContent+'</p>'}
buffer.html(htmlContent);buffer.find('style, script').remove();buffer.find('div').each(function(){var p=$('<p>').html($(this).html());$(this).replaceWith(p)});buffer.find('span').each(function(){$(this).contents().unwrap()});buffer.find('*').not('p, h3, h4, a, b, i, u, sup, ul, ol, li, img, br').each(function(){$(this).contents().unwrap()});buffer.find('a').each(function(){var href=$(this).attr('href');if(typeof href==='undefined'||href===!1){$(this).contents().unwrap()}else{$(this).replaceWith($('<a>').attr('href',href).html($(this).html()))}});buffer.find('*').not('img').each(function(){var tagName=$(this).prop('tagName').toLowerCase();$(this).removeAttr('class');$(this).removeAttr('style');if($.trim($(this).text())===''&&$(this).children().length===0){$(this).remove()}
if(tagName==='span'){$(this).contents().unwrap()}
if($(this).is('[style]')){$(this).removeAttr('style')}
switch(tagName){case 'h1':$(this).replaceWith($('<h3>').html($(this).html()));break;case 'h2':$(this).replaceWith($('<h4>').html($(this).html()));break;case 'a':var href=$(this).attr('href');$(this).replaceWith($('<a>').attr('href',href).html($(this).html()));break;case 'img':var src=$(this).attr('src');$(this).replaceWith($('<img>').attr('src',src));break;default:$(this).removeAttr('class').removeAttr('style').removeAttr('id').removeAttr('align');break}});buffer.find('p, h3, h4, a, b, i, u, sup, ul, ol, li').removeAttr('class').removeAttr('style').removeAttr('id').removeAttr('align');let buffered=buffer.html().replace(/&nbsp;|&#160;|&#xa0;/gi,' ');if(wrapP===!0&&!buffered.trim().startsWith('<')){buffered='<p>'+buffered.trim()+'</p>'}
return buffered};var Waiting=function(on=!1,await=!1){if(!$('#myLoader').length>0)$('body').append('<div id="myLoader"></div>');if(on==!0){$('html').addClass('isWaiting');if(await!==!1)setTimeout(function(){$('html').removeClass('isWaiting')},await);else setTimeout(function(){$('html').removeClass('isWaiting')},2500)}else{if(await!==!1)setTimeout(function(){$('html').removeClass('isWaiting')},await);else setTimeout(function(){$('html').removeClass('isWaiting')},250)}
return;if(!$('#myLoader').length>0)$('body').append('<div id="myLoader"></div>');if(on==!0)$('#myLoader').css('z-index',15).fadeIn();else setTimeout(function(){$('#myLoader').fadeOut()},1000)}
var Timer={markup:{},markdiff:{},reset:function(){return Timer.markup={}},check:function(txt,markup){if(!txt)txt='';else txt=txt+': ';current=Date.now()-systemStart;var message=txt+' '+(current/1000)+' sec';timer(message)},store:function(mark,time){if(!time)time=Date.now();Timer.markup[mark]=time;current=Date.now()-systemStart;var message=mark+' / store '+(current/1000)+' sec';timer(message)},checkstore:function(mark){if(Timer.markup[mark])current=Date.now()-Timer.markup[mark];var message=mark+' / difference '+(current/1000)+' sec';timer(message)},allInfo:function(mark){if(mark)timer(Timer.markup[mark]);timer(Timer.markup);$.each(Timer.markup,function(key,value){Timer.markdiff[key]=(Date.now()-value)/1000});timer(Timer.markdiff)}}
var waitForFinalEvent=(function(){var timers={};return function(callback,ms,uniqueId){standardError('trivia:waitForFinalEvent');if(!uniqueId){uniqueId="Don't call this twice without a uniqueId"}
if(timers[uniqueId]){clearTimeout(timers[uniqueId])}
timers[uniqueId]=setTimeout(callback,ms)}})();var isFileInputSupported=(function(){if(navigator.userAgent.match(/(Android (1.0|1.1|1.5|1.6|2.0|2.1))|(Windows Phone (OS 7|8.0))|(XBLWP)|(ZuneWP)|(w(eb)?OSBrowser)|(webOS)|(Kindle\/(1.0|2.0|2.5|3.0))/)){return!1}
var el=document.createElement("input");el.type="file";return!el.disabled})();if(isFileInputSupported==!1){standardError("Your phone doesn't support file transfer!")}
var getViewport=function(_this){let vh=window.innerHeight;let vw=window.innerWidth;document.documentElement.style.setProperty('--vh',vh+'px');document.documentElement.style.setProperty('--vw',vw+'px')},inViewport=function(el,scroll=!1){if(typeof jQuery==="function"&&el instanceof jQuery){el=el[0]}
var rect=el.getBoundingClientRect();return(rect.top>=0&&rect.left>=0&&rect.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&rect.right<=(window.innerWidth||document.documentElement.clientWidth))},setToViewport=function(el=null){if(typeof jQuery==="function"&&el instanceof jQuery){el=el[0]}
if(!el)
return!1;try{let scrollTop=$(el).closest('.slimscroll').length>0?$(el).closest('.slimscroll').offset().top:$(el).closest('#master').offset().top,browserheight=document.body.scrollHeight,objectTop=$(el).position().top,objectHeight=$(el).height(),objectPointer=objectTop+objectHeight;return $(el).closest('.slimscroll').slimScroll({scrollTo:objectPointer+'px',animate:!0})}catch(e){return catcher('setToViewport',e)}};var getRandom=function(mini=0,maxi=1000){return Math.random(mini,maxi)},higherZ=function(elem,minimum=0){var elems=document.querySelectorAll(elem)
var highest=Number.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1);for(var i=0;i<elems.length;i++){var zindex=Number.parseInt(document.defaultView.getComputedStyle(elems[i],null).getPropertyValue("z-index"),10);if(zindex>highest){highest=zindex}}
if(minimum>0)highest=Math.max(minimum,highest);return++highest},getLang=function(){return $('html').hasAttr('lang')?$('html').attr('lang'):'en'},getTag=function(obj){return $(obj).prop("tagName").toLowerCase()},clearUrl=function(url){return history.pushState("",document.title,window.location.pathname+window.location.search)},imgError=function(obj){try{if($(obj).data('try')===1)return;$(obj).data('try',1);return $(obj).attr('src',BROKENIMAGE)}catch(e){return catcher('imgError',e)}},infoTip=function(obj=null,content=null,theme='info'){return $.WOLF.core.wolftip.show(obj,content,theme)},errorTip=function(obj=null,content=null,theme='error'){return $.WOLF.vendor.wolftip.show(obj,content,theme)},Terror=standardError=function(msg='An error occurred',title='',pos='top-center',hideOn=2500){return $.WOLF.core.toast.show('danger',title,msg,pos,hideOn,!0)},TOK=standardOK=standardOk=standardSuccess=function(msg='standardError',title='',pos='top-center',hideOn=2500){return $.WOLF.core.toast.show('success',title,msg,pos,hideOn,!0)},standardWarn=function(msg='standardError',title='',pos='top-center',hideOn=2500){return $.WOLF.core.toast.show('warning',title,msg,pos,hideOn,!0)},standardInfo=function(msg='standardError',title='',pos='top-center',hideOn=2500){return $.WOLF.core.toast.show('info',title,msg,pos,hideOn,!0)},standardPrompt=function(msg='standardPrompt',title='',pos='bottom-right',hideOn=500){return $.WOLF.core.toast.show('secondary',title,msg,pos,hideOn,!0)},singleModal=function(site=null,title=null,width=600){if(!site)return;$.get(site,function(data){return myModal('<main>'+data+'</main>',{header:title,'width':width})}).fail(function(){standardError("Fehler beim Laden der Datei.")})},myModal=function(content,data={}){data=$.extend({type:'modal'},data);return $.WOLF.core.dialog.myModal(content,data)};myPrompt=function(content,data={}){return $.WOLF.core.dialog.myModal(content,$.extend({type:'prompt'},data))};myPlain=function(content,data={}){return $.WOLF.core.dialog.myModal(content,$.extend({type:'plain'},data))};myAlert=function(content,data={}){if(typeof content==='object'){data=$.extend(data,$(content).data())}
return $.WOLF.core.dialog.myModal(content,$.extend({type:'alert'},data))},myConfirm=function(content,data={}){if(typeof content==='object'){data=$.extend(data,$(content).data())}
return $.WOLF.core.dialog.myModal(content,$.extend({type:'confirm'},data))},myOffcanvas=function(content,data={}){if(typeof content==='object'){data=$.extend(data,$(content).data())}
return $.WOLF.core.dialog.myOffcanvas(content,data)},blocker=function(msg='blocker'){standardPrompt('blocker',msg)},myP=function(msg='myP',title='',pos='top-left',hideOn=500){if(showWolfi==!0)
return $.WOLF.core.toast.show('info',title,msg,pos,hideOn,!0);return},standardConfirm=function(obj,width=500,data={}){return alert('change this to myConfirm');var info=$.extend($(obj).data(),data),myWidth=' style="width:'+width+'px;max-width:95%;" ';if($('#confirmModal').length>0)$('#confirmModal').remove();$('body').append('<div class="modal fade" id="confirmModal"><div class="modal-dialog modal-dialog-centered" '+myWidth+'></div></div>');var successhandle=info.success?info.success:alert('no successhandle available');var yestxt=info.yes?info.yes:'Ja',notxt=info.no?info.no:'Abbrechen',title=info.title?info.title:'Bitte bestäigen ....',txt=info.txt?info.txt:'Bist Du sicher?';var buttons='<button data-bs-dismiss="modal" class="btn btn-outline-danger btn-sm">'+notxt+'</button>'+'<span class="flex-grow-1"></span>'+'<button onclick="'+successhandle+'" data-bs-dismiss="modal" class="btn btn-primary btn-sm">'+yestxt+'</button>';var content=$('<div class="modal-content animate-pulse-gray"></div>');$(content).append('<main><h4 class="mt-3">'+title+'</h4><p>'+txt+'</p></div>').append('<div class="footer">'+buttons+'</div>');$('#myModal').find('.modal-dialog').empty().append(content);if($('#myModal').find('.header').find('button[data-bs-dismiss]').length==0){$('#myModal').find('.header').append('<button data-bs-dismiss="modal"></button>')}
$('#myModal').on('shown.bs.modal',function(event){AX.start()});$('#myModal').on('hide.bs.modal',function(){});$('#myModal').on('hidden.bs.modal',function(){$('#myModal').remove();$('.modal-backdrop').remove()});const myModal=new bootstrap.Modal('#myModal',{backdrop:'static',keyboard:!1,focus:!0,show:!0});myModal.show()},executeByName=function(name=null,additionalParams=null){try{let functionInfo=[],functionName=null,functionParams=[];if(!name)
return!1;else if(name.indexOf(",")<0){functionName=name;functionParams=[]}else{let functionInfo=name.split(',');functionName=functionInfo[0];for(let i=1;i<functionInfo.length;i++){functionParams.push(functionInfo[i])}}
if(additionalParams){if(additionalParams.indexOf(",")<0){functionParams.push(additionalParams)}else{let addParams=additionalParams.split(',');for(let i=1;i<addParams.length;i++){functionParams.push(addParams[i])}}}
return $.WOLF.helper.executeFunctionByName(functionName,window,functionParams)}catch(e){return catcher('trivia/executeByName',e)}}
standardAjax=function(successhandle,req,_this,neededData){return $.ajax({type:'POST',url:BACKBONE,data:reqData(req,_this,neededData),success:successhandle,error:standardError})},ajaxError=function(msg){return standardError(msg.responseText)},clogs=function(msg,msg2=null,fix=!1){if($('.testMode, .writeMode').length>0){if(!msg2)console.log(msg);else console.log(msg,msg2)}
return},debug=function(msg,msg2=null,fix=!1){var reset=!1;if(showDebug!==!1){if(!msg2)console.log(msg);else console.log(msg,msg2)}
return},fdebug=function(msg,msg2){var reset=!1;if(showDebug==!1){reset=!0;showDebug=!0}
debug(msg,msg2);if(reset==!0)showDebug=!0;return},sdebug=function(msg){if(showDebug==!1)return;var reset=!1;msg='------------------ [ '+msg+' ] ------------------';if(showDebug==!1){reset=!0;showDebug=!0}
debug(msg);if(reset==!0)showDebug=!0;return},catcher=function(section,e){console.log(e);standardError('Error on: '+section)},timer=function(msg){if(showTime!==!1)return console.log(msg);},trigger=function(_triggerObj){return $.WOLF.trigger.refresh(_triggerObj)},extender=function(data={}){return $.extend(data,$.WOLF.admin.data())},reqData=function(req=null,_this=null,neededData=[]){if(!req)return;var data={req:req};if(_this&&neededData.length>0){for(var i=0;i<neededData.length;i++){data[neededData[i]]=$(_this).hasAttr('data-'+neededData[i])?$(_this).attr('data-'+neededData[i]):''}}else{$.extend(data,$(_this).getAttributes())}
return $.extend(data,$.WOLF.admin.data())},redirectHome=function(){return window.location.href=REDIRECT},resetStates=function(){return $('.state-missing, .state-wrong, .state-invalid, .state-focus').removeClass('state-missing state-wrong state-invalid state-focus')},apo=function(value){return value.replace(/'/g,'´')},data2String=function(data={},str=''){$.each(data,function(key,value){str+='&'+key+'='+escape(value)});return str},removeAttributes=function(obj,whitelist=[]){$.each($(obj).getAttributes(),function(key){if($.inArray(key,whitelist)==-1){try{$(obj).removeAttr(key)}catch(e){}}})},changeTag=function(targetSelector,newTagString){$(targetSelector).each(function(){var newElem=$(newTagString,{html:$(this).html()});$.each(this.attributes,function(){newElem.attr(this.name,this.value)});$(this).replaceWith(newElem)})},setWaiter=function(obj='body'){setTimeout(function(){$.WOLF.admin.trans()},timeout);return $.WOLF.admin.trans('#middle',!1)},unsetWaiter=function(){return $.WOLF.admin.trans()},uncamelize=function(str,separator='-'){var str=str.replace(/[A-Z]/g,function(letter){return separator+letter.toLowerCase()});return str.replace("/^"+separator+"/",'')},clickTimeout=function(){return},standardChanger=function(obj,jump=!1){$.WOLF.value.store(obj);if(jump===!0){setTimeout(function(){$.WOLF.jumper.next(!0)},500)}};var xmyModal=function(content,data={}){let options=$.extend({plain:!0,width:600,avatar:null,content:null,personal:!1,title:'One Moment Please!',buttons:'<button type="button" class="btn btn-outline-danger btn-sm" data-bs-dismiss="modal"> O.K. </button>'},data);if($('#myModal').length>0)$('#myModal').remove();var modal=$('<div id="myModal" class="modal fade"></div>'),modalDialog=$('<div class="modal-dialog modal-dialog-centered" style="width:'+options.width+'px;"></div>'),modalContent=$('<div class="modal-content"></div>'),modalHeader=$('<header></header>'),modalBody=$('<main style="padding:1rem 2rem 2.5rem 2rem !important;"></main>'),modalFooter=$('<footer w-100 d-flex flex-row justify-content-around"></footer>'),buttonRow=[],buttons;$(modal).append(modalDialog);$(modalDialog).append(modalContent);if(options.plain!==!0){$(modalContent).append(modalHeader).append(modalBody).append(modalFooter);if(options.title){$(modalHeader).append('<span>'+options.title+'</span>').append('<button class="bi bi-x" data-bs-dismiss="modal"></button>')}else $(modalHeader).remove();$(modalBody).html(content);$(modalFooter).append(options.buttons)}else{$(modalContent).html(content);$(modalContent).find('header').append('<button class="bi bi-x" data-bs-dismiss="modal"></button>')}
$('body').append(modal);$('#myModal').on('show.bs.modal',function(event){$('body').addClass('modal-open')});$('#myModal').on('shown.bs.modal',function(event){AX.start()});$('#myModal').on('hide.bs.modal',function(event){$('body').removeClass('modal-open')});$('#myModal').on('hidden.bs.modal',function(){$('#myModal').remove()});const myModal=new bootstrap.Modal('#myModal',{keyboard:!1,focus:!0,backdrop:!0});myModal.show()}
var xmyAlert=function(content,data={}){let options=$.extend({width:400,avatar:null,content:null,personal:!1,title:'Achtung',buttons:'<button type="button" class="btn btn-outline-danger btn-sm" data-bs-dismiss="modal"> O.K. </button>'},data);if($('#myAlert').length>0)$('#myAlert').remove();let modal=$('<div id="myAlert" class="modal fade"></div>'),modalDialog=$('<div class="modal-dialog modal-dialog-centered" style="width:'+options.width+'px;"></div>'),modalContent=$('<div class="modal-content"></div>'),modalHeader=$('<header></header>'),modalBody=$('<main></main>'),modalFooter=$('<footer></footer>');$(modal).append(modalDialog);$(modalDialog).append(modalContent);$(modalContent).append(modalHeader).append(modalBody).append(modalFooter);if(options.title){$(modalHeader).append('<span>'+options.title+'</span>').append('<div class="bell bi bi-bell-fill" data-bs-dismiss="modal"></div>').append('<button class="bi bi-x" data-bs-dismiss="modal"></button>')}else{$(modalHeader).remove()}
$(modalBody).html(content);$(modalFooter).append(options.buttons);$('body').append(modal);$('#myAlert').on('shown.bs.modal',function(event){AX.start()});$('#myAlert').on('hide.bs.modal',function(){});$('#myAlert').on('hidden.bs.modal',function(){$('#myAlert').remove()});const alertModal=new bootstrap.Modal('#myAlert',{keyboard:!1,focus:!0,backdrop:!1});alertModal.show()}
var xmyConfirm=function(obj,data={}){let options=$.extend({width:400,avatar:null,content:null,title:'Bitte bestätigen .....',txt:'Bist Du sicher?',yes:'O.K.',no:'Abbrechen',},$(obj).data(),data);let successhandle=options.success?options.success:alert('no successhandle available');if($('#confirmModal').length>0)$('#confirmModal').remove();let modal=$('<div id="myConfirm" class="modal fade"></div>'),modalDialog=$('<div class="modal-dialog modal-dialog-centered" style="width:'+options.width+'px;"></div>'),modalContent=$('<div class="modal-content animate-pulse-gray"></div>'),modalHeader=$('<header></header>'),modalBody=$('<main></main>'),modalFooter=$('<footer></footer>'),buttons='<button data-bs-dismiss="modal" class="btn btn-outline-danger btn-sm">'+options.no+'</button>'+'<button onclick="'+successhandle+'" data-bs-dismiss="modal" class="btn btn-primary btn-sm ms-auto">'+options.yes+'</button>';$('body').append(modal);$(modal).append(modalDialog);$(modalDialog).append(modalContent);$(modalContent).append(modalHeader).append(modalBody).append(modalFooter);$(modalHeader).append('<span>'+options.title+'</span>').append('<div class="bell bi bi-bell-fill" data-bs-dismiss="modal"></div>').append('<button class="bi bi-x" data-bs-dismiss="modal"></button>');$(modalBody).append(options.txt);$(modalFooter).append(buttons);$('body').append(modal);$('#myConfirm').on('shown.bs.modal',function(event){AX.start()});$('#myConfirm').on('hide.bs.modal',function(){});$('#myConfirm').on('hidden.bs.modal',function(){$('#myConfirm').remove()});const confirmModal=new bootstrap.Modal('#myConfirm',{keyboard:!1,focus:!0,backdrop:!0});confirmModal.show()};var Proof={required:function(control,value=null){try{if(($(control).hasAttr('required')||$(control).hasAttr('data-required')||$(control).find('[required]').length>0||$(control).find('[data-required]').length>0)&&!value)return!1;else return!0}catch(e){return'no val at req'}},format:function(control,format,value){if(!value||!format)return!0;switch(format){case 'email':var email=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return email.test(value);break;case 'weblink':if(value.substring(0,5)!='https'&&value.substring(0,4)!='http'){value='http://'+value;$(control).val(value)}
var pattern=new RegExp('^(https?:\\/\\/)?'+'((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|'+'((\\d{1,3}\\.){3}\\d{1,3}))'+'(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*'+'(\\?[;&a-z\\d%_.~+=-]*)?'+'(\\#[-a-z\\d_]*)?$','i');return!!pattern.test(value);break;case 'int':if(value==parseInt(value))return!0;Value.set(control,parseInt(value));if(Value.get(control)==Value.get(parseInt(control)))return!0;else return!1;break;case 'number':return isNaN(value)?!1:!0;break;case 'diglet':var digLett=/^[a-zA-Z0-9]*$/;return digLett.test(value);break;default:return!0;break}},check:function(control){if(Object.prototype.toString.call(control)=='[object String]'){control=$('[name='+control+']')}
var val=Value.get(control),valtype=$(control).attr('data-type');return Proof.format(control,valtype,val)},missing:function(control){if(Object.prototype.toString.call(control)=='[object String]'){control=$('[name='+control+']')}
var val=Value.get(control);return Proof.required(control,val)}}
var Value={type:function(variable){if($('[name='+variable+']:first').is(':radio'))return'radio';else if($('[name='+variable+']:first').is(':checkbox'))return'checkbox';else if($('[name='+variable+']:first').is(':text'))return'text';else if($('[name='+variable+']:first').is('textarea'))return'textarea';else return'undefined'},get:function(obj){var val;if(Object.prototype.toString.call(obj)=='[object String]'){obj=$('[name='+obj+']')}
function wrapName(name){return name.replace(/\[\]$/,'')}
function valRadio(obj){let selectedValue=$('input[name="'+$(obj).attr('name')+'"]:checked').val();return selectedValue||''}
function valFile(obj){let selectedValue=$('input[name="'+$(obj).attr('name')+'"]').attr('data-value');return selectedValue||''}
function valCheckbox(obj){let selectedValues=$('input[name="'+$(obj).attr('name')+'"]:checked').map(function(){return this.value}).get().join(',');return selectedValues}
function valSelect(obj){return $(obj).val()}
function valColorpicker(obj){return $(obj).val()}
if($(obj).hasClass('colorpicker')){return valColorpicker(obj)}else if($(obj).is(':file'))return valFile(obj);else if($(obj).is(':radio'))return valRadio(obj);else if($(obj).is(':checkbox'))return valCheckbox(obj);else if($(obj).attr('type')=='email')return $(obj).val();else if($(obj).is(':file'))return $(obj).hasAttr('data-value')?$(obj).attr('data-value'):null;else if($(obj).is('input:text')||$(obj).is('input:hidden')||$(obj).is('input:password'))return $(obj).val();else if($(obj).hasClass('medium-editor')){return MediumEditor.getEditorFromElement(document.getElementById($(obj).attr('name'))).getContent()}else if($(obj).is('textarea')&&$(obj).hasClass('wolfieditor'))return $(obj).summernote('code').trim();else if($(obj).is('textarea'))return $(obj).val();else if($(obj).is('select'))return valSelect(obj);},setDateRange:function(obj){if(Object.prototype.toString.call(obj)=='[object String]'){obj=$('[name='+obj+']')}
var dates=$(obj).val().split(' - '),startInput=$('#'+$(obj).data('outputStart')),endInput=$('#'+$(obj).data('outputEnd'));if(dates.length==2){$(startInput).val(dates[0]);$(endInput).val(dates[1])}
return},getDateRange:function(obj){if(Object.prototype.toString.call(obj)=='[object String]'){obj=$('[name='+obj+']')}},set:function(obj,value,append){var val;if(Object.prototype.toString.call(obj)=='[object String]'){obj=$('[name='+obj+']')}
function valFile(obj,value){$(obj).attr('data-value',value);if($(obj).closest('fieldset').length>0){$(obj).closest('fieldset').find('.control').css('background-image','url("'+value+'")')}}
function valRadio(obj,value){$('input[name="'+$(obj).attr('name')+'"][value="'+value+'"]').prop('checked',!0)}
function valCheckbox(obj,value){function checkValues(obj,valuesArray){valuesArray.forEach(function(val){$('input[name="'+$(obj).attr('name')+'"][value="'+val+'"]').prop('checked',!0)})}
$('input[name="'+$(obj).attr('name')+'"]').prop('checked',!1);if(typeof value==='string'){let valuesArray=value.split(',').map(Number);checkValues(obj,valuesArray)}else if(Number.isInteger(value)){checkValues(obj,[value])}
return}
function valSelect(obj,value){$(obj).val(value);if(!$(obj).hasClass('chosen-select'))$(obj).selectpicker('refresh');}
function valColorpicker(obj,value){$(obj).val(value);$(obj).spectrum("set",value)}
if($(obj).hasClass('colorpicker')){return valColorpicker(obj,value)}else if($(obj).is('input:checkbox')){return valCheckbox(obj,value)}else if($(obj).is('input:radio')){return valRadio(obj,value)}else if($(obj).is('input:file')){return valFile(obj,value)}else if($(obj).is('input')){return $(obj).val(value)}else if($(obj).is('input:hidden')){return $(obj).val(value)}else if($(obj).hasClass('medium-editor')){return MediumEditor.getEditorFromElement(obj).setContent(value)}else if($(obj).is('textarea')&&$(obj).hasClass('wolfieditor')){return $(obj).summernote('code',value)}else if($(obj).is('textarea')){return $(obj).val(value)}else if($(obj).is('select.chosen-select')){return valSelect(obj,value)}else if($(obj).is('select')){return valSelect(obj,value)}
return},fromSelect:function(name){return $('[name='+name+'] option:selected').text()},collect:function(obj,collectObj={}){var area;if(!obj&&$(obj).closest('.form').length==0)area='body';else area=$(obj);$(area).find('[data-variable]').each(function(){let newValue=Value.get($(this).attr('data-variable'));collectObj[$(this).attr('data-variable')]=newValue});return collectObj},checkCheckradio:function(id,check=!0){$(id).prop('checked',check).attr('checked',check);return},proof:function(obj){$('.is-missing').removeClass('is-missing');$('.has-error').removeClass('has-error');var fields=[],missingValues=0,errorValues=0;$.each($(obj).closest('.form').find('[data-variable]'),function(){if($(this).hasAttr('required')||$(this).hasAttr('data-required')){if(jQuery.inArray($(this).attr('name'),fields)<0)fields.push($(this).attr('name'));}});for(var i=0;i<fields.length;i++){var key=fields[i];if(!Value.get(key)){missingValues++;$('[name='+key+']').addClass('is-missing');if($('[name='+key+']').closest('.form-selector, .form-radio, .form-checkbox').length>0){$('[name='+key+']').parent().addClass('is-missing')}}};$.each($('.is-missing'),function(){$(this).on('change',function(){self=this;$(self).closest('.is-missing').removeClass('is-missing');$('[name="'+$(self).attr('name')+'"]').each(function(){$(this).removeClass('is-missing');$(this).closest('.is-missing').removeClass('is-missing')})})});return missingValues},}
var Err={animIn:"fadeIn",animOut:"fadeOutUp",icon:"",color:"#770000",findfirst:function(){$('.has-error:first').css('background','red').select()},statusProove:function(obj,label,bool){if(bool==!0){$(label).addClass('prooving');$(obj).attr('disabled',!0);$(obj).css('opacity',0.25);if($(label).find('.proovespin').length==0){$(label).prepend('<i class="glyphicon glyphicon-refresh gly-spin proovespin"></i>')}}else{setTimeout(function(){$(label).removeClass('prooving');$(obj).removeAttr('disabled');$(obj).css('opacity',1);$(label).find('.proovespin').remove()})}},show:function(variable,message,type,afterType){function addNotifier(obj,notifyManager){$(obj).addClass('has-error').append(notifyManager);if($(obj).closest('.answerarea').length>0)$(obj).closest('.answerarea').addClass('has-error');return}
if(!type)type=1;if(!afterType)afterType=1;if(type==1){$('[name='+variable+']').closest('section').addClass('hasError');$('[name='+variable+']').bind('click focus change',function(){Err.hide($(this).closest('section'),variable)});$('[name='+variable+']').on('shown.bs.select',function(e){Err.hide($(this).closest('section'),variable)})}else if(type==2){if($('div.additionalInfobubble[for='+variable+']').length>0)return;var notifyManager='<div data-placement="left" data-toggle="tooltip" title="'+message+'" for="'+variable+'" class="additionalInfobubble animated '+Err.animIn+'"><i style="color:'+Err.color+'" class="'+Err.icon+' errTip" ></i></div>';if($('[name='+variable+']:first').closest('.control-radiocheck').length>0){addNotifier($('[name='+variable+']:first').closest('.control-radiocheck'),notifyManager);$('[name='+variable+']').bind('click',function(){Err.hide($(this).closest('label.control-radiocheck'),variable)})}else if($('[name='+variable+']').closest('label.control-input').length>0){addNotifier($('[name='+variable+']').closest('label.control-input'),notifyManager);$('[name='+variable+']').bind('focus',function(){Err.hide($(this).closest('label.control-input'),variable)})}else if($('[name='+variable+']').closest('label.control-select').length>0){addNotifier($('[name='+variable+']').closest('label.control-select'),notifyManager);$('[name='+variable+']').on('shown.bs.select',function(e){Err.hide($(this).closest('label.control-select'),variable)})}
$('[data-toggle="tooltip"]').tooltipster({theme:'tooltipster-Light',side:'left'})}
Err.afterShow(afterType);return},afterShow:function(){return},hide:function(obj,variable){$('div.additionalInfobubble[for='+variable+']').removeClass(Err.animIn).addClass(Err.animOut);setTimeout(function(){$('div.additionalInfobubble[for='+variable+']').remove()},600);$(obj).removeClass('hasError');$(obj).closest('.has-error').removeClass('has-error');return},reset:function(){$('div.additionalInfobubble').removeClass(Err.animIn).addClass(Err.animOut);$('div.additionalInfobubble').remove();$('.has-error, .hasError').removeClass('has-error hasError');return}}
function valueInteger(field,val){var OK1=val.match(/^[\d]{1,50}$/);if(!OK1)return!1;else return!0}
function valueLetters(field,val){var OK1=val.match(/^[\w]{1,50}$/);if(!OK1)return!1;else return!0}
function valueLettersDigits(field,val){var OK1=val.match(/^[\w\d]{1,50}$/);if(!OK1)return!1;else return!0}
function valueLettersDigitsSpaces(field,val){var OK1=val.match(/^[\w\d\s]{1,50}$/);if(!OK1)return!1;else return!0}
function valueLettersDigitsSpecials(field,val){var OK1=val.match(/^[\w\d\.\_\-\,\@]{1,50}$/);if(!OK1)return!1;else return!0}
function valueLettersDigitsSpacesSpecials(field,val){var OK1=val.match(/^[\w\d\.\_\-\,\@]{1,50}$/);if(!OK1)return!1;else return!0}
function valueEmail(field,val){var OK=val.match(/^.+@.+\..+$/);if(!OK&&val)return!1;else return!0}
function valueName(field,val){try{return XRegExp('^[\\p{L}\\s\\-]{4,100}$').test(val)}catch(e){return!0}}
var test;function isValue(value){if(value)return!0;else return!1}
function req_value(s){test=/^.+$/;return String(s).search(test)!=-1}
function len_fix(s,n){if(s.length==n)return!0;else return!1}
function len_min(s,n){if(s.length>=n)return!0;else return!1}
function len_max(s,n){if(s.length<=n)return!0;else return!1}
function len_minmax(s,n,m){if(s.length>=n&&s.length<=m)return!0;else return!1}
function int_value(s){test=/^(\-)?\d+$/;return String(s).search(test)!=-1}
function int_neg(s){test=/^(\-){1}\d+$/;return String(s).search(test)!=-1}
function int_pos(s){test=/^\d+$/;return String(s).search(test)!=-1}
function int_min(s,min){if(parseInt(s)>=parseInt(min))return!0;else return!1}
function int_greater(s,min){if(parseInt(s)>parseInt(min))return!0;else return!1}
function int_max(s,max){if(parseInt(s)<=parseInt(max))return!0;else return!1}
function int_lower(s,max){if(parseInt(s)<parseInt(max))return!0;else return!1}
function txt_email(s){var test=/^[\w\-\+_]+(\.[\w\-\+_]+)*\@[\w\-\+_]+\.[\w\-\+_]+(\.[\w\-\+_]+)*$/;return String(s).search(test)!=-1}
function txt_userpass(s){test=/^[\w\d]{4,8}$/;return String(s).search(test)!=-1}
function txt_alle(s,n){try{return XRegExp('^[\\p{L}\\s\\-]+$').test(n)}catch(e){return!0}}
function same_field(s,c){if(s===$('#'+c).val())return!0;else return!1}
function same_value(s,c){if(s===c)return!0;else return!1}
function txt_notallowed(s,n){var err=0;for(var i=0;i<n.length;i++){if(n.charAt(i)==1){test=/[a-z]+/;if(String(s).search(test)>-1){err++;break}}else if(n.charAt(i)==2){test=/[A-Z]+/;if(String(s).search(test)>-1){err++;break}}else if(n.charAt(i)==3){test=/[0-9]+/;if(String(s).search(test)>-1){err++;break}}else if(n.charAt(i)==4){test=/_+/;if(String(s).search(test)>-1){err++;break}}else if(n.charAt(i)==5){test=/\*+/;if(String(s).search(test)>-1){err++;break}}else if(n.charAt(i)==6){test=/#+/;if(String(s).search(test)>-1){err++;break}}else if(n.charAt(i)==7){test=/\"'+/;if(String(s).search(test)>-1){err++;break}}else if(n.charAt(i)==8){test=/\'+/;if(String(s).search(test)>-1){err++;break}}else if(n.charAt(i)==9){test=/\s+/;if(String(s).search(test)>-1){err++;break}}else{if(s.indexOf(n.charAt(i))>-1){err++;break}}}
if(err>0)return!1;else return!0}
function txt_allowed(s,n){controlle=s;for(var i=0;i<n.length;i++){if(n.charAt(i)==1)controlle=controlle.replace(/[a-z]/g,"");else if(n.charAt(i)==2)controlle=controlle.replace(/[A-Z]/g,"");else if(n.charAt(i)==3)controlle=controlle.replace(/[0-9]/g,"");else if(n.charAt(i)==4)controlle=controlle.replace(/_/g,"");else if(n.charAt(i)==5)controlle=controlle.replace(/\*/g,"");else if(n.charAt(i)==6)controlle=controlle.replace(/#/g,"");else if(n.charAt(i)==7)controlle=controlle.replace(/\"/g,"");else if(n.charAt(i)==8)controlle=controlle.replace(/\'/g,"");else if(n.charAt(i)==9)controlle=controlle.replace(/\s/g,"");else{var teststring='';for(j=0;j<controlle.length;j++){if(controlle.charAt(j)!=n.charAt(i))teststring+=controlle.charAt(j);}
controlle=teststring}}
if(controlle.length>0){return!1}else return!0}
function valueBetween(field,val,cond){var condArray=cond.split("|");var condition=[];var e=0;for(var i=0;i<condArray.length;i++){condition=condArray[i].split("=");if(condition[0]==='min'&&parseFloat(val)<parseFloat(condition[1]))e++;else if(condition[0]==='max'&&parseFloat(val)>parseFloat(condition[1]))e++}
if(e>0)return!1;else return!0}
function valueSame(val1,val2){if(val1!=val2)return!1;else return!0}
function splitOf(str){return str.split(/\|/)}
function noPlus(w,f){if(w.indexOf("+")>=0){w=w.replace(/\+/g,'');$('#'+f).val(w)}}
function testValidators(){var validatFields=$("[id^=item_]");var validationList=[];var validatItem=[];var validatTest=[];var validatMessage=[];$('[id^=item_]').each(function(){if($(this).attr('validator')){try{info=$(this).attr('validator').split('*');for(var x=0;x<info.length;x++){if(info[x].length>0){details=info[x].split('#');if(details.length>1){validator={};validator.wert=trim($(this).val());validator.feld=$(this).attr('id');validator.test=details[0];validator.message=details[1];validator.error=!0;validationList.push(validator)}}}}catch(err){}}});for(var i=0;i<validationList.length;i++){if(validationList[i].test.substring(0,3)==='req'){validationList[i].error=req_value(validationList[i].wert)}else if(validationList[i].test.substring(0,3)==='int'){noPlus(validationList[i].wert,validationList[i].feld);splitter=splitOf(validationList[i].test);if(splitter.length>1){if(splitter[1]==='min')validationList[i].error=int_min(validationList[i].wert,splitter[2]);else if(splitter[1]==='greater')validationList[i].error=int_greater(validationList[i].wert,splitter[2]);else if(splitter[1]==='max')validationList[i].error=int_max(validationList[i].wert,splitter[2]);else if(splitter[1]==='lower')validationList[i].error=int_lower(validationList[i].wert,splitter[2]);else if(splitter[1]==='pos')validationList[i].error=int_pos(validationList[i].wert);else if(splitter[1]==='neg')validationList[i].error=int_neg(validationList[i].wert);}else validationList[i].error=int_value(validationList[i].wert)}else if(validationList[i].test.substring(0,3)==='len'){splitter=splitOf(validationList[i].test);if(splitter.length>1){if(splitter[1]==='fix')validationList[i].error=len_fix(validationList[i].wert,splitter[2]);else if(splitter[1]==='min')validationList[i].error=len_min(validationList[i].wert,splitter[2]);else if(splitter[1]==='max')validationList[i].error=len_max(validationList[i].wert,splitter[2]);}}else if(validationList[i].test.substring(0,4)==='same'){splitter=splitOf(validationList[i].test);if(splitter.length>1){if(splitter[1]==='f')validationList[i].error=same_field(validationList[i].wert,splitter[2]);else if(splitter[1]==='v')validationList[i].error=same_value(validationList[i].wert,splitter[2]);}}else if(validationList[i].test.substring(0,3)==='txt'){splitter=splitOf(validationList[i].test);if(splitter.length>1){if(splitter[1]==='allowed')validationList[i].error=txt_allowed(validationList[i].wert,splitter[2]);else if(splitter[1]==='notallowed')validationList[i].error=txt_notallowed(validationList[i].wert,splitter[2]);else if(splitter[1]==='userpass')validationList[i].error=txt_userpass(validationList[i].wert);else if(splitter[1]==='email')validationList[i].error=txt_email(validationList[i].wert);}}}
var errors=0;var firstErrorfield="";var firstErrortitle="";for(var j=0;j<validationList.length;j++){if(validationList[j].error==!1){errors++;if(firstErrorfield===""){firstErrorfield=validationList[j].feld;firstErrortitle=validationList[j].message}}}
if(errors>0){if(firstErrormethod==1){showErrortip(firstErrorfield,firstErrortitle)}else if(firstErrormethod==2){jAlert(firstErrortitle,'Error',function(){$('#'+firstErrorfield).focus()})}else if(firstErrormethod==3){alert(firstErrortitle);$('#'+firstErrorfield).focus()}else if(firstErrormethod==4){toolErrortip(firstErrorfield,firstErrortitle)}
return!1}else return!0};var Checker={init:function(area='body'){var objects=$(area).find('[data-variable]');$(objects).each(function(){$(this).Jumper()});$(objects).each(function(){$(this).bind('change blur',function(){$(this).closest('fieldset').removeClass('isFocussed')});$(this).bind('focus select',function(){$(this).closest('fieldset').addClass('isFocussed')})});$(area).find('[data-variable]').eq(0).focus()},jumpNext:function(){},mark:function(fset,type){var icon_attention='<svg class="fieldset_icon" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" xml:space="preserve"><g style="background:yellow;"><path fill="red" d="M501.35,369.069L320.565,66.266c-13.667-23.008-37.805-36.749-64.567-36.749c-26.762,0-50.9,13.741-64.567,36.749 L10.662,369.069c-13.96,23.492-14.224,51.706-0.719,75.462c13.536,23.771,37.922,37.951,65.27,37.951h361.57 c27.348,0,51.736-14.18,65.27-37.951C515.56,420.776,515.296,392.561,501.35,369.069z M255.999,122.094 c16.587,0,30.032,13.445,30.032,30.032v120.13c0,16.585-13.445,30.032-30.032,30.032c-16.587,0-30.032-13.448-30.032-30.032 v-120.13h0C225.966,135.539,239.412,122.094,255.999,122.094z M255.999,422.417c-24.841,0-45.049-20.208-45.049-45.049 c0-24.841,20.208-45.049,45.049-45.049c24.841,0,45.049,20.208,45.049,45.049C301.047,402.21,280.84,422.417,255.999,422.417z"/></g></svg>',icon_warning='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 451.74 451.74" style="height:2rem;width:2rem;" xml:space="preserve"><path style="fill:#FF0000;" d="M446.324,367.381L262.857,41.692c-15.644-28.444-58.311-28.444-73.956,0L5.435,367.381 c-15.644,28.444,4.267,64,36.978,64h365.511C442.057,429.959,461.968,395.825,446.324,367.381z"/><path style="fill:#eeeeee;" d="M225.879,63.025l183.467,325.689H42.413L225.879,63.025L225.879,63.025z"/><g><path style="fill:#000;" d="M196.013,212.359l11.378,75.378c1.422,8.533,8.533,15.644,18.489,15.644l0,0 c8.533,0,17.067-7.111,18.489-15.644l11.378-75.378c2.844-18.489-11.378-34.133-29.867-34.133l0,0 C207.39,178.225,194.59,193.87,196.013,212.359z"/><circle style="fill:#000;" cx="225.879" cy="336.092" r="17.067"/></g></svg>',icon_halt='<svg style="width:24px;height:24px;" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" xml:space="preserve"><g><path d="M256,0C114.844,0,0,114.844,0,256s114.844,256,256,256s256-114.844,256-256S397.156,0,256,0z M256,448 c-105.865,0-192-86.135-192-192c0-40.406,12.25-78.604,35.542-111.198l267.656,267.656C334.604,435.75,296.406,448,256,448z M412.458,367.198L144.802,99.542C177.396,76.25,215.594,64,256,64c105.865,0,192,86.135,192,192 C448,296.406,435.75,334.604,412.458,367.198z"/></g></svg>';$(fset).append(icon_warning);return},unmark:function(fset){$(fset).find('svg').fadeOut()},check:function(obj,fix=!1){return!1},};(function($){$.fn.Jumper=function(){function mark(obj){if($(obj).is(':radio')){$(obj).closest('fieldset').addClass('isFocussed');$(obj).closest('fieldset').find('label').attr('checked',!0)}else if($(obj).is('button')){$(obj).closest('fieldset').addClass('isFocussed');$(obj).click()}else{$(obj).closest('fieldset').addClass('isFocussed');$(obj).focus()}
alert('myValidator mark')}
var downKeys=[13,9,40];var upKeys=[38,8];return this.bind('keyup',function(e){if(jQuery.inArray(e.which,downKeys)>-1){mark($(':input:eq('+($(':input').index(this)+1)+')'))}else if(jQuery.inArray(e.which,upKeys)>-1){mark($(':input:eq('+($(':input').index(this)-1)+')'))}})}}(jQuery));var Validator={master:'.site',list:{},results:{},sites:{},mark:function(fset,type){var icon='<svg class="warning" style="height:24px;z-index:65000;position:absolute;top:-12px;left:-12px;" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve"><g style="background:yellow;"><path fill="red" d="M501.35,369.069L320.565,66.266c-13.667-23.008-37.805-36.749-64.567-36.749c-26.762,0-50.9,13.741-64.567,36.749 L10.662,369.069c-13.96,23.492-14.224,51.706-0.719,75.462c13.536,23.771,37.922,37.951,65.27,37.951h361.57 c27.348,0,51.736-14.18,65.27-37.951C515.56,420.776,515.296,392.561,501.35,369.069z M255.999,122.094 c16.587,0,30.032,13.445,30.032,30.032v120.13c0,16.585-13.445,30.032-30.032,30.032c-16.587,0-30.032-13.448-30.032-30.032 v-120.13h0C225.966,135.539,239.412,122.094,255.999,122.094z M255.999,422.417c-24.841,0-45.049-20.208-45.049-45.049 c0-24.841,20.208-45.049,45.049-45.049c24.841,0,45.049,20.208,45.049,45.049C301.047,402.21,280.84,422.417,255.999,422.417z"/></g></svg>';$(fset).append(icon);return},unmark:function(fset){$(fset).find('svg').fadeOut()},check:function(obj,fix=!1){return!1},init:function(obj){Validator.list={};Validator.results={};Validator.sites={};$(".site").map(function(index){console.log('site',index);Validator.sites[index]=new Array;var self=this;$(self).attr('data-master-id',index);$(self).find('[data-variable]').map(function(J){Validator.sites[index].push($(this).attr('data-variable'))})});var objects,i=1;if($(obj).hasAttr('data-variable')==!0){objects=$(obj).find('[data-variable]').addBack()}else{objects=$(obj).find('[data-variable]')}
$(objects).each(function(){var name=$(this).attr('data-variable');if(name&&!Validator.list[name]){Validator.list[name]={rank:i++,result:Value.get(name),errors:[],required:!1,type:null,valid:null};if($(this).attr('data-v-required')==!0||$(this).attr('required')){Validator.list[name].required=!0}
if($(this).hasAttr('data-v-type')){Validator.list[name].type=$(this).attr('data-v-type')}
if($(this).hasAttr('data-v-valid')){Validator.list[name].valid=$(this).attr('data-v-valid')}}});console.log('List',Validator.list);console.log('result',Validator.reslut);console.log('sites',Validator.sites);return},errors:function(){return{required:[],wrong:[],invalid:[]}},form_empty:/^$/,format_mail:/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/,format_web:/^(http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/)?[a-z0-9]+([\-\.]{1}[a-z0-9]+)*\.[a-z]{2,5}(:[0-9]{1,5})?(\/.*)?$/,format_int:/^\d$/,mark:function(obj,type,text){},start:function(obj){$.each(Validator.list,function(key,value){console.log(key);if(value.required==!0){if(!Value.get(key)){Validator.list[key].errors.push('missing')}}
if(value.type){if(Validator.test_type(key,value.type)==!1){Validator.list[key].errors.push('type')}}
if(value.valid){}});Validator.end()},test_type:function(objname,testinfo){switch(testinfo){case 'email':return($('[name='+objname+']').val().match(Validator.format_mail)?!0:!1);break;case 'web':var current=Value.get(objname);if(current&&current.startsWith("http://")==!1&&current.startsWith("https://")==!1)Value.set(objname,'http://'+current);return($('[name='+objname+']').val().match(Validator.format_web)?!0:!1);break;case 'int':var current=Value.get(objname);current.replace(/^0/g,'');Value.set(current.replace(/D/g,''));return($('[name='+objname+']').val().match(Validator.format_int)?!0:!1);break;default:return!0;break}},test_valid:function(obj){},end:function(obj){console.log('result',Validator.list)}}
function test_errors(obj){obj=obj;console.log('start testing: ',obj);test_required(obj);test_must(obj);test_valid(obj)}
function test_must(name){console.log('test_must: ',obj)}
function test_required(obj){console.log('test_must: ',obj)}
function test_valid(obj){console.log('test_vlid: ',obj)};var brands=null;$.WOLF.brand={checkBranding:function(mode=null){$('body').removeClass('isBranded');if(!brands)brands=jQuery.parseJSON($.trim($('#brandingJSON').text()));if(!brands||!mode)return;var currentBrand=$('#admin_seminarbrand').val();if(mode=='admin'&&brands&&brands.admin&&brands.admin.branding&&(brands.admin.branding=="true"||brands.admin.branding==!0)){$.GERHARD.showAdminBrand(brands.admin)}else if(mode=='seminar'&&currentBrand&&brands&&brands[currentBrand]&&(brands[currentBrand].branding=="true"||brands[currentBrand].branding==!0)){$.GERHARD.showSeminarBrand(brands[currentBrand])}else if(mode=='admin')this.resetAdminBrand();else if(mode=='seminar')this.resetSeminarBrand();return},showAdminBrand:function(logos){var CO=null,MAIN=null;if(logos&&logos.co)CO=logos.co;if(logos&&logos.main)MAIN=logos.main;if(MAIN!=null)$('.brandContainer.brand_main').find('img').attr('src','/branding/media/'+MAIN);if(CO!=null)$('.brandContainer.brand_co').find('img').attr('src','/branding/media/'+CO);return},showSeminarBrand:function(logos){var CO=null,MAIN=null;if(logos&&logos.co)CO=logos.co;if(logos&&logos.main)MAIN=logos.main;if(CO==null)$('.coBox').hide();else $('.coBox').show();if(MAIN==null)$('.mainBox').hide();else $('.mainBox').show();$('body').addClass('isBranded');return},resetAdminBrand:function(){},resetSeminarBrand:function(){}};$.WOLF.modalstuff={toggler:function(obj){let _this=$(obj).closest('.masterBox'),isAktive=$(_this).hasClass('aktive')?!0:!1;$('.list-group-item.aktive .answerField').velocity("slideUp",{duration:300});$('.list-group-item.aktive').removeClass('aktive');if(isAktive==!1){$(_this).find('.answerField').velocity("slideDown",{duration:300,complete:function(){$(_this).addClass('aktive')}})}},toggleBrief:function(obj){$(obj).closest('section').toggleClass('aktive')},startSorter:function(){let thisSite=$('[data-self-site]');let SELFSITE=$(thisSite).attr('data-self-site');let stopper=!1;function saveRanking(type){let rankKat=[],rankQuest=[],rank=[],i=0,j=0;$('.myKategory > .list-group-item').each(function(){let kat=$(this).data('katid');rank[i]={'id':kat,'items':[]};_self=this;$(_self).find('.list-group-item').each(function(){let handbuch=$(this).data('handbuchid');rank[i].items.push(handbuch)});i++});let successhandle=function(response){console.log(stopper);if(stopper==!1){stopper=!0;standardSuccess(response);setTimeout(function(){stopper=!1},1000);return}},data=$.extend(AX.data(),{req:'site',action:'reorder',site:SELFSITE,rank:rank,rankkat:rankKat,rankquest:rankQuest});return jQuery.ajax({type:'POST',url:BACKBONE,data:data,success:successhandle,error:standardError})}
$('.myKategory').each(function(){$(this).sortable({group:'kats',animation:150,onSort:function(evt){return saveRanking('Kategorien')}})});$('.myQuestions').each(function(){$(this).sortable({group:'questions',animation:150,onSort:function(evt){return saveRanking('Fragenabfolge')}})})},editStaff:function(obj,selfsite=null){if(!obj)return;let SELFSITE=$(obj).closest('[data-self-site]').attr('data-self-site');if(!SELFSITE)return;let isEdit=!Value.get('id')?!1:!0;var successhandle=function(response){if(response==-2)return standardError();Tool.reset_all($('.form'));if(isEdit==!0)standardSuccess('Stammdaten des Mitarbeiters wurden erfolgreich geändert!');else standardSuccess('Mitarbeiter wurde erfolgreich hinzugefügt!');if($('.modal').length>0)$('.modal').modal('hide');return AX.site(SELFSITE,'show')}
Tool.reset_all($('.form'));if(!Value.get('fullname'))return errorTip($('#fullname'),'Bitte einen vollständigen Namen oder ein A.K.A. eintragen');if(!Value.get('usertype'))return errorTip($('#usertype_0').closest('.control'),'Bitte eine Rolle auswählen');if(Value.proof(obj)>0){return standardError('There are some values missing!')}
var itemlist=Value.collect('#staff_edit');var data=$.extend(AX.data(),{req:'site',assistenz:1,site:selfsite,action:'add',fields:itemlist});jQuery.ajax({type:'POST',url:BACKBONE,data:data,success:successhandle,error:standardError});return},adaptBriefingLabels:function(obj){var val=Value.get('typus');if(val==1){$('label[for=headline]').text('Betrifft / Headline');$('label[for=media]').text('Veröffentlicht in ...')}else if(val==2){$('label[for=headline]').text('Subject');$('label[for=media]').text('Email von (optional)')}else if(val==3){$('label[for=headline]').text('Betrifft');$('label[for=media]').text('Quelle / Bereich')}else if(val==0){$('label[for=headline]').text('Untertiel');$('label[for=media]').text('Headline')}},updateBriefing:function(obj,chapter=null){var isEdit=!0;if(!Value.get('id'))isEdit=!1;var successhandle=function(response){if(response==-2)return standardError();$.WOLF.tooltip.reset_all($('#info_formular'));if(isEdit==!0)standardSuccess('Briefing wurde erfolgreich geändert!');else standardSuccess('Neue Rundeninformation wurde erfolgreich hinzugefügt!');$('#myModal').modal('hide');return $('#info_innerlist').empty().html(response)}
$.WOLF.tooltip.reset_all($('#info_formular'));if(!Value.get('project')){return Tool.set($('#project_0'),'Bitte eine Runde für das Briefing angeben')}
if(!Value.get('period')){return Tool.set($('#period_0'),'Bitte eine Periode definieren')}
if(!Value.get('typus')){return Tool.set($('#typus'),'Bitte den Typ der Anweisung eingeben')}
if(!Value.get('information')){return Tool.set($('#information'),'Bitte eine klare Arbeitsanweisung für diese Periode / Runde eingeben')}
var itemlist=Value.collect('#info_formular');var data=$.extend(AX.data(),{req:'site',action:'update',site:chapter,fields:itemlist});return jQuery.ajax({type:'POST',url:BACKBONE,data:data,success:successhandle,error:standardError})},updateKennzahl:function(obj,toSite=null){var isEdit=!0;if(!Value.get('id'))isEdit=!1;if(!toSite)return;let successhandle=function(response){if(response==-1)return $.WOLF.tooltip.set($('#kurz'),'Die eingegebene Kurzbezeichnung ist bereits in Verwendung!');else if(response==-2)return standardError();else{if(isEdit==!0)standardSuccess('Kennzahl wurde erfolgreich geändert!');else standardSuccess('Die neue Kennzahl wurde erfolgreich hinzugefügt!');$('#myModal').modal('hide');$('#info_innerlist').empty().html(response);return AX.start()}}
$.WOLF.tooltip.reset_all($('#info_formular'));if(!Value.get('kurz')){return $.WOLF.tooltip.set($('#kurz'),'Bitte Kurzbezeichnung eintragen')}
if(!Value.get('kenn')){return $.WOLF.tooltip.set($('#kenn'),'Bitte vollständige Bezeichnung der Kennzahl angeben')}
if(!Value.get('lang')){return $.WOLF.tooltip.set($('#lang'),'Bitte um eine Beschreibung der Kennzahl')}
var itemlist=Value.collect('#info_formular');itemlist.lang=$.deWrap($('#lang').summernote('code'));let text=itemlist.kurz;itemlist.initial=text.charAt(0).toUpperCase();return jQuery.ajax({type:'POST',url:BACKBONE,data:$.extend(AX.data(),{req:'site',action:'update',site:toSite,fields:itemlist}),success:successhandle,error:standardError})},updateFAQ:function(obj,toSite=null){var isEdit=!0;if(!Value.get('id'))isEdit=!1;let successhandle=function(response){if(response==-2)return standardError();$.WOLF.tooltip.reset_all($('#info_formular'));if(isEdit==!0)standardSuccess('F.A.Q. wurde erfolgreich geändert!');else standardSuccess('Neue F.A.Q. wurde erfolgreich hinzugefügt!');$('#myModal').modal('hide');return $('#info_innerlist').empty().html(response)}
$.WOLF.tooltip.reset_all($('#info_formular'));if(!Value.get('kat')){return $.WOLF.tooltip.set($('#kat'),'Bitte einen Fragekomplex angeben')}
if(!Value.get('frage')){return $.WOLF.tooltip.set($('#frage'),'Bitte eine Frage definieren')}
if(!Value.get('antwort')){return $.WOLF.tooltip.set($('#antwort'),'Bitte eine schlüssige Antwort auf die Frage eingeben')}
var itemlist=Value.collect('#info_formular');return jQuery.ajax({type:'POST',url:BACKBONE,data:$.extend(AX.data(),{req:'site',action:'update',site:toSite,fields:itemlist}),success:successhandle,error:standardError})},deleteKat:function(thisSite){if(!$('#delkat').val()){standardError('Bitte eine Kategorie zum Löschen auswählen');return $('#delkat').select()}
let successhandle=function(response){if(response==-1)return standardError('Diese Kategoie ist derzeit in Verwendung! Lösche zuerst die Fragen aus dieser Kategorie');if(response=='error')return standardError();standardSuccess('Kategorie wurde erfolgreich gelöscht!');$('#info_innerlist').empty().html(response);Stuff.startSorter();$('#myModal').modal('hide');setTimeout(function(){return AX.site(thisSite,'modal',{width:700,'action':'edit'})},500)}
let data=$.extend(AX.data(),{req:'site',action:'deleteKat',site:thisSite,katID:$('#delkat').val()});return jQuery.ajax({type:'POST',url:BACKBONE,data:data,success:successhandle,error:standardError})},renameKat:function(thisSite){if(!$('#renamekat').val()){standardError('Bitte eine Kategorie zum Umbenennen auswählen');return $('#renamekat').select()}
if(!$('#newkatname').val()){standardError('Bitte eine Bezeichnung für die Kategorie definieren');return $('#newkatname').select()}
var successhandle=function(response){if(response=='error')return standardError();standardSuccess('Kategorie wurde erfolgreich umbenannt!');$('#info_innerlist').empty().html(response);Stuff.startSorter();$('#myModal').modal('hide');setTimeout(function(){AX.site(thisSite,'modal',{width:700,'action':'edit'})},500);return}
var data=$.extend(AX.data(),{req:'site',action:'renameKat',site:thisSite,katID:$('#renamekat').val(),katName:$('#newkatname').val()});jQuery.ajax({type:'POST',url:BACKBONE,data:data,success:successhandle,error:standardError})},insertKat:function(thisSite){if($('#kattype').val()){var successhandle=function(response){if(response=='error')return standardError();standardSuccess('Neue Kategorie wurde erfolgreich hinzugefügt und steht zur Auswahl bereit!');$('#info_innerlist').empty().html(response);Stuff.startSorter();$('#myModal').modal('hide');setTimeout(function(){AX.site(thisSite,'modal',{width:700,'action':'edit'})},500);return}
var data=$.extend(AX.data(),{req:'site',action:'insertKat',site:thisSite,katname:$('#kattype').val()});jQuery.ajax({type:'POST',url:BACKBONE,data:data,success:successhandle,error:standardError})}else{standardError('Bitte eine Kategorie benennen!');$('#kattype').select()}},switchWritemode:function(){$('#readonlyArea, #writeButton').hide();$('#writingArea, #readButton').fadeIn();var topOffset=$('#writingArea').find('.note-editable').offset().top,hfooter=$('#wrapper-main > footer').height(),restHeight=topOffset+hfooter+20;return $('.note-editable').css({'height':'100%','max-height':'calc(100vH - '+restHeight+'px)'})},switchReadmode(sub=null){if(!sub)return standardError(sub);let htmlContent=$.trim($.deWrap(Value.get('wolfiBox'))),content=encodeURIComponent(htmlContent),data=$.extend(AX.data(),{req:'textbox_save',sub:sub,content:content}),successhandle=function(response){if(response==='-1'||response==-1)return standardError();$('#readonlyArea').html(htmlContent);$('#writingArea, #readButton').hide();return $('#readonlyArea, #writeButton, #pdfButton').fadeIn()};return jQuery.ajax({type:'POST',url:BACKBONE,data:data,success:successhandle,error:standardError})}};$.WOLF.log={switcher:function(id){$('#form_login > article').not('#art-'+id).hide().removeClass('show');$('#form_login > article#art-'+id).fadeIn();setTimeout(function(){$('[data-variable]:visible:first').select()},200)},button:function(obj,bool=!1){if(!obj)obj=$('.disabledButton');if(bool==!0)$(obj).addClass('disabledButton').attr('disabled',!0);else $(obj).removeClass('disabledButton').removeAttr('disabled');return},handleStandards:function(id,msg=null){if(id==1)return standardError('Please retry in a few seconds','Server Connection failed!');if(id==2)return standardError('Processing error:'+msg);return},finale:function(txt){if(!txt)return!1;$('#finalText').html(txt);$('p#restarter').hide();return this.switcher('finale')},counter:function(counter=null){if(counter&&counter=='x')
return myAlert('Du hast die zulässige Anzahl an Fehlversuchen überschritten. Der Zugang wurde vorübergehend blockiert. Bitte warte einen Moment und versuche es anschließend erneut. Du hast dann wieder 3 Versuche zur Verfügung.','Zugang vorübergehend gesperrt');else if(counter||counter==0){$('#counter').val(counter);if($('#counter').val()==0){setTimeout(function(){$('#counter').val(4)},15000);return myAlert('Leider hast du die maximal erlaubten Fehlversuche erreicht. Aus Sicherheitsgründen wurde der Zugang kurzzeitig gesperrt. Nach einer kurzen Wartezeit kannst du es erneut mit 3 Versuchen probieren.','Zugang derzeit nicht möglich')}}},checkMissingVals:function(field=null,fieldset=null){if(!Value.get(field)){let fieldset=$('[name='+field+']:first').closest('fieldset');let msg='Eintrag fehlt - bitte ergänzen!';if(field=='avatar')msg='Bitte lade ein Foto hoch!';else if(field=='confirm')msg='Bitte bestätigen!';return errorTip($(fieldset),msg)}else{return this.checkMissings()}},checkMissings:function(response=null){if(response){if(response.id&&response.table)$('#art-missings').attr('data-table',response.table).attr('data-id',response.id);if(response.confirm)Value.set('confirm',response.confirm);if(response.fullname)Value.set('fullname',response.fullname);if(response.aka)Value.set('aka',response.aka);if(response.avatar)Value.set('avatar',response.avatar);$('[name="avatar"], [name="confirm"], [name="aka"], [name="fullname"]').addClass('registrated').change(function(){AX.update(this)});if(response.admin_id)Value.set('admin_id',response.admin_id);}
function missSwitch(item){_Log.switcher('missings');$('#art-missings > div').not('[data-name="'+item+'"]').hide();return $('#art-missings > div[data-name="'+item+'"]').fadeIn()}
if(!Value.get('aka'))return missSwitch('aka');if(!Value.get('fullname'))return missSwitch('fullname');if(!Value.get('avatar'))return missSwitch('avatar');if(!Value.get('confirm'))return missSwitch('confirm');return this.dummyLoad(Value.get('admin_id'),$('seminarID').val())},checkCode:function(obj){if(!$('#code').val())return errorTip($('#code'),'Bitte trage einen Code ein!');if($('#counter').val()<=0)return _Log.counter('x');function handleError(response){switch(parseInt(response.status)){case-999:return standardError('Processing error - Server connection failed: (ErrCode: '+response.status+')');case-99:return errorTip($('#code'),'Bitte trage einen Code ein!');case-98:errorTip($('#code'),'Der angegebene Code ist nicht korrekt. Bitte überprüfe deine Eingabe!');return $('#code').select();break;case-97:errorTip($('#code'),'Die Codeeintragung ist nicht korrekt. Bitte überprüfe deine Eingabe.');return $('#code').select();break;default:return standardError('Server processing error: (ErrCode'+response.status+')')}
return}
function handlePersonal(response){switch(parseInt(response.status)){case-1:return _Log.finale('<b>Ihr Account wurde gelöscht.</b><br><br>Der Zugang wurde verweigert. Bei Fragen wenden Sie sich bitte an den Administrator."');case-2:return _Log.finale("<b>Ihre Zugriffsberechtigung ist abgelaufen.</b><br><br>Der Zugang wurde verweigert. Bei Fragen wenden Sie sich bitte an den Administrator.");case 1:if(response.confirm)Value.set('confirm',response.confirm);if(response.fullname)Value.set('fullname',response.fullname);if(response.aka)Value.set('aka',response.aka);if(response.avatar)Value.set('avatar',response.avatar);if(response.code)$('#personalCode').val(response.code);$('[name="avatar"], [name="confirm"], [name="aka"], [name="fullname"]').addClass('registrated').change(function(){AX.update(this)});if(response.admin_id)Value.set('admin_id',response.admin_id);if(!response.username||!response.password){return _Log.switcher('codenocred')}else{return _Log.switcher('sign_in')}
break;default:$('#code').select();return standardError('Der eingebene Code ist offensichtlich falsch - bitte überprüfe den Membercode','Fehleingabe ('+response.status+')')}
return}
function handleEvent(response){switch(parseInt(response.status)){case-1:return myAlert('<b>Zugang derzeit nicht erlaubt</b><br><br>Das Seminar ist derzeit deaktiviert');case-2:return myAlert('<b>Zugang nicht mehr möglich</b><br><br>Das Seminar ist bereits beendet, es ist kein Zugriff auf die Daten mehr möglich');case-3:return myAlert('<b>Zugang derzeit noch nicht möglich</b><br><br>Das gegenständliche Seminar hat noch nicht begonnen. Bitte versuchen Sie es zu einem späteren Zeitpunkt');case 1:response.title&&$('.seminarTitle').text(response.title);response.title&&$('#seminarTitle').val(response.title);response.id&&$('#seminarID').val(response.id);response.code&&$('#seminarCode').val(response.code);$('#messageBox').html('Seminar '+response.title);return _Log.switcher('seminarprooved');default:$('#code').select();return standardError('Der eingebene Code ist offensichtlich falsch - bitte überprüfen Sie den Code','Fehleingabe ('+response.status+')')}
return}
return jQuery.ajax({type:'POST',url:BACKBONE,data:{randy:getRandom(),req:'login_checkCode',code:$.trim($('#code').val()),counter:$('#counter').val()},dataType:'json',success:function(response){console.log(response);try{if(response&&(response.counter||response.counter==0))_Log.counter(response.counter);switch(response.type){case 'error':return handleError(response);case 'event':return handleEvent(response);case 'personal':return handlePersonal(response);default:return handleError(response)}}catch(e){return _Log.handleStandards(2,e.message)}},error:function(jqXHR,textStatus,errorThrown){return _Log.handleStandards(1,textStatus+'_'+errorThrown)}})},checkLogin:function(obj){function handleError(response){switch(parseInt(response.status)){case-2:return _Log.finale('<b>Dein Account wurde gelöscht.</b><br><br>Der Zugang wurde verweigert. Bei Fragen wende dich bitte an den Administrator.');case-1:return _Log.finale('<b>Deine Zugriffsberechtigung ist abgelaufen.</b><br><br>Der Zugang wurde verweigert. Bei Fragen wende dich bitte an den Administrator.');default:$('#username, #password').addClass('hasError');return myAlert('Die eingebene Zugangskennung konnte nicht gefunden werden - bitte überprüfe deine Eintragungen!','Fehleingabe ('+response.status+')')}
return}
var msg='',title='Error';$('.is-missing, .is-invalid').removeClass('is-missing is-invalid');if(!$('#username').val()){$('#username').select();return errorTip($('#username'),'Bitte deinen Benutzernamen eingeben!');return}else if(!$('#password').val()){$('#password').select();return errorTip($('#password'),'Bitte gib dein Passwort ein!')}
$.WOLF.log.button(obj,!0);return jQuery.ajax({type:'POST',url:BACKBONE,dataType:'json',data:{randy:getRandom(),req:'login_checkLogin',counter:$('#counter').val(),username:$('#username').val(),password:$('#password').val(),remember_login:$('[name="remember_login"]').prop('checked')},success:function(response){console.log(response);$.WOLF.log.button(obj,!1);if(response&&(response.counter||response.counter==0))_Log.counter(response.counter);try{return response.code=='1'||response.code==1?_Log.checkMissings(response):handleError(response)}catch(e){return _Log.handleStandards(2,e.message)}},error:function(jqXHR,textStatus,errorThrown){return _Log.handleStandards(1,textStatus+'_'+errorThrown)},beforeSend:function(jqXHR,settings){console.log('Before Send: ',settings.data)}})},checkRegex:function(input){let hasDigitsAndLetters=/^(?=(?:\D*\d){1})(?=(?:\d*\D){4})[\dA-Za-z]{5,12}$/,value=$(input).val();return hasDigitsAndLetters.test(value)?!0:!1},registerSeminar:function(){function handleError(response){if(response.status==-99)return standardError('Please try again - an error has occurred! <br><i>Errhandle #99</i>');else if(response.status==-98)return standardError('Please try again - an error has occurred! <br><i>Errhandle #98</i>');else if(response.status==-1)return myAlert('<p>Bitte wähle einen anderen Benutzernamen - der gewählte Name existiert bereits!</p>');if(response.counter)$('#counter').val(response.counter);}
let pw,un,successhandlePW=function(){setTimeout(function(){$('#reg_password').select().closest('fieldset').addClass('state-error');$('#reg_password').on('keypress',function(){$('#reg_password').closest('fieldset').removeClass('state-error')});$.WOLF.jump.set_field_focus('[data-variable=reg_password]')},200)},successhandleUN=function(){setTimeout(function(){$('#reg_username').select().closest('fieldset').addClass('state-error');$('#reg_username').on('keypress',function(){$('#reg_username').closest('fieldset').removeClass('state-error')});$.WOLF.jump.set_field_focus('[data-variable=reg_username]')},200)};if(_Log.checkRegex($('#reg_username')))un=$('#reg_username').val();else return myAlert('<p>Bitte wähle einen anderen Benutzernamen! <br><br>Achte auf die Vorgaben:</p><p class="ms-3">Mindestens <b>4 Buchstaben</b>,<br>mindestens <b>1 Ziffer</b>,<br>keine Sonderzeichen,<br>maximal 12 Zeichen.</p>',{success:successhandleUN});if(_Log.checkRegex($('#reg_password')))pw=$('#reg_password').val();else return myAlert('<p>Bitte ein anderes Passwort wählen! <br><br>Achte auf die Vorgaben:</p><p class="ms-3">Mindestens <b>4 Buchstaben</b>,<br>mindestens <b>1 Ziffer</b>,<br>keine Sonderzeichen,<br>maximal 12 Zeichen.</p>',{success:successhandlePW});return jQuery.ajax({type:'POST',url:BACKBONE,dataType:'json',data:{randy:getRandom(),req:'login_registerSeminar',username:un,password:pw,seminar:$('#seminarID').val(),remember_login:$('[name="reg_remember_login"]').prop('checked')},success:function(response){console.log(response);try{return response.code=='1'||response.code==1?_Log.checkMissings(response):handleError(response)}catch(e){return _Log.handleStandards(2,e.message)}},error:function(jqXHR,textStatus,errorThrown){console.log(textStatus,errorThrown)
return _Log.handleStandards(1,textStatus+'_'+errorThrown)},beforeSend:function(jqXHR,settings){console.log('Before Send: ',settings.data)}})},setCredentials:function(){function handleError(response){if(response.status==-99)return standardError('Please try again - an error has occurred! <br><i>Errhandle #99</i>');if(response.status==-98)return standardError('Please try again - an error has occurred! <br><i>Errhandle #98</i>');if(response.status==-1){$('#pers_username').val('').focus();return errorTip($('#pers_username'),'Bitte wähle einen anderen Benutznamen - der ausgewählte ist bereits in Verwendung!')}}
let pw,un,successhandlePW=function(){setTimeout(function(){$('#pers_password').select().closest('fieldset').addClass('state-error');$('#pers_password').on('keypress',function(){$('#pers_password').closest('fieldset').removeClass('state-error')});$.WOLF.jump.set_field_focus('[data-variable=pers_password]')},200)},successhandleUN=function(){setTimeout(function(){$('#pers_username').select().closest('fieldset').addClass('state-error');$('#pers_username').on('keypress',function(){$('#pers_username').closest('fieldset').removeClass('state-error')});$.WOLF.jump.set_field_focus('[data-variable=pers_username]')},200)};if(!$('#pers_username').val())return errorTip($('#pers_username'),'Bitte einen Benutzernamen wählen!');if(_Log.checkRegex($('#pers_username')))un=$('#pers_username').val();else return myAlert('<p>Bitte wähle einen anderen Benutzernamen! <br><br>Achte auf die Vorgaben:</p><p class="ms-3">Mindestens <b>4 Buchstaben</b>,<br>mindestens <b>1 Ziffer</b>,<br>keine Sonderzeichen,<br>maximal 12 Zeichen.</p>',{success:successhandleUN});if(!$('#pers_password').val())return errorTip($('#pers_password'),'Bitte ein Passwort eintragen!');if(_Log.checkRegex($('#pers_password')))pw=$('#pers_password').val();else return myAlert('<p>Bitte ein anderes Passwort wählen! <br><br>Achte auf die Vorgaben:</p><p class="ms-3">Mindestens <b>4 Buchstaben</b>,<br>mindestens <b>1 Ziffer</b>,<br>keine Sonderzeichen,<br>maximal 12 Zeichen.</p>',{success:successhandlePW});return jQuery.ajax({type:'POST',url:BACKBONE,dataType:'json',data:{randy:getRandom(),req:'login_setCredentials',username:un,password:pw,code:$('#personalCode').val(),remember_login:$('[name="pers_remember_login"]').prop('checked')},success:function(response){console.log(response);try{return response.code=='1'||response.code==1?_Log.checkMissings(response):handleError(response)}catch(e){return _Log.handleStandards(2,e.message)}},error:function(jqXHR,textStatus,errorThrown){console.log(textStatus,errorThrown)
return _Log.handleStandards(1,textStatus+'_'+errorThrown)},beforeSend:function(jqXHR,settings){console.log('Before Send: ',settings.data)}})},loginSeminar:function(){function handleError(response){alert('response-'+response.code)}
if(!$('#log_password').val())return errorTip($('#log_password'),'Bitte trage das Passwort ein!');if(!$('#log_username').val())return errorTip($('#log_username'),'Bitte gib deinen Usernamen bekannt!');let un=$('#log_username').val(),pw=$('#log_password').val(),seminar=$('#seminarID').val();return jQuery.ajax({type:'POST',url:BACKBONE,dataType:'json',data:{randy:getRandom(),req:'login_loginSeminar',username:un,password:pw,counter:$('#counter').val(),seminar:$('#seminarID').val(),remember_login:$('[name="log_remember_login"]').prop('checked')},success:function(response){console.log(response);try{return response.code=='1'||response.code==1?_Log.checkMissings(response):handleError(response)}catch(e){return _Log.handleStandards(2,e.message)}},error:function(jqXHR,textStatus,errorThrown){return _Log.handleStandards(1,textStatus+'_'+errorThrown)},beforeSend:function(jqXHR,settings){console.log('Before Send: ',settings.data)}})},remember_login:function(obj){return jQuery.ajax({type:'POST',url:BACKBONE,data:{randy:getRandom(),req:'login_remember',remember_login:$('[name="remember_login"]').prop('checked')}})},dummyLoad:function(id,semID=null){let successHandle=function(){if($('#dummyForm').length>0)$('#dummyForm').remove();$('body').append('<form id="dummyForm" name="dummyForm" method="POST" action="/" style="display:none;"><input type="text" name="admin_id" id="admin_id" value="'+id+'"></form>');return document.dummyForm.submit()}
if(!$('#seminarID').val())return successHandle();else jQuery.ajax({type:'POST',url:BACKBONE,dataType:'json',data:{randy:getRandom(),req:'login_signupSeminar',seminar:$('#seminarID').val(),member:id},success:function(response){console.log(response);return successHandle()},error:function(jqXHR,textStatus,errorThrown){return _Log.handleStandards(1,textStatus+'_'+errorThrown)},beforeSend:function(jqXHR,settings){console.log('Before Send: ',settings.data)}})},};(function(root,factory){if(typeof define==='function'&&define.amd){define(factory)}else if(typeof exports==='object'){module.exports=factory()}else{root.pluralRuleParser=factory()}}(this,function(){function pluralRuleParser(rule,number){'use strict';rule=rule.split('@')[0].replace(/^\s*/,'').replace(/\s*$/,'');if(!rule.length){return!0}
var pos=0,operand,expression,relation,result,whitespace=makeRegexParser(/^\s+/),value=makeRegexParser(/^\d+/),_n_=makeStringParser('n'),_i_=makeStringParser('i'),_f_=makeStringParser('f'),_t_=makeStringParser('t'),_v_=makeStringParser('v'),_w_=makeStringParser('w'),_is_=makeStringParser('is'),_isnot_=makeStringParser('is not'),_isnot_sign_=makeStringParser('!='),_equal_=makeStringParser('='),_mod_=makeStringParser('mod'),_percent_=makeStringParser('%'),_not_=makeStringParser('not'),_in_=makeStringParser('in'),_within_=makeStringParser('within'),_range_=makeStringParser('..'),_comma_=makeStringParser(','),_or_=makeStringParser('or'),_and_=makeStringParser('and');function debug(){}
debug('pluralRuleParser',rule,number);function choice(parserSyntax){return function(){var i,result;for(i=0;i<parserSyntax.length;i++){result=parserSyntax[i]();if(result!==null){return result}}
return null}}
function sequence(parserSyntax){var i,parserRes,originalPos=pos,result=[];for(i=0;i<parserSyntax.length;i++){parserRes=parserSyntax[i]();if(parserRes===null){pos=originalPos;return null}
result.push(parserRes)}
return result}
function nOrMore(n,p){return function(){var originalPos=pos,result=[],parsed=p();while(parsed!==null){result.push(parsed);parsed=p()}
if(result.length<n){pos=originalPos;return null}
return result}}
function makeStringParser(s){var len=s.length;return function(){var result=null;if(rule.substr(pos,len)===s){result=s;pos+=len}
return result}}
function makeRegexParser(regex){return function(){var matches=rule.substr(pos).match(regex);if(matches===null){return null}
pos+=matches[0].length;return matches[0]}}
function i(){var result=_i_();if(result===null){debug(' -- failed i',parseInt(number,10));return result}
result=parseInt(number,10);debug(' -- passed i ',result);return result}
function n(){var result=_n_();if(result===null){debug(' -- failed n ',number);return result}
result=parseFloat(number,10);debug(' -- passed n ',result);return result}
function f(){var result=_f_();if(result===null){debug(' -- failed f ',number);return result}
result=(number+'.').split('.')[1]||0;debug(' -- passed f ',result);return result}
function t(){var result=_t_();if(result===null){debug(' -- failed t ',number);return result}
result=(number+'.').split('.')[1].replace(/0$/,'')||0;debug(' -- passed t ',result);return result}
function v(){var result=_v_();if(result===null){debug(' -- failed v ',number);return result}
result=(number+'.').split('.')[1].length||0;debug(' -- passed v ',result);return result}
function w(){var result=_w_();if(result===null){debug(' -- failed w ',number);return result}
result=(number+'.').split('.')[1].replace(/0$/,'').length||0;debug(' -- passed w ',result);return result}
operand=choice([n,i,f,t,v,w]);expression=choice([mod,operand]);function mod(){var result=sequence([operand,whitespace,choice([_mod_,_percent_]),whitespace,value]);if(result===null){debug(' -- failed mod');return null}
debug(' -- passed '+parseInt(result[0],10)+' '+result[2]+' '+parseInt(result[4],10));return parseFloat(result[0])%parseInt(result[4],10)}
function not(){var result=sequence([whitespace,_not_]);if(result===null){debug(' -- failed not');return null}
return result[1]}
function is(){var result=sequence([expression,whitespace,choice([_is_]),whitespace,value]);if(result!==null){debug(' -- passed is : '+result[0]+' == '+parseInt(result[4],10));return result[0]===parseInt(result[4],10)}
debug(' -- failed is');return null}
function isnot(){var result=sequence([expression,whitespace,choice([_isnot_,_isnot_sign_]),whitespace,value]);if(result!==null){debug(' -- passed isnot: '+result[0]+' != '+parseInt(result[4],10));return result[0]!==parseInt(result[4],10)}
debug(' -- failed isnot');return null}
function not_in(){var i,range_list,result=sequence([expression,whitespace,_isnot_sign_,whitespace,rangeList]);if(result!==null){debug(' -- passed not_in: '+result[0]+' != '+result[4]);range_list=result[4];for(i=0;i<range_list.length;i++){if(parseInt(range_list[i],10)===parseInt(result[0],10)){return!1}}
return!0}
debug(' -- failed not_in');return null}
function rangeList(){var result=sequence([choice([range,value]),nOrMore(0,rangeTail)]),resultList=[];if(result!==null){resultList=resultList.concat(result[0]);if(result[1][0]){resultList=resultList.concat(result[1][0])}
return resultList}
debug(' -- failed rangeList');return null}
function rangeTail(){var result=sequence([_comma_,rangeList]);if(result!==null){return result[1]}
debug(' -- failed rangeTail');return null}
function range(){var i,array,left,right,result=sequence([value,_range_,value]);if(result!==null){debug(' -- passed range');array=[];left=parseInt(result[0],10);right=parseInt(result[2],10);for(i=left;i<=right;i++){array.push(i)}
return array}
debug(' -- failed range');return null}
function _in(){var result,range_list,i;result=sequence([expression,nOrMore(0,not),whitespace,choice([_in_,_equal_]),whitespace,rangeList]);if(result!==null){debug(' -- passed _in:'+result);range_list=result[5];for(i=0;i<range_list.length;i++){if(parseInt(range_list[i],10)===parseFloat(result[0])){return(result[1][0]!=='not')}}
return(result[1][0]==='not')}
debug(' -- failed _in ');return null}
function within(){var range_list,result;result=sequence([expression,nOrMore(0,not),whitespace,_within_,whitespace,rangeList]);if(result!==null){debug(' -- passed within');range_list=result[5];if((result[0]>=parseInt(range_list[0],10))&&(result[0]<parseInt(range_list[range_list.length-1],10))){return(result[1][0]!=='not')}
return(result[1][0]==='not')}
debug(' -- failed within ');return null}
relation=choice([is,not_in,isnot,_in,within]);function and(){var i,result=sequence([relation,nOrMore(0,andTail)]);if(result){if(!result[0]){return!1}
for(i=0;i<result[1].length;i++){if(!result[1][i]){return!1}}
return!0}
debug(' -- failed and');return null}
function andTail(){var result=sequence([whitespace,_and_,whitespace,relation]);if(result!==null){debug(' -- passed andTail'+result);return result[3]}
debug(' -- failed andTail');return null}
function orTail(){var result=sequence([whitespace,_or_,whitespace,and]);if(result!==null){debug(' -- passed orTail: '+result[3]);return result[3]}
debug(' -- failed orTail');return null}
function condition(){var i,result=sequence([and,nOrMore(0,orTail)]);if(result){for(i=0;i<result[1].length;i++){if(result[1][i]){return!0}}
return result[0]}
return!1}
result=condition();if(result===null){throw new Error('Parse error at position '+pos.toString()+' for rule: '+rule)}
if(pos!==rule.length){debug('Warning: Rule not parsed completely. Parser stopped at '+rule.substr(0,pos)+' for rule: '+rule)}
return result}
return pluralRuleParser}));/*!
 * jQuery Internationalization library
 *
 * Copyright (C) 2012 Santhosh Thottingal
 *
 * jquery.i18n is dual licensed GPLv2 or later and MIT. You don't have to do
 * anything special to choose one license or the other and you don't have to
 * notify anyone which license you are using. You are free to use
 * UniversalLanguageSelector in commercial projects as long as the copyright
 * header is left intact. See files GPL-LICENSE and MIT-LICENSE for details.
 *
 * @licence GNU General Public Licence 2.0 or later
 * @licence MIT License
 */
(function($){'use strict';var I18N,slice=Array.prototype.slice;I18N=function(options){this.options=$.extend({},I18N.defaults,options);this.parser=this.options.parser;this.locale=this.options.locale;this.messageStore=this.options.messageStore;this.languages={}};I18N.prototype={localize:function(messageKey){var localeParts,localePartIndex,locale,fallbackIndex,tryingLocale,message;locale=this.locale;fallbackIndex=0;while(locale){localeParts=locale.split('-');localePartIndex=localeParts.length;do{tryingLocale=localeParts.slice(0,localePartIndex).join('-');message=this.messageStore.get(tryingLocale,messageKey);if(message){return message}
localePartIndex--}while(localePartIndex);if(locale===this.options.fallbackLocale){break}
locale=($.i18n.fallbacks[this.locale]&&$.i18n.fallbacks[this.locale][fallbackIndex])||this.options.fallbackLocale;$.i18n.log('Trying fallback locale for '+this.locale+': '+locale+' ('+messageKey+')');fallbackIndex++}
return''},destroy:function(){$.removeData(document,'i18n')},load:function(source,locale){var fallbackLocales,locIndex,fallbackLocale,sourceMap={};if(!source&&!locale){source='i18n/'+$.i18n().locale+'.json';locale=$.i18n().locale}
if(typeof source==='string'&&source.split('?')[0].split('.').pop()!=='json'){sourceMap[locale]=source+'/'+locale+'.json';fallbackLocales=($.i18n.fallbacks[locale]||[]).concat(this.options.fallbackLocale);for(locIndex=0;locIndex<fallbackLocales.length;locIndex++){fallbackLocale=fallbackLocales[locIndex];sourceMap[fallbackLocale]=source+'/'+fallbackLocale+'.json'}
return this.load(sourceMap)}else{return this.messageStore.load(source,locale)}},parse:function(key,parameters){var message=this.localize(key);this.parser.language=$.i18n.languages[$.i18n().locale]||$.i18n.languages['default'];if(message===''){message=key}
return this.parser.parse(message,parameters)}};$.i18n=function(key,param1){var parameters,i18n=$.data(document,'i18n'),options=typeof key==='object'&&key;if(options&&options.locale&&i18n&&i18n.locale!==options.locale){i18n.locale=options.locale}
if(!i18n){i18n=new I18N(options);$.data(document,'i18n',i18n)}
if(typeof key==='string'){if(param1!==undefined){parameters=slice.call(arguments,1)}else{parameters=[]}
return i18n.parse(key,parameters)}else{return i18n}};$.fn.i18n=function(){var i18n=$.data(document,'i18n');if(!i18n){i18n=new I18N();$.data(document,'i18n',i18n)}
return this.each(function(){var $this=$(this),messageKey=$this.data('i18n'),lBracket,rBracket,type,key;if(messageKey){lBracket=messageKey.indexOf('[');rBracket=messageKey.indexOf(']');if(lBracket!==-1&&rBracket!==-1&&lBracket<rBracket){type=messageKey.slice(lBracket+1,rBracket);key=messageKey.slice(rBracket+1);if(type==='html'){$this.html(i18n.parse(key))}else{$this.attr(type,i18n.parse(key))}}else{$this.text(i18n.parse(messageKey))}}else{$this.find('[data-i18n]').i18n()}})};function getDefaultLocale(){var locale=$('html').attr('lang');if(!locale){locale=navigator.language||navigator.userLanguage||''}
return locale}
$.i18n.languages={};$.i18n.messageStore=$.i18n.messageStore||{};$.i18n.parser={parse:function(message,parameters){return message.replace(/\$(\d+)/g,function(str,match){var index=parseInt(match,10)-1;return parameters[index]!==undefined?parameters[index]:'$'+match})},emitter:{}};$.i18n.fallbacks={};$.i18n.debug=!1;$.i18n.log=function(){if(window.console&&$.i18n.debug){window.console.log.apply(window.console,arguments)}};I18N.defaults={locale:getDefaultLocale(),fallbackLocale:'en',parser:$.i18n.parser,messageStore:$.i18n.messageStore};$.i18n.constructor=I18N}(jQuery));/*!
 * jQuery Internationalization library - Message Store
 *
 * Copyright (C) 2012 Santhosh Thottingal
 *
 * jquery.i18n is dual licensed GPLv2 or later and MIT. You don't have to do anything special to
 * choose one license or the other and you don't have to notify anyone which license you are using.
 * You are free to use UniversalLanguageSelector in commercial projects as long as the copyright
 * header is left intact. See files GPL-LICENSE and MIT-LICENSE for details.
 *
 * @licence GNU General Public Licence 2.0 or later
 * @licence MIT License
 */
(function($){'use strict';var MessageStore=function(){this.messages={};this.sources={}};function jsonMessageLoader(url){var deferred=$.Deferred();$.getJSON(url).done(deferred.resolve).fail(function(jqxhr,settings,exception){$.i18n.log('Error in loading messages from '+url+' Exception: '+exception);deferred.resolve()});return deferred.promise()}
MessageStore.prototype={load:function(source,locale){var key=null,deferreds=[],messageStore=this;if(typeof source==='string'){$.i18n.log('Loading messages from: '+source);return jsonMessageLoader(source).then(function(localization){return messageStore.load(localization,locale)})}
if(locale){messageStore.set(locale,source);return $.Deferred().resolve()}else{for(key in source){if(Object.prototype.hasOwnProperty.call(source,key)){locale=key;deferreds.push(messageStore.load(source[key],locale))}}
return $.when.apply($,deferreds)}},set:function(locale,messages){if(!this.messages[locale]){this.messages[locale]=messages}else{this.messages[locale]=$.extend(this.messages[locale],messages)}},get:function(locale,messageKey){return this.messages[locale]&&this.messages[locale][messageKey]}};$.extend($.i18n.messageStore,new MessageStore())}(jQuery));/*!
 * jQuery Internationalization library
 *
 * Copyright (C) 2012 Santhosh Thottingal
 *
 * jquery.i18n is dual licensed GPLv2 or later and MIT. You don't have to do anything special to
 * choose one license or the other and you don't have to notify anyone which license you are using.
 * You are free to use UniversalLanguageSelector in commercial projects as long as the copyright
 * header is left intact. See files GPL-LICENSE and MIT-LICENSE for details.
 *
 * @licence GNU General Public Licence 2.0 or later
 * @licence MIT License
 */
(function($){'use strict';$.i18n=$.i18n||{};$.extend($.i18n.fallbacks,{ab:['ru'],ace:['id'],aln:['sq'],als:['gsw','de'],an:['es'],anp:['hi'],arn:['es'],arz:['ar'],av:['ru'],ay:['es'],ba:['ru'],bar:['de'],'bat-smg':['sgs','lt'],bcc:['fa'],'be-x-old':['be-tarask'],bh:['bho'],bjn:['id'],bm:['fr'],bpy:['bn'],bqi:['fa'],bug:['id'],'cbk-zam':['es'],ce:['ru'],crh:['crh-latn'],'crh-cyrl':['ru'],csb:['pl'],cv:['ru'],'de-at':['de'],'de-ch':['de'],'de-formal':['de'],dsb:['de'],dtp:['ms'],egl:['it'],eml:['it'],ff:['fr'],fit:['fi'],'fiu-vro':['vro','et'],frc:['fr'],frp:['fr'],frr:['de'],fur:['it'],gag:['tr'],gan:['gan-hant','zh-hant','zh-hans'],'gan-hans':['zh-hans'],'gan-hant':['zh-hant','zh-hans'],gl:['pt'],glk:['fa'],gn:['es'],gsw:['de'],hif:['hif-latn'],hsb:['de'],ht:['fr'],ii:['zh-cn','zh-hans'],inh:['ru'],iu:['ike-cans'],jut:['da'],jv:['id'],kaa:['kk-latn','kk-cyrl'],kbd:['kbd-cyrl'],khw:['ur'],kiu:['tr'],kk:['kk-cyrl'],'kk-arab':['kk-cyrl'],'kk-latn':['kk-cyrl'],'kk-cn':['kk-arab','kk-cyrl'],'kk-kz':['kk-cyrl'],'kk-tr':['kk-latn','kk-cyrl'],kl:['da'],'ko-kp':['ko'],koi:['ru'],krc:['ru'],ks:['ks-arab'],ksh:['de'],ku:['ku-latn'],'ku-arab':['ckb'],kv:['ru'],lad:['es'],lb:['de'],lbe:['ru'],lez:['ru'],li:['nl'],lij:['it'],liv:['et'],lmo:['it'],ln:['fr'],ltg:['lv'],lzz:['tr'],mai:['hi'],'map-bms':['jv','id'],mg:['fr'],mhr:['ru'],min:['id'],mo:['ro'],mrj:['ru'],mwl:['pt'],myv:['ru'],mzn:['fa'],nah:['es'],nap:['it'],nds:['de'],'nds-nl':['nl'],'nl-informal':['nl'],no:['nb'],os:['ru'],pcd:['fr'],pdc:['de'],pdt:['de'],pfl:['de'],pms:['it'],pt:['pt-br'],'pt-br':['pt'],qu:['es'],qug:['qu','es'],rgn:['it'],rmy:['ro'],'roa-rup':['rup'],rue:['uk','ru'],ruq:['ruq-latn','ro'],'ruq-cyrl':['mk'],'ruq-latn':['ro'],sa:['hi'],sah:['ru'],scn:['it'],sg:['fr'],sgs:['lt'],sli:['de'],sr:['sr-ec'],srn:['nl'],stq:['de'],su:['id'],szl:['pl'],tcy:['kn'],tg:['tg-cyrl'],tt:['tt-cyrl','ru'],'tt-cyrl':['ru'],ty:['fr'],udm:['ru'],ug:['ug-arab'],uk:['ru'],vec:['it'],vep:['et'],vls:['nl'],vmf:['de'],vot:['fi'],vro:['et'],wa:['fr'],wo:['fr'],wuu:['zh-hans'],xal:['ru'],xmf:['ka'],yi:['he'],za:['zh-hans'],zea:['nl'],zh:['zh-hans'],'zh-classical':['lzh'],'zh-cn':['zh-hans'],'zh-hant':['zh-hans'],'zh-hk':['zh-hant','zh-hans'],'zh-min-nan':['nan'],'zh-mo':['zh-hk','zh-hant','zh-hans'],'zh-my':['zh-sg','zh-hans'],'zh-sg':['zh-hans'],'zh-tw':['zh-hant','zh-hans'],'zh-yue':['yue']})}(jQuery));(function($){'use strict';var language={pluralRules:{ak:{one:'n = 0..1'},am:{one:'i = 0 or n = 1'},ar:{zero:'n = 0',one:'n = 1',two:'n = 2',few:'n % 100 = 3..10',many:'n % 100 = 11..99'},ars:{zero:'n = 0',one:'n = 1',two:'n = 2',few:'n % 100 = 3..10',many:'n % 100 = 11..99'},as:{one:'i = 0 or n = 1'},be:{one:'n % 10 = 1 and n % 100 != 11',few:'n % 10 = 2..4 and n % 100 != 12..14',many:'n % 10 = 0 or n % 10 = 5..9 or n % 100 = 11..14'},bh:{one:'n = 0..1'},bn:{one:'i = 0 or n = 1'},br:{one:'n % 10 = 1 and n % 100 != 11,71,91',two:'n % 10 = 2 and n % 100 != 12,72,92',few:'n % 10 = 3..4,9 and n % 100 != 10..19,70..79,90..99',many:'n != 0 and n % 1000000 = 0'},bs:{one:'v = 0 and i % 10 = 1 and i % 100 != 11 or f % 10 = 1 and f % 100 != 11',few:'v = 0 and i % 10 = 2..4 and i % 100 != 12..14 or f % 10 = 2..4 and f % 100 != 12..14'},cs:{one:'i = 1 and v = 0',few:'i = 2..4 and v = 0',many:'v != 0'},cy:{zero:'n = 0',one:'n = 1',two:'n = 2',few:'n = 3',many:'n = 6'},da:{one:'n = 1 or t != 0 and i = 0,1'},dsb:{one:'v = 0 and i % 100 = 1 or f % 100 = 1',two:'v = 0 and i % 100 = 2 or f % 100 = 2',few:'v = 0 and i % 100 = 3..4 or f % 100 = 3..4'},fa:{one:'i = 0 or n = 1'},ff:{one:'i = 0,1'},fil:{one:'v = 0 and i = 1,2,3 or v = 0 and i % 10 != 4,6,9 or v != 0 and f % 10 != 4,6,9'},fr:{one:'i = 0,1'},ga:{one:'n = 1',two:'n = 2',few:'n = 3..6',many:'n = 7..10'},gd:{one:'n = 1,11',two:'n = 2,12',few:'n = 3..10,13..19'},gu:{one:'i = 0 or n = 1'},guw:{one:'n = 0..1'},gv:{one:'v = 0 and i % 10 = 1',two:'v = 0 and i % 10 = 2',few:'v = 0 and i % 100 = 0,20,40,60,80',many:'v != 0'},he:{one:'i = 1 and v = 0',two:'i = 2 and v = 0',many:'v = 0 and n != 0..10 and n % 10 = 0'},hi:{one:'i = 0 or n = 1'},hr:{one:'v = 0 and i % 10 = 1 and i % 100 != 11 or f % 10 = 1 and f % 100 != 11',few:'v = 0 and i % 10 = 2..4 and i % 100 != 12..14 or f % 10 = 2..4 and f % 100 != 12..14'},hsb:{one:'v = 0 and i % 100 = 1 or f % 100 = 1',two:'v = 0 and i % 100 = 2 or f % 100 = 2',few:'v = 0 and i % 100 = 3..4 or f % 100 = 3..4'},hy:{one:'i = 0,1'},is:{one:'t = 0 and i % 10 = 1 and i % 100 != 11 or t != 0'},iu:{one:'n = 1',two:'n = 2'},iw:{one:'i = 1 and v = 0',two:'i = 2 and v = 0',many:'v = 0 and n != 0..10 and n % 10 = 0'},kab:{one:'i = 0,1'},kn:{one:'i = 0 or n = 1'},kw:{one:'n = 1',two:'n = 2'},lag:{zero:'n = 0',one:'i = 0,1 and n != 0'},ln:{one:'n = 0..1'},lt:{one:'n % 10 = 1 and n % 100 != 11..19',few:'n % 10 = 2..9 and n % 100 != 11..19',many:'f != 0'},lv:{zero:'n % 10 = 0 or n % 100 = 11..19 or v = 2 and f % 100 = 11..19',one:'n % 10 = 1 and n % 100 != 11 or v = 2 and f % 10 = 1 and f % 100 != 11 or v != 2 and f % 10 = 1'},mg:{one:'n = 0..1'},mk:{one:'v = 0 and i % 10 = 1 or f % 10 = 1'},mo:{one:'i = 1 and v = 0',few:'v != 0 or n = 0 or n != 1 and n % 100 = 1..19'},mr:{one:'i = 0 or n = 1'},mt:{one:'n = 1',few:'n = 0 or n % 100 = 2..10',many:'n % 100 = 11..19'},naq:{one:'n = 1',two:'n = 2'},nso:{one:'n = 0..1'},pa:{one:'n = 0..1'},pl:{one:'i = 1 and v = 0',few:'v = 0 and i % 10 = 2..4 and i % 100 != 12..14',many:'v = 0 and i != 1 and i % 10 = 0..1 or v = 0 and i % 10 = 5..9 or v = 0 and i % 100 = 12..14'},prg:{zero:'n % 10 = 0 or n % 100 = 11..19 or v = 2 and f % 100 = 11..19',one:'n % 10 = 1 and n % 100 != 11 or v = 2 and f % 10 = 1 and f % 100 != 11 or v != 2 and f % 10 = 1'},pt:{one:'i = 0..1'},ro:{one:'i = 1 and v = 0',few:'v != 0 or n = 0 or n != 1 and n % 100 = 1..19'},ru:{one:'v = 0 and i % 10 = 1 and i % 100 != 11',few:'v = 0 and i % 10 = 2..4 and i % 100 != 12..14',many:'v = 0 and i % 10 = 0 or v = 0 and i % 10 = 5..9 or v = 0 and i % 100 = 11..14'},se:{one:'n = 1',two:'n = 2'},sh:{one:'v = 0 and i % 10 = 1 and i % 100 != 11 or f % 10 = 1 and f % 100 != 11',few:'v = 0 and i % 10 = 2..4 and i % 100 != 12..14 or f % 10 = 2..4 and f % 100 != 12..14'},shi:{one:'i = 0 or n = 1',few:'n = 2..10'},si:{one:'n = 0,1 or i = 0 and f = 1'},sk:{one:'i = 1 and v = 0',few:'i = 2..4 and v = 0',many:'v != 0'},sl:{one:'v = 0 and i % 100 = 1',two:'v = 0 and i % 100 = 2',few:'v = 0 and i % 100 = 3..4 or v != 0'},sma:{one:'n = 1',two:'n = 2'},smi:{one:'n = 1',two:'n = 2'},smj:{one:'n = 1',two:'n = 2'},smn:{one:'n = 1',two:'n = 2'},sms:{one:'n = 1',two:'n = 2'},sr:{one:'v = 0 and i % 10 = 1 and i % 100 != 11 or f % 10 = 1 and f % 100 != 11',few:'v = 0 and i % 10 = 2..4 and i % 100 != 12..14 or f % 10 = 2..4 and f % 100 != 12..14'},ti:{one:'n = 0..1'},tl:{one:'v = 0 and i = 1,2,3 or v = 0 and i % 10 != 4,6,9 or v != 0 and f % 10 != 4,6,9'},tzm:{one:'n = 0..1 or n = 11..99'},uk:{one:'v = 0 and i % 10 = 1 and i % 100 != 11',few:'v = 0 and i % 10 = 2..4 and i % 100 != 12..14',many:'v = 0 and i % 10 = 0 or v = 0 and i % 10 = 5..9 or v = 0 and i % 100 = 11..14'},wa:{one:'n = 0..1'},zu:{one:'i = 0 or n = 1'}},convertPlural:function(count,forms){var pluralRules,pluralFormIndex,index,explicitPluralPattern=/\d+=/i,formCount,form;if(!forms||forms.length===0){return''}
for(index=0;index<forms.length;index++){form=forms[index];if(explicitPluralPattern.test(form)){formCount=parseInt(form.slice(0,form.indexOf('=')),10);if(formCount===count){return(form.slice(form.indexOf('=')+1))}
forms[index]=undefined}}
forms=$.map(forms,function(form){if(form!==undefined){return form}});pluralRules=this.pluralRules[$.i18n().locale];if(!pluralRules){return(count===1)?forms[0]:forms[1]}
pluralFormIndex=this.getPluralForm(count,pluralRules);pluralFormIndex=Math.min(pluralFormIndex,forms.length-1);return forms[pluralFormIndex]},getPluralForm:function(number,pluralRules){var i,pluralForms=['zero','one','two','few','many','other'],pluralFormIndex=0;for(i=0;i<pluralForms.length;i++){if(pluralRules[pluralForms[i]]){if(pluralRuleParser(pluralRules[pluralForms[i]],number)){return pluralFormIndex}
pluralFormIndex++}}
return pluralFormIndex},convertNumber:function(num,integer){var tmp,item,i,transformTable,numberString,convertedNumber;transformTable=this.digitTransformTable($.i18n().locale);numberString=String(num);convertedNumber='';if(!transformTable){return num}
if(integer){if(parseFloat(num,10)===num){return num}
tmp=[];for(item in transformTable){tmp[transformTable[item]]=item}
transformTable=tmp}
for(i=0;i<numberString.length;i++){if(transformTable[numberString[i]]){convertedNumber+=transformTable[numberString[i]]}else{convertedNumber+=numberString[i]}}
return integer?parseFloat(convertedNumber,10):convertedNumber},convertGrammar:function(word,form){return word},gender:function(gender,forms){if(!forms||forms.length===0){return''}
while(forms.length<2){forms.push(forms[forms.length-1])}
if(gender==='male'){return forms[0]}
if(gender==='female'){return forms[1]}
return(forms.length===3)?forms[2]:forms[0]},digitTransformTable:function(language){var tables={ar:'٠١٢٣٤٥٦٧٨٩',fa:'۰۱۲۳۴۵۶۷۸۹',ml:'൦൧൨൩൪൫൬൭൮൯',kn:'೦೧೨೩೪೫೬೭೮೯',lo:'໐໑໒໓໔໕໖໗໘໙',or:'୦୧୨୩୪୫୬୭୮୯',kh:'០១២៣៤៥៦៧៨៩',nqo:'߀߁߂߃߄߅߆߇߈߉',pa:'੦੧੨੩੪੫੬੭੮੯',gu:'૦૧૨૩૪૫૬૭૮૯',hi:'०१२३४५६७८९',my:'၀၁၂၃၄၅၆၇၈၉',ta:'௦௧௨௩௪௫௬௭௮௯',te:'౦౧౨౩౪౫౬౭౮౯',th:'๐๑๒๓๔๕๖๗๘๙',bo:'༠༡༢༣༤༥༦༧༨༩'};if(!tables[language]){return!1}
return tables[language].split('')}};$.extend($.i18n.languages,{default:language})}(jQuery));/*!
 * jQuery Internationalization library
 *
 * Copyright (C) 2011-2013 Santhosh Thottingal, Neil Kandalgaonkar
 *
 * jquery.i18n is dual licensed GPLv2 or later and MIT. You don't have to do
 * anything special to choose one license or the other and you don't have to
 * notify anyone which license you are using. You are free to use
 * UniversalLanguageSelector in commercial projects as long as the copyright
 * header is left intact. See files GPL-LICENSE and MIT-LICENSE for details.
 *
 * @licence GNU General Public Licence 2.0 or later
 * @licence MIT License
 */
(function($){'use strict';var MessageParser=function(options){this.options=$.extend({},$.i18n.parser.defaults,options);this.language=$.i18n.languages[String.locale]||$.i18n.languages['default'];this.emitter=$.i18n.parser.emitter};MessageParser.prototype={constructor:MessageParser,simpleParse:function(message,parameters){return message.replace(/\$(\d+)/g,function(str,match){var index=parseInt(match,10)-1;return parameters[index]!==undefined?parameters[index]:'$'+match})},parse:function(message,replacements){if(message.indexOf('{{')<0){return this.simpleParse(message,replacements)}
this.emitter.language=$.i18n.languages[$.i18n().locale]||$.i18n.languages['default'];return this.emitter.emit(this.ast(message),replacements)},ast:function(message){var pipe,colon,backslash,anyCharacter,dollar,digits,regularLiteral,regularLiteralWithoutBar,regularLiteralWithoutSpace,escapedOrLiteralWithoutBar,escapedOrRegularLiteral,templateContents,templateName,openTemplate,closeTemplate,expression,paramExpression,result,pos=0;function choice(parserSyntax){return function(){var i,result;for(i=0;i<parserSyntax.length;i++){result=parserSyntax[i]();if(result!==null){return result}}
return null}}
function sequence(parserSyntax){var i,res,originalPos=pos,result=[];for(i=0;i<parserSyntax.length;i++){res=parserSyntax[i]();if(res===null){pos=originalPos;return null}
result.push(res)}
return result}
function nOrMore(n,p){return function(){var originalPos=pos,result=[],parsed=p();while(parsed!==null){result.push(parsed);parsed=p()}
if(result.length<n){pos=originalPos;return null}
return result}}
function makeStringParser(s){var len=s.length;return function(){var result=null;if(message.slice(pos,pos+len)===s){result=s;pos+=len}
return result}}
function makeRegexParser(regex){return function(){var matches=message.slice(pos).match(regex);if(matches===null){return null}
pos+=matches[0].length;return matches[0]}}
pipe=makeStringParser('|');colon=makeStringParser(':');backslash=makeStringParser('\\');anyCharacter=makeRegexParser(/^./);dollar=makeStringParser('$');digits=makeRegexParser(/^\d+/);regularLiteral=makeRegexParser(/^[^{}[\]$\\]/);regularLiteralWithoutBar=makeRegexParser(/^[^{}[\]$\\|]/);regularLiteralWithoutSpace=makeRegexParser(/^[^{}[\]$\s]/);function transform(p,fn){return function(){var result=p();return result===null?null:fn(result)}}
function literalWithoutBar(){var result=nOrMore(1,escapedOrLiteralWithoutBar)();return result===null?null:result.join('')}
function literal(){var result=nOrMore(1,escapedOrRegularLiteral)();return result===null?null:result.join('')}
function escapedLiteral(){var result=sequence([backslash,anyCharacter]);return result===null?null:result[1]}
choice([escapedLiteral,regularLiteralWithoutSpace]);escapedOrLiteralWithoutBar=choice([escapedLiteral,regularLiteralWithoutBar]);escapedOrRegularLiteral=choice([escapedLiteral,regularLiteral]);function replacement(){var result=sequence([dollar,digits]);if(result===null){return null}
return['REPLACE',parseInt(result[1],10)-1]}
templateName=transform(makeRegexParser(/^[ !"$&'()*,./0-9;=?@A-Z^_`a-z~\x80-\xFF+-]+/),function(result){return result.toString()});function templateParam(){var expr,result=sequence([pipe,nOrMore(0,paramExpression)]);if(result===null){return null}
expr=result[1];return expr.length>1?['CONCAT'].concat(expr):expr[0]}
function templateWithReplacement(){var result=sequence([templateName,colon,replacement]);return result===null?null:[result[0],result[2]]}
function templateWithOutReplacement(){var result=sequence([templateName,colon,paramExpression]);return result===null?null:[result[0],result[2]]}
templateContents=choice([function(){var res=sequence([choice([templateWithReplacement,templateWithOutReplacement]),nOrMore(0,templateParam)]);return res===null?null:res[0].concat(res[1])},function(){var res=sequence([templateName,nOrMore(0,templateParam)]);if(res===null){return null}
return[res[0]].concat(res[1])}]);openTemplate=makeStringParser('{{');closeTemplate=makeStringParser('}}');function template(){var result=sequence([openTemplate,templateContents,closeTemplate]);return result===null?null:result[1]}
expression=choice([template,replacement,literal]);paramExpression=choice([template,replacement,literalWithoutBar]);function start(){var result=nOrMore(0,expression)();if(result===null){return null}
return['CONCAT'].concat(result)}
result=start();if(result===null||pos!==message.length){throw new Error('Parse error at position '+pos.toString()+' in input: '+message)}
return result}};$.extend($.i18n.parser,new MessageParser())}(jQuery));/*!
 * jQuery Internationalization library
 *
 * Copyright (C) 2011-2013 Santhosh Thottingal, Neil Kandalgaonkar
 *
 * jquery.i18n is dual licensed GPLv2 or later and MIT. You don't have to do
 * anything special to choose one license or the other and you don't have to
 * notify anyone which license you are using. You are free to use
 * UniversalLanguageSelector in commercial projects as long as the copyright
 * header is left intact. See files GPL-LICENSE and MIT-LICENSE for details.
 *
 * @licence GNU General Public Licence 2.0 or later
 * @licence MIT License
 */
(function($){'use strict';var MessageParserEmitter=function(){this.language=$.i18n.languages[String.locale]||$.i18n.languages['default']};MessageParserEmitter.prototype={constructor:MessageParserEmitter,emit:function(node,replacements){var ret,subnodes,operation,messageParserEmitter=this;switch(typeof node){case 'string':case 'number':ret=node;break;case 'object':subnodes=$.map(node.slice(1),function(n){return messageParserEmitter.emit(n,replacements)});operation=node[0].toLowerCase();if(typeof messageParserEmitter[operation]==='function'){ret=messageParserEmitter[operation](subnodes,replacements)}else{throw new Error('unknown operation "'+operation+'"')}
break;case 'undefined':ret='';break;default:throw new Error('unexpected type in AST: '+typeof node)}
return ret},concat:function(nodes){var result='';$.each(nodes,function(i,node){result+=node});return result},replace:function(nodes,replacements){var index=parseInt(nodes[0],10);if(index<replacements.length){return replacements[index]}else{return'$'+(index+1)}},plural:function(nodes){var count=parseFloat(this.language.convertNumber(nodes[0],10)),forms=nodes.slice(1);return forms.length?this.language.convertPlural(count,forms):''},gender:function(nodes){var gender=nodes[0],forms=nodes.slice(1);return this.language.gender(gender,forms)},grammar:function(nodes){var form=nodes[0],word=nodes[1];return word&&form&&this.language.convertGrammar(word,form)}};$.extend($.i18n.parser.emitter,new MessageParserEmitter())}(jQuery));(function($){'use strict';var obj={};const datatrans='data-i18n',transDir='/assets/__translation/';$.WOLF.translate={path:function(sheet,lang=$('html').attr('lang')){return transDir+sheet+'/'+lang+'.json'},init:function(sheet=null,lang=$('html').attr('lang')){if(!sheet||$('html').hasClass('notrans'))
return $('['+datatrans+']').removeAttr(datatrans);else return $.i18n().load({'de':this.path(sheet,lang)+'?v=1.'+getRandom()}).done(function(){$('['+datatrans+']').i18n()})}}})(jQuery);jQuery(function($){jQuery(function(){})});function changeLang(lang='en'){$.i18n().locale=lang;$('[data-i18n]').i18n()}
function startLang(lang='en'){if($('html').hasAttr('lang'))lang=$('html').attr('lang');$.i18n().locale=lang;$('[data-i18n]').i18n()}
$.WOLF.lang={get:function(key,fallback){try{if($.i18n(key)&&$.i18n(key)!==key)return $.i18n(key);else return fallback}catch(e){return fallback}},};(function($){'use strict';$.WOLF.config={autoinit:{nav_deep:['$.WOLF.core.nav_deep.init','.nav-deep',{speed:150},!0],btn_toggle:['$.WOLF.core.btn_toggle.init','.btn-toggle',null,!0],timeago:['$.WOLF.core.utils.init','',{selector__initialFromString:".sow-util-initials",selector__timeAgo:".sow-util-timeago",selector__cookie:".sow-util-cookie",selector__slideshow:".sow-util-slideshow",selector__cloner:".sow-util-cloner",selector__action:".sow-util-action",lang__timeAgo:{seconds:"less than a minute ago",minute:"about a minute ago",minutes:"%d minutes ago",hour:"about an hour ago",hours:"about %d hours ago",day:"a day ago",days:"%d days ago",month:"about a month ago",months:"%d months ago",year:"about a year ago",years:"%d years ago"}},!0],slimscroll:['$.WOLF.vendor.slimscroll.init','.slimscroll',{height:"100%",color:"#444",size:"1px",railColor:"#000",railOpacity:0.5,alwaysVisible:!1,railVisible:!0,distance:"0",wheelStep:10,allowPageScroll:!1,disableFadeOut:!1},!0],chartjs:['$.WOLF.vendor.chartjs.init','.chartjs',null,!0],svg:['$.WOLF.vendor.svg.init','img.icon[name]',null,!0],tooltipster:['$.WOLF.vendor.wolftip.init','.wolfitip',null,!0],index:['$.WOLF.vendor.index.init','.indexline',null,!0],fieldset:['$.WOLF.core.fieldset.init','fieldset[data-control][data-variable]:not(.done)'],daterangepicker:['$.WOLF.vendor.daterangepicker.init','.rangepicker',null,!0],chosen_select:['$.WOLF.vendor.chosen_select.init','select.chosen-select',null,!0],bootstrap_select:['$.WOLF.vendor.bootstrap_select.init','select:not(".chosen-select")',null,!0],summernoteeditor:['$.WOLF.vendor.summernote.init','.wolfieditor',null,!0],sortable:['$.WOLF.vendor.sortable.init','.sortable',null,!0]}}})(jQuery)